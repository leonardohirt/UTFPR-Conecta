var yC=Object.create;var _s=Object.defineProperty,_C=Object.defineProperties,wC=Object.getOwnPropertyDescriptor,bC=Object.getOwnPropertyDescriptors,EC=Object.getOwnPropertyNames,_v=Object.getOwnPropertySymbols,DC=Object.getPrototypeOf,bv=Object.prototype.hasOwnProperty,CC=Object.prototype.propertyIsEnumerable;var wv=(n,t,e)=>t in n?_s(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,C=(n,t)=>{for(var e in t||={})bv.call(t,e)&&wv(n,e,t[e]);if(_v)for(var e of _v(t))CC.call(t,e)&&wv(n,e,t[e]);return n},H=(n,t)=>_C(n,bC(t));var IC=(n,t)=>()=>(n&&(t=n(n=0)),t);var qr=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),SC=(n,t)=>{for(var e in t)_s(n,e,{get:t[e],enumerable:!0})},Ev=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of EC(t))!bv.call(n,i)&&i!==e&&_s(n,i,{get:()=>t[i],enumerable:!(r=wC(t,i))||r.enumerable});return n};var TC=(n,t,e)=>(e=n!=null?yC(DC(n)):{},Ev(t||!n||!n.__esModule?_s(e,"default",{value:n,enumerable:!0}):e,n)),Ki=n=>Ev(_s({},"__esModule",{value:!0}),n);var h=(n,t,e)=>new Promise((r,i)=>{var o=c=>{try{a(e.next(c))}catch(l){i(l)}},s=c=>{try{a(e.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((e=e.apply(n,t)).next())});var Yr={};SC(Yr,{__addDisposableResource:()=>sy,__assign:()=>Rc,__asyncDelegator:()=>Xv,__asyncGenerator:()=>kc,__asyncValues:()=>Pc,__await:()=>yn,__awaiter:()=>T,__classPrivateFieldGet:()=>ry,__classPrivateFieldIn:()=>oy,__classPrivateFieldSet:()=>iy,__createBinding:()=>Oc,__decorate:()=>Bv,__disposeResources:()=>ay,__esDecorate:()=>Hv,__exportStar:()=>Zv,__extends:()=>Uv,__generator:()=>Kv,__importDefault:()=>ny,__importStar:()=>ty,__makeTemplateObject:()=>ey,__metadata:()=>Wv,__param:()=>$v,__propKey:()=>qv,__read:()=>Ff,__rest:()=>Vn,__rewriteRelativeImportExtension:()=>cy,__runInitializers:()=>zv,__setFunctionName:()=>Gv,__spread:()=>Jv,__spreadArray:()=>Qv,__spreadArrays:()=>Yv,__values:()=>Nc,default:()=>$C});function Uv(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kf(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Vn(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e}function Bv(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}function $v(n,t){return function(e,r){t(e,r,n)}}function Hv(n,t,e,r,i,o){function s(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&n?r.static?n:n.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d,p=!1,f=e.length-1;f>=0;f--){var v={};for(var w in r)v[w]=w==="access"?{}:r[w];for(var w in r.access)v.access[w]=r.access[w];v.addInitializer=function(b){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(b||null))};var _=(0,e[f])(a==="accessor"?{get:u.get,set:u.set}:u[c],v);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=s(_.get))&&(u.get=d),(d=s(_.set))&&(u.set=d),(d=s(_.init))&&i.unshift(d)}else(d=s(_))&&(a==="field"?i.unshift(d):u[c]=d)}l&&Object.defineProperty(l,r.name,u),p=!0}function zv(n,t,e){for(var r=arguments.length>2,i=0;i<t.length;i++)e=r?t[i].call(n,e):t[i].call(n);return r?e:void 0}function qv(n){return typeof n=="symbol"?n:"".concat(n)}function Gv(n,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function Wv(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function T(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}function Kv(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(e=0)),e;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(u){l=[6,u],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Zv(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Oc(t,n,e)}function Nc(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ff(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function Jv(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Ff(arguments[t]));return n}function Yv(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Qv(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))}function yn(n){return this instanceof yn?(this.v=n,this):new yn(n)}function kc(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(v){return Promise.resolve(v).then(f,d)}}function a(f,v){r[f]&&(i[f]=function(w){return new Promise(function(_,b){o.push([f,w,_,b])>1||c(f,w)})},v&&(i[f]=v(i[f])))}function c(f,v){try{l(r[f](v))}catch(w){p(o[0][3],w)}}function l(f){f.value instanceof yn?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,v){f(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Xv(n){var t,e;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=n[i]?function(s){return(e=!e)?{value:yn(n[i](s)),done:!1}:o?o(s):s}:o}}function Pc(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof Nc=="function"?Nc(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}function ey(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function ty(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e=Pf(n),r=0;r<e.length;r++)e[r]!=="default"&&Oc(t,n,e[r]);return UC(t,n),t}function ny(n){return n&&n.__esModule?n:{default:n}}function ry(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function iy(n,t,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e}function oy(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function sy(n,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],e&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:t,dispose:r,async:e})}else e&&n.stack.push({async:!0});return t}function ay(n){function t(o){n.error=n.hasError?new BC(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var e,r=0;function i(){for(;e=n.stack.pop();)try{if(!e.async&&r===1)return r=0,n.stack.push(e),Promise.resolve().then(i);if(e.dispose){var o=e.dispose.call(e.value);if(e.async)return r|=2,Promise.resolve(o).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function cy(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,i,o,s){return r?t?".jsx":".js":i&&(!o||!s)?e:i+o+"."+s.toLowerCase()+"js"}):n}var kf,Rc,Oc,UC,Pf,BC,$C,Ee=IC(()=>{"use strict";kf=function(n,t){return kf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},kf(n,t)};Rc=function(){return Rc=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Rc.apply(this,arguments)};Oc=Object.create?function(n,t,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,i)}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]};UC=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t},Pf=function(n){return Pf=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[e.length]=r);return e},Pf(n)};BC=typeof SuppressedError=="function"?SuppressedError:function(n,t,e){var r=new Error(e);return r.name="SuppressedError",r.error=n,r.suppressed=t,r};$C={__extends:Uv,__assign:Rc,__rest:Vn,__decorate:Bv,__param:$v,__esDecorate:Hv,__runInitializers:zv,__propKey:qv,__setFunctionName:Gv,__metadata:Wv,__awaiter:T,__generator:Kv,__createBinding:Oc,__exportStar:Zv,__values:Nc,__read:Ff,__spread:Jv,__spreadArrays:Yv,__spreadArray:Qv,__await:yn,__asyncGenerator:kc,__asyncDelegator:Xv,__asyncValues:Pc,__makeTemplateObject:ey,__importStar:ty,__importDefault:ny,__classPrivateFieldGet:ry,__classPrivateFieldSet:iy,__classPrivateFieldIn:oy,__addDisposableResource:sy,__disposeResources:ay,__rewriteRelativeImportExtension:cy}});var km=qr(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});var Nm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Om.default=Nm});var Lm=qr(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});var pO=(Ee(),Ki(Yr)),gO=pO.__importDefault(km()),Pm=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,c,l;let u=null,d=null,p=null,f=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){let j=yield o.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=j:d=JSON.parse(j))}let _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&b&&b.length>1&&(p=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let _=yield o.text();try{u=JSON.parse(_),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,v="OK")}catch{o.status===404&&_===""?(f=204,v="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new gO.default(u)}return{error:u,data:d,count:p,status:f,statusText:v}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,c,l,u,d;let p="",f=o?.cause;if(f){let v=(s=f?.message)!==null&&s!==void 0?s:"",w=(a=f?.code)!==null&&a!==void 0?a:"";p=`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,p+=`

Caused by: ${(l=f?.name)!==null&&l!==void 0?l:"Error"}: ${v}`,w&&(p+=` (${w})`),f?.stack&&(p+=`
${f.stack}`)}else p=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}};Fm.default=Pm});var Um=qr(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});var mO=(Ee(),Ki(Yr)),vO=mO.__importDefault(Lm()),jm=class extends vO.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Vm.default=jm});var Dd=qr($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});var yO=(Ee(),Ki(Yr)),_O=yO.__importDefault(Um()),wO=new RegExp("[,()]"),Bm=class extends _O.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&wO.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};$m.default=Bm});var qm=qr(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});var bO=(Ee(),Ki(Yr)),Ja=bO.__importDefault(Dd()),Hm=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(t,e){let{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET",s=!1,a=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new Ja.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;let o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ja.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ja.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;let i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Ja.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ja.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};zm.default=Hm});var XE=qr(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});var QE=(Ee(),Ki(Yr)),EO=QE.__importDefault(qm()),DO=QE.__importDefault(Dd()),Gm=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(e),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let e=new URL(`${this.url}/${t}`);return new EO.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(e).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{c.searchParams.append(d,p)})):(a="POST",l=e);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new DO.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Wm.default=Gm});var sD=qr(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;var ss=(Ee(),Ki(Yr)),eD=ss.__importDefault(XE());_t.PostgrestClient=eD.default;var tD=ss.__importDefault(qm());_t.PostgrestQueryBuilder=tD.default;var nD=ss.__importDefault(Dd());_t.PostgrestFilterBuilder=nD.default;var rD=ss.__importDefault(Um());_t.PostgrestTransformBuilder=rD.default;var iD=ss.__importDefault(Lm());_t.PostgrestBuilder=iD.default;var oD=ss.__importDefault(km());_t.PostgrestError=oD.default;_t.default={PostgrestClient:eD.default,PostgrestQueryBuilder:tD.default,PostgrestFilterBuilder:nD.default,PostgrestTransformBuilder:rD.default,PostgrestBuilder:iD.default,PostgrestError:oD.default}});var vf;function pc(){return vf}function vn(n){let t=vf;return vf=n,t}var Dv=Symbol("NotFound");function Zi(n){return n===Dv||n?.name==="\u0275NotFound"}var it=null,gc=!1,yf=1,xC=null,ot=Symbol("SIGNAL");function q(n){let t=it;return it=n,t}function _c(){return it}var Gr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ji(n){if(gc)throw new Error("");if(it===null)return;it.consumerOnSignalRead(n);let t=it.producersTail;if(t!==void 0&&t.producer===n)return;let e,r=it.recomputing;if(r&&(e=t!==void 0?t.nextProducer:it.producers,e!==void 0&&e.producer===n)){it.producersTail=e,e.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===it&&(!r||AC(i,it)))return;let o=Xi(it),s={producer:n,consumer:it,nextProducer:e,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};it.producersTail=s,t!==void 0?t.nextProducer=s:it.producers=s,o&&Tv(n,s)}function Cv(){yf++}function wc(n){if(!(Xi(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===yf)){if(!n.producerMustRecompute(n)&&!Qi(n)){yc(n);return}n.producerRecomputeValue(n),yc(n)}}function _f(n){if(n.consumers===void 0)return;let t=gc;gc=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let r=e.consumer;r.dirty||MC(r)}}finally{gc=t}}function wf(){return it?.consumerAllowSignalWrites!==!1}function MC(n){n.dirty=!0,_f(n),n.consumerMarkedDirty?.(n)}function yc(n){n.dirty=!1,n.lastCleanEpoch=yf}function Wr(n){return n&&Iv(n),q(n)}function Iv(n){n.producersTail=void 0,n.recomputing=!0}function Yi(n,t){q(t),n&&Sv(n)}function Sv(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(Xi(n))do e=bf(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Qi(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,r=t.lastReadVersion;if(r!==e.version||(wc(e),r!==e.version))return!0}return!1}function Kr(n){if(Xi(n)){let t=n.producers;for(;t!==void 0;)t=bf(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Tv(n,t){let e=n.consumersTail,r=Xi(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)Tv(i.producer,i)}function bf(n){let t=n.producer,e=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!Xi(t)){let o=t.producers;for(;o!==void 0;)o=bf(o)}return e}function Xi(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function bc(n){xC?.(n)}function AC(n,t){let e=t.producersTail;if(e!==void 0){let r=t.producers;do{if(r===n)return!0;if(r===e)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ec(n,t){return Object.is(n,t)}function Dc(n,t){let e=Object.create(RC);e.computation=n,t!==void 0&&(e.equal=t);let r=()=>{if(wc(e),Ji(e),e.value===ws)throw e.error;return e.value};return r[ot]=e,bc(e),r}var mc=Symbol("UNSET"),vc=Symbol("COMPUTING"),ws=Symbol("ERRORED"),RC=H(C({},Gr),{value:mc,dirty:!0,error:null,equal:Ec,kind:"computed",producerMustRecompute(n){return n.value===mc||n.value===vc},producerRecomputeValue(n){if(n.value===vc)throw new Error("");let t=n.value;n.value=vc;let e=Wr(n),r,i=!1;try{r=n.computation(),q(null),i=t!==mc&&t!==ws&&r!==ws&&n.equal(t,r)}catch(o){r=ws,n.error=o}finally{Yi(n,e)}if(i){n.value=t;return}n.value=r,n.version++}});function NC(){throw new Error}var xv=NC;function Mv(n){xv(n)}function Ef(n){xv=n}var OC=null;function Df(n,t){let e=Object.create(Cc);e.value=n,t!==void 0&&(e.equal=t);let r=()=>Av(e);return r[ot]=e,bc(e),[r,s=>eo(e,s),s=>Cf(e,s)]}function Av(n){return Ji(n),n.value}function eo(n,t){wf()||Mv(n),n.equal(n.value,t)||(n.value=t,kC(n))}function Cf(n,t){wf()||Mv(n),eo(n,t(n.value))}var Cc=H(C({},Gr),{equal:Ec,value:void 0,kind:"signal"});function kC(n){n.version++,Cv(),_f(n),OC?.(n)}function G(n){return typeof n=="function"}function to(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ic=to(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function bs(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Le=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){t=o instanceof Ic?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Rv(o)}catch(s){t=t??[],s instanceof Ic?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ic(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Rv(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&bs(e,t)}remove(t){let{_finalizers:e}=this;e&&bs(e,t),t instanceof n&&t._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var If=Le.EMPTY;function Sc(n){return n instanceof Le||n&&"closed"in n&&G(n.remove)&&G(n.add)&&G(n.unsubscribe)}function Rv(n){G(n)?n():n.unsubscribe()}var en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var no={setTimeout(n,t,...e){let{delegate:r}=no;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=no;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Tc(n){no.setTimeout(()=>{let{onUnhandledError:t}=en;if(t)t(n);else throw n})}function Es(){}var Nv=Sf("C",void 0,void 0);function Ov(n){return Sf("E",void 0,n)}function kv(n){return Sf("N",n,void 0)}function Sf(n,t,e){return{kind:n,value:t,error:e}}var Zr=null;function ro(n){if(en.useDeprecatedSynchronousErrorHandling){let t=!Zr;if(t&&(Zr={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Zr;if(Zr=null,e)throw r}}else n()}function Pv(n){en.useDeprecatedSynchronousErrorHandling&&Zr&&(Zr.errorThrown=!0,Zr.error=n)}var Jr=class extends Le{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Sc(t)&&t.add(this)):this.destination=LC}static create(t,e,r){return new io(t,e,r)}next(t){this.isStopped?xf(kv(t),this):this._next(t)}error(t){this.isStopped?xf(Ov(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?xf(Nv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PC=Function.prototype.bind;function Tf(n,t){return PC.call(n,t)}var Mf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){xc(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){xc(r)}else xc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){xc(e)}}},io=class extends Jr{constructor(t,e,r){super();let i;if(G(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&en.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Tf(t.next,o),error:t.error&&Tf(t.error,o),complete:t.complete&&Tf(t.complete,o)}):i=t}this.destination=new Mf(i)}};function xc(n){en.useDeprecatedSynchronousErrorHandling?Pv(n):Tc(n)}function FC(n){throw n}function xf(n,t){let{onStoppedNotification:e}=en;e&&no.setTimeout(()=>e(n,t))}var LC={closed:!0,next:Es,error:FC,complete:Es};var oo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(n){return n}function Af(...n){return Rf(n)}function Rf(n){return n.length===0?Rt:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var Y=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=VC(e)?e:new io(e,r,i);return ro(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Fv(r),new r((i,o)=>{let s=new io({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[oo](){return this}pipe(...e){return Rf(e)(this)}toPromise(e){return e=Fv(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function Fv(n){var t;return(t=n??en.Promise)!==null&&t!==void 0?t:Promise}function jC(n){return n&&G(n.next)&&G(n.error)&&G(n.complete)}function VC(n){return n&&n instanceof Jr||jC(n)&&Sc(n)}function Nf(n){return G(n?.lift)}function re(n){return t=>{if(Nf(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(n,t,e,r,i){return new Of(n,t,e,r,i)}var Of=class extends Jr{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function so(){return re((n,t)=>{let e=null;n._refCount++;let r=te(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var ao=class extends Y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Nf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Le;let e=this.getSubject();t.add(this.source.subscribe(te(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Le.EMPTY)}return t}refCount(){return so()(this)}};var Lv=to(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class n extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Mc(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Lv}next(e){ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?If:(this.currentObservers=null,o.push(e),new Le(()=>{this.currentObservers=null,bs(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new Y;return e.source=this,e}}return n.create=(t,e)=>new Mc(t,e),n})(),Mc=class extends je{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:If}};var Qe=class extends je{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var wt=new Y(n=>n.complete());function jv(n){return n&&G(n.schedule)}function Vv(n){return n[n.length-1]}function Ac(n){return G(Vv(n))?n.pop():void 0}function dr(n){return jv(Vv(n))?n.pop():void 0}Ee();var Fc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Lc(n){return G(n?.then)}function jc(n){return G(n[oo])}function Vc(n){return Symbol.asyncIterator&&G(n?.[Symbol.asyncIterator])}function Uc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function HC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bc=HC();function $c(n){return G(n?.[Bc])}Ee();function Hc(n){return kc(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield yn(e.read());if(i)return yield yn(void 0);yield yield yn(r)}}finally{e.releaseLock()}})}function zc(n){return G(n?.getReader)}function Ve(n){if(n instanceof Y)return n;if(n!=null){if(jc(n))return zC(n);if(Fc(n))return qC(n);if(Lc(n))return GC(n);if(Vc(n))return ly(n);if($c(n))return WC(n);if(zc(n))return KC(n)}throw Uc(n)}function zC(n){return new Y(t=>{let e=n[oo]();if(G(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qC(n){return new Y(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function GC(n){return new Y(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Tc)})}function WC(n){return new Y(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function ly(n){return new Y(t=>{ZC(n,t).catch(e=>t.error(e))})}function KC(n){return ly(Hc(n))}function ZC(n,t){var e,r,i,o;return T(this,void 0,void 0,function*(){try{for(e=Pc(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function bt(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function qc(n,t=0){return re((e,r)=>{e.subscribe(te(r,i=>bt(r,n,()=>r.next(i),t),()=>bt(r,n,()=>r.complete(),t),i=>bt(r,n,()=>r.error(i),t)))})}function Gc(n,t=0){return re((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function uy(n,t){return Ve(n).pipe(Gc(t),qc(t))}function dy(n,t){return Ve(n).pipe(Gc(t),qc(t))}function fy(n,t){return new Y(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function hy(n,t){return new Y(e=>{let r;return bt(e,t,()=>{r=n[Bc](),bt(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function Wc(n,t){if(!n)throw new Error("Iterable cannot be null");return new Y(e=>{bt(e,t,()=>{let r=n[Symbol.asyncIterator]();bt(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function py(n,t){return Wc(Hc(n),t)}function gy(n,t){if(n!=null){if(jc(n))return uy(n,t);if(Fc(n))return fy(n,t);if(Lc(n))return dy(n,t);if(Vc(n))return Wc(n,t);if($c(n))return hy(n,t);if(zc(n))return py(n,t)}throw Uc(n)}function ye(n,t){return t?gy(n,t):Ve(n)}function P(...n){let t=dr(n);return ye(n,t)}function co(n,t){let e=G(n)?n:()=>n,r=i=>i.error(e());return new Y(t?i=>t.schedule(r,0,i):r)}function Lf(n){return!!n&&(n instanceof Y||G(n.lift)&&G(n.subscribe))}var Un=to(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function V(n,t){return re((e,r)=>{let i=0;e.subscribe(te(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:JC}=Array;function YC(n,t){return JC(t)?n(...t):n(t)}function Kc(n){return V(t=>YC(n,t))}var{isArray:QC}=Array,{getPrototypeOf:XC,prototype:eI,keys:tI}=Object;function Zc(n){if(n.length===1){let t=n[0];if(QC(t))return{args:t,keys:null};if(nI(t)){let e=tI(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function nI(n){return n&&typeof n=="object"&&XC(n)===eI}function Jc(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Ds(...n){let t=dr(n),e=Ac(n),{args:r,keys:i}=Zc(n);if(r.length===0)return ye([],t);let o=new Y(rI(r,t,i?s=>Jc(i,s):Rt));return e?o.pipe(Kc(e)):o}function rI(n,t,e=Rt){return r=>{my(t,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)my(t,()=>{let l=ye(n[c],t),u=!1;l.subscribe(te(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function my(n,t,e){n?bt(e,n,t):t()}function vy(n,t,e,r,i,o,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&t.complete()},f=w=>l<r?v(w):c.push(w),v=w=>{o&&t.next(w),l++;let _=!1;Ve(e(w,u++)).subscribe(te(t,b=>{i?.(b),o?f(b):t.next(b)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let b=c.shift();s?bt(t,s,()=>v(b)):v(b)}p()}catch(b){t.error(b)}}))};return n.subscribe(te(t,f,()=>{d=!0,p()})),()=>{a?.()}}function Oe(n,t,e=1/0){return G(t)?Oe((r,i)=>V((o,s)=>t(r,o,i,s))(Ve(n(r,i))),e):(typeof t=="number"&&(e=t),re((r,i)=>vy(r,i,n,e)))}function lo(n=1/0){return Oe(Rt,n)}function yy(){return lo(1)}function uo(...n){return yy()(ye(n,dr(n)))}function Cs(n){return new Y(t=>{Ve(n()).subscribe(t)})}function jf(...n){let t=Ac(n),{args:e,keys:r}=Zc(n),i=new Y(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ve(e[u]).subscribe(te(o,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Jc(r,a):a),o.complete())}))}});return t?i.pipe(Kc(t)):i}function st(n,t){return re((e,r)=>{let i=0;e.subscribe(te(r,o=>n.call(t,o,i++)&&r.next(o)))})}function Bn(n){return re((t,e)=>{let r=null,i=!1,o;r=t.subscribe(te(e,void 0,void 0,s=>{o=Ve(n(s,Bn(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function _y(n,t,e,r,i){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(te(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function _n(n,t){return G(t)?Oe(n,t,1):Oe(n,1)}function fr(n){return re((t,e)=>{let r=!1;t.subscribe(te(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function $n(n){return n<=0?()=>wt:re((t,e)=>{let r=0;t.subscribe(te(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Yc(n=iI){return re((t,e)=>{let r=!1;t.subscribe(te(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function iI(){return new Un}function Qr(n){return re((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Hn(n,t){let e=arguments.length>=2;return r=>r.pipe(n?st((i,o)=>n(i,o,r)):Rt,$n(1),e?fr(t):Yc(()=>new Un))}function fo(n){return n<=0?()=>wt:re((t,e)=>{let r=[];t.subscribe(te(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Vf(n,t){let e=arguments.length>=2;return r=>r.pipe(n?st((i,o)=>n(i,o,r)):Rt,fo(1),e?fr(t):Yc(()=>new Un))}function Uf(n,t){return re(_y(n,t,arguments.length>=2,!0))}function Bf(...n){let t=dr(n);return re((e,r)=>{(t?uo(n,e,t):uo(n,e)).subscribe(r)})}function Xe(n,t){return re((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(te(r,c=>{i?.unsubscribe();let l=0,u=o++;Ve(n(c,u)).subscribe(i=te(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qc(n){return re((t,e)=>{Ve(n).subscribe(te(e,()=>e.complete(),Es)),!e.closed&&t.subscribe(e)})}function ke(n,t,e){let r=G(n)||t||e?{next:n,error:t,complete:e}:n;return r?re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(te(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Rt}function wy(n){let t=q(null);try{return n()}finally{q(t)}}var by=H(C({},Gr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Ey(n){if(n.dirty=!1,n.version>0&&!Qi(n))return;n.version++;let t=Wr(n);try{n.cleanup(),n.fn()}finally{Yi(n,t)}}var nl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",S=class extends Error{code;constructor(t,e){super(wn(t,e)),this.code=t}};function oI(n){return`NG0${Math.abs(n)}`}function wn(n,t){return`${oI(n)}${t?": "+t:""}`}var Gn=globalThis;function le(n){for(let t in n)if(n[t]===le)return t;throw Error("")}function Iy(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function qn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(qn).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function rl(n,t){return n?t?`${n} ${t}`:n:t||""}var sI=le({__forward_ref__:le});function nn(n){return n.__forward_ref__=nn,n.toString=function(){return qn(this())},n}function et(n){return Qf(n)?n():n}function Qf(n){return typeof n=="function"&&n.hasOwnProperty(sI)&&n.__forward_ref__===nn}function M(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ms(n){return aI(n,il)}function Xf(n){return Ms(n)!==null}function aI(n,t){return n.hasOwnProperty(t)&&n[t]||null}function cI(n){let t=n?.[il]??null;return t||null}function Hf(n){return n&&n.hasOwnProperty(el)?n[el]:null}var il=le({\u0275prov:le}),el=le({\u0275inj:le}),A=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=M({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function eh(n){return n&&!!n.\u0275providers}var th=le({\u0275cmp:le}),nh=le({\u0275dir:le}),rh=le({\u0275pipe:le}),ih=le({\u0275mod:le}),Ss=le({\u0275fac:le}),ri=le({__NG_ELEMENT_ID__:le}),Dy=le({__NG_ENV_ID__:le});function gr(n){return typeof n=="string"?n:n==null?"":String(n)}function Sy(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():gr(n)}var Ty=le({ngErrorCode:le}),lI=le({ngErrorMessage:le}),uI=le({ngTokenPath:le});function oh(n,t){return xy("",-200,t)}function ol(n,t){throw new S(-201,!1)}function xy(n,t,e){let r=new S(t,n);return r[Ty]=t,r[lI]=n,e&&(r[uI]=e),r}function dI(n){return n[Ty]}var zf;function My(){return zf}function dt(n){let t=zf;return zf=n,t}function sh(n,t,e){let r=Ms(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&8)return null;if(t!==void 0)return t;ol(n,"Injector")}var fI={},Xr=fI,hI="__NG_DI_FLAG__",qf=class{injector;constructor(t){this.injector=t}retrieve(t,e){let r=ei(e)||0;try{return this.injector.get(t,r&8?null:Xr,r)}catch(i){if(Zi(i))return i;throw i}}};function pI(n,t=0){let e=pc();if(e===void 0)throw new S(-203,!1);if(e===null)return sh(n,void 0,t);{let r=gI(t),i=e.retrieve(n,r);if(Zi(i)){if(r.optional)return null;throw i}return i}}function O(n,t=0){return(My()||pI)(et(n),t)}function D(n,t){return O(n,ei(t))}function ei(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gI(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Gf(n){let t=[];for(let e=0;e<n.length;e++){let r=et(n[e]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=mI(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(O(i,o))}else t.push(O(r))}return t}function mI(n){return n[hI]}function hr(n,t){let e=n.hasOwnProperty(Ss);return e?n[Ss]:null}function sl(n,t){n.forEach(e=>Array.isArray(e)?sl(e,t):t(e))}function ah(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function As(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ay(n,t){let e=[];for(let r=0;r<n;r++)e.push(t);return e}function Ry(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function al(n,t,e){let r=po(n,t);return r>=0?n[r|1]=e:(r=~r,Ry(n,r,t,e)),r}function cl(n,t){let e=po(n,t);if(e>=0)return n[e|1]}function po(n,t){return vI(n,t,1)}function vI(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var mr={},ft=[],vr=new A(""),ch=new A("",-1),lh=new A(""),Ts=class{get(t,e=Xr){if(e===Xr){let i=xy("",-201);throw i.name="\u0275NotFound",i}return e}};function uh(n){return n[ih]||null}function Wn(n){return n[th]||null}function dh(n){return n[nh]||null}function Ny(n){return n[rh]||null}function ii(n){return{\u0275providers:n}}function ll(...n){return{\u0275providers:fh(!0,n),\u0275fromNgModule:!0}}function fh(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return sl(t,s=>{let a=s;tl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Oy(i,o),e}function Oy(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];hh(i,o=>{t(o,r)})}}function tl(n,t,e,r){if(n=et(n),!n)return!1;let i=null,o=Hf(n),s=!o&&Wn(n);if(!o&&!s){let c=n.ngModule;if(o=Hf(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)tl(l,t,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{sl(o.imports,u=>{tl(u,t,e,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Oy(l,t)}if(!a){let l=hr(i)||(()=>new i);t({provide:i,useFactory:l,deps:ft},i),t({provide:lh,useValue:i,multi:!0},i),t({provide:vr,useValue:()=>O(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;hh(c,u=>{t(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function hh(n,t){for(let e of n)eh(e)&&(e=e.\u0275providers),Array.isArray(e)?hh(e,t):t(e)}var yI=le({provide:String,useValue:le});function ky(n){return n!==null&&typeof n=="object"&&yI in n}function _I(n){return!!(n&&n.useExisting)}function wI(n){return!!(n&&n.useFactory)}function ti(n){return typeof n=="function"}function Py(n){return!!n.useClass}var Rs=new A(""),Xc={},Cy={},$f;function Ns(){return $f===void 0&&($f=new Ts),$f}var Pe=class{},ni=class extends Pe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Kf(t,s=>this.processProvider(s)),this.records.set(ch,ho(void 0,this)),i.has("environment")&&this.records.set(Pe,ho(void 0,this));let o=this.records.get(Rs);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lh,ft,{self:!0}))}retrieve(t,e){let r=ei(e)||0;try{return this.get(t,Xr,r)}catch(i){if(Zi(i))return i;throw i}}destroy(){Is(this),this._destroyed=!0;let t=q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),q(t)}}onDestroy(t){return Is(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Is(this);let e=vn(this),r=dt(void 0),i;try{return t()}finally{vn(e),dt(r)}}get(t,e=Xr,r){if(Is(this),t.hasOwnProperty(Dy))return t[Dy](this);let i=ei(r),o,s=vn(this),a=dt(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=II(t)&&Ms(t);u&&this.injectableDefInScope(u)?l=ho(Wf(t),Xc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?Ns():this.parent;return e=i&8&&e===Xr?null:e,c.get(t,e)}catch(c){let l=dI(c);throw l===-200||l===-201?new S(l,null):c}finally{dt(a),vn(s)}}resolveInjectorInitializers(){let t=q(null),e=vn(this),r=dt(void 0),i;try{let o=this.get(vr,ft,{self:!0});for(let s of o)s()}finally{vn(e),dt(r),q(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(qn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=et(t);let e=ti(t)?t:et(t&&t.provide),r=EI(t);if(!ti(t)&&t.multi===!0){let i=this.records.get(e);i||(i=ho(void 0,Xc,!0),i.factory=()=>Gf(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){let i=q(null);try{if(e.value===Cy)throw oh(qn(t));return e.value===Xc&&(e.value=Cy,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&CI(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{q(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=et(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Wf(n){let t=Ms(n),e=t!==null?t.factory:hr(n);if(e!==null)return e;if(n instanceof A)throw new S(204,!1);if(n instanceof Function)return bI(n);throw new S(204,!1)}function bI(n){if(n.length>0)throw new S(204,!1);let e=cI(n);return e!==null?()=>e.factory(n):()=>new n}function EI(n){if(ky(n))return ho(void 0,n.useValue);{let t=ph(n);return ho(t,Xc)}}function ph(n,t,e){let r;if(ti(n)){let i=et(n);return hr(i)||Wf(i)}else if(ky(n))r=()=>et(n.useValue);else if(wI(n))r=()=>n.useFactory(...Gf(n.deps||[]));else if(_I(n))r=(i,o)=>O(et(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=et(n&&(n.useClass||n.provide));if(DI(n))r=()=>new i(...Gf(n.deps));else return hr(i)||Wf(i)}return r}function Is(n){if(n.destroyed)throw new S(205,!1)}function ho(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function DI(n){return!!n.deps}function CI(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function II(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Kf(n,t){for(let e of n)Array.isArray(e)?Kf(e,t):e&&eh(e)?Kf(e.\u0275providers,t):t(e)}function We(n,t){let e;n instanceof ni?(Is(n),e=n):e=new qf(n);let r,i=vn(e),o=dt(void 0);try{return t()}finally{vn(i),dt(o)}}function Fy(){return My()!==void 0||pc()!=null}var rn=0,B=1,U=2,tt=3,Vt=4,ht=5,go=6,mo=7,at=8,yr=9,bn=10,me=11,vo=12,gh=13,oi=14,Et=15,si=16,ai=17,ci=18,Os=19,mh=20,zn=21,ul=22,Kn=23,Ot=24,li=25,ks=26,Te=27,Ly=1;var _r=7,Ps=8,Fs=9,Dt=10;function En(n){return Array.isArray(n)&&typeof n[Ly]=="object"}function on(n){return Array.isArray(n)&&n[Ly]===!0}function vh(n){return(n.flags&4)!==0}function wr(n){return n.componentOffset>-1}function yo(n){return(n.flags&1)===1}function Dn(n){return!!n.template}function _o(n){return(n[U]&512)!==0}function ui(n){return(n[U]&256)===256}var yh="svg",jy="math";function Ut(n){for(;Array.isArray(n);)n=n[rn];return n}function _h(n,t){return Ut(t[n])}function sn(n,t){return Ut(t[n.index])}function dl(n,t){return n.data[t]}function fl(n,t){return n[t]}function wh(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function Bt(n,t){let e=t[n];return En(e)?e:e[rn]}function hl(n){return(n[U]&128)===128}function Vy(n){return on(n[tt])}function br(n,t){return t==null?null:n[t]}function bh(n){n[ai]=0}function Eh(n){n[U]&1024||(n[U]|=1024,hl(n)&&Er(n))}function Uy(n,t){for(;n>0;)t=t[oi],n--;return t}function Ls(n){return!!(n[U]&9216||n[Ot]?.dirty)}function pl(n){n[bn].changeDetectionScheduler?.notify(8),n[U]&64&&(n[U]|=1024),Ls(n)&&Er(n)}function Er(n){n[bn].changeDetectionScheduler?.notify(0);let t=pr(n);for(;t!==null&&!(t[U]&8192||(t[U]|=8192,!hl(t)));)t=pr(t)}function Dh(n,t){if(ui(n))throw new S(911,!1);n[zn]===null&&(n[zn]=[]),n[zn].push(t)}function By(n,t){if(n[zn]===null)return;let e=n[zn].indexOf(t);e!==-1&&n[zn].splice(e,1)}function pr(n){let t=n[tt];return on(t)?t[tt]:t}function $y(n){return n[mo]??=[]}function Hy(n){return n.cleanup??=[]}var J={lFrame:e0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zf=!1;function zy(){return J.lFrame.elementDepthCount}function qy(){J.lFrame.elementDepthCount++}function Ch(){J.lFrame.elementDepthCount--}function gl(){return J.bindingsEnabled}function Ih(){return J.skipHydrationRootTNode!==null}function Sh(n){return J.skipHydrationRootTNode===n}function Th(){J.skipHydrationRootTNode=null}function W(){return J.lFrame.lView}function Be(){return J.lFrame.tView}function X(n){return J.lFrame.contextLView=n,n[at]}function ee(n){return J.lFrame.contextLView=null,n}function $e(){let n=xh();for(;n!==null&&n.type===64;)n=n.parent;return n}function xh(){return J.lFrame.currentTNode}function Gy(){let n=J.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function wo(n,t){let e=J.lFrame;e.currentTNode=n,e.isParent=t}function Mh(){return J.lFrame.isParent}function Ah(){J.lFrame.isParent=!1}function Rh(){return Zf}function bo(n){let t=Zf;return Zf=n,t}function Eo(){let n=J.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Wy(){return J.lFrame.bindingIndex}function Ky(n){return J.lFrame.bindingIndex=n}function di(){return J.lFrame.bindingIndex++}function ml(n){let t=J.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Zy(){return J.lFrame.inI18n}function Jy(n,t){let e=J.lFrame;e.bindingIndex=e.bindingRootIndex=n,vl(t)}function Yy(){return J.lFrame.currentDirectiveIndex}function vl(n){J.lFrame.currentDirectiveIndex=n}function Qy(n){let t=J.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function Nh(n){J.lFrame.currentQueryIndex=n}function SI(n){let t=n[B];return t.type===2?t.declTNode:t.type===1?n[ht]:null}function Oh(n,t,e){if(e&4){let i=t,o=n;for(;i=i.parent,i===null&&!(e&1);)if(i=SI(o),i===null||(o=o[oi],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=J.lFrame=Xy();return r.currentTNode=t,r.lView=n,!0}function yl(n){let t=Xy(),e=n[B];J.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Xy(){let n=J.lFrame,t=n===null?null:n.child;return t===null?e0(n):t}function e0(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function t0(){let n=J.lFrame;return J.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var kh=t0;function _l(){let n=t0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function n0(n){return(J.lFrame.contextLView=Uy(n,J.lFrame.contextLView))[at]}function Zn(){return J.lFrame.selectedIndex}function Dr(n){J.lFrame.selectedIndex=n}function js(){let n=J.lFrame;return dl(n.tView,n.selectedIndex)}function pt(){J.lFrame.currentNamespace=yh}function Do(){TI()}function TI(){J.lFrame.currentNamespace=null}function r0(){return J.lFrame.currentNamespace}var i0=!0;function wl(){return i0}function Vs(n){i0=n}function Jf(n,t=null,e=null,r){let i=Ph(n,t,e,r);return i.resolveInjectorInitializers(),i}function Ph(n,t=null,e=null,r,i=new Set){let o=[e||ft,ll(n)];return r=r||(typeof n=="object"?void 0:qn(n)),new ni(o,t||Ns(),r||null,i)}var nt=class n{static THROW_IF_NOT_FOUND=Xr;static NULL=new Ts;static create(t,e){if(Array.isArray(t))return Jf({name:""},e,t,"");{let r=t.name??"";return Jf({name:r},t.parent,t.providers,r)}}static \u0275prov=M({token:n,providedIn:"any",factory:()=>O(ch)});static __NG_ELEMENT_ID__=-1},xe=new A(""),kt=(()=>{class n{static __NG_ELEMENT_ID__=xI;static __NG_ENV_ID__=e=>e}return n})(),xs=class extends kt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return ui(this._lView)}onDestroy(t){let e=this._lView;return Dh(e,t),()=>By(e,t)}};function xI(){return new xs(W())}var jt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Ct=new A("",{providedIn:"root",factory:()=>{let n=D(Pe),t;return e=>{n.destroyed&&!t?setTimeout(()=>{throw e}):(t??=n.get(jt),t.handleError(e))}}}),o0={provide:vr,useValue:()=>void D(jt),multi:!0};function Fh(n){return typeof n=="function"&&n[ot]!==void 0}function Ke(n,t){let[e,r,i]=Df(n,t?.equal),o=e,s=o[ot];return o.set=r,o.update=i,o.asReadonly=Lh.bind(o),o}function Lh(){let n=this[ot];if(n.readonlyFn===void 0){let t=()=>this();t[ot]=n,n.readonlyFn=t}return n.readonlyFn}function jh(n){return Fh(n)&&typeof n.set=="function"}var Co=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=MI}return n})();function MI(){return new Co(W(),$e())}var tn=class{},bl=new A("",{providedIn:"root",factory:()=>!1});var Vh=new A(""),Uh=new A(""),Cn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Qe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Y(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}return n})(),Us=(()=>{class n{internalPendingTasks=D(Cn);scheduler=D(tn);errorHandler=D(Ct);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let r=this.add();e().catch(this.errorHandler).finally(r)}static \u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}return n})();function fi(...n){}var Bs=(()=>{class n{static \u0275prov=M({token:n,providedIn:"root",factory:()=>new Yf})}return n})(),Yf=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,r]of this.queues)e===null?t||=this.flushQueue(r):t||=e.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,e=!0,r.run());return e}};function Ks(n){return{toString:n}.toString()}function PI(n){return typeof n=="function"}var Ml=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function k0(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var Yn=(()=>{let n=()=>P0;return n.ngInherit=!0,n})();function P0(n){return n.type.prototype.ngOnChanges&&(n.setInput=LI),FI}function FI(){let n=L0(this),t=n?.current;if(t){let e=n.previous;if(e===mr)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function LI(n,t,e,r,i){let o=this.declaredInputs[r],s=L0(n)||jI(n,{previous:mr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ml(l&&l.currentValue,e,c===mr),k0(n,t,i,e)}var F0="__ngSimpleChanges__";function L0(n){return n[F0]||null}function jI(n,t){return n[F0]=t}var s0=[];var de=function(n,t=null,e){for(let r=0;r<s0.length;r++){let i=s0[r];i(n,t,e)}};function VI(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=P0(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function j0(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),u!=null&&(n.destroyHooks??=[]).push(e,u)}}function Il(n,t,e){V0(n,t,3,e)}function Sl(n,t,e,r){(n[U]&3)===e&&V0(n,t,e,r)}function Bh(n,t){let e=n[U];(e&3)===t&&(e&=16383,e+=1,n[U]=e)}function V0(n,t,e,r){let i=r!==void 0?n[ai]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(n[ai]+=65536),(a<o||o==-1)&&(UI(n,e,t,c),n[ai]=(n[ai]&4294901760)+c+2),c++}function a0(n,t){de(4,n,t);let e=q(null);try{t.call(n)}finally{q(e),de(5,n,t)}}function UI(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=n[s];i?n[U]>>14<n[ai]>>16&&(n[U]&3)===t&&(n[U]+=16384,a0(a,o)):a0(a,o)}var So=-1,pi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=e,this.injectImpl=r}};function BI(n){return(n.flags&8)!==0}function $I(n){return(n.flags&16)!==0}function HI(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{let o=i,s=e[++r];zI(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function U0(n){return n===3||n===4||n===6}function zI(n){return n.charCodeAt(0)===64}function To(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?c0(n,e,i,null,t[++r]):c0(n,e,i,null,null))}}return n}function c0(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),i!==null&&n.splice(o++,0,i)}function B0(n){return n!==So}function Al(n){return n&32767}function qI(n){return n>>16}function Rl(n,t){let e=qI(n),r=t;for(;e>0;)r=r[oi],e--;return r}var Jh=!0;function Nl(n){let t=Jh;return Jh=n,t}var GI=256,$0=GI-1,H0=5,WI=0,In={};function KI(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(ri)&&(r=e[ri]),r==null&&(r=e[ri]=WI++);let i=r&$0,o=1<<i;t.data[n+(i>>H0)]|=o}function Ol(n,t){let e=z0(n,t);if(e!==-1)return e;let r=t[B];r.firstCreatePass&&(n.injectorIndex=t.length,$h(r.data,n),$h(t,null),$h(r.blueprint,null));let i=yp(n,t),o=n.injectorIndex;if(B0(i)){let s=Al(i),a=Rl(i,t),c=a[B].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function $h(n,t){n.push(0,0,0,0,0,0,0,0,t)}function z0(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function yp(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=Z0(i),r===null)return So;if(e++,i=i[oi],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return So}function Yh(n,t,e){KI(n,t,e)}function ZI(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(U0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function q0(n,t,e){if(e&8||n!==void 0)return n;ol(t,"NodeInjector")}function G0(n,t,e,r){if(e&8&&r===void 0&&(r=null),(e&3)===0){let i=n[yr],o=dt(void 0);try{return i?i.get(t,r,e&8):sh(t,r,e&8)}finally{dt(o)}}return q0(r,t,e)}function W0(n,t,e,r=0,i){if(n!==null){if(t[U]&2048&&!(r&2)){let s=eS(n,t,e,r,In);if(s!==In)return s}let o=K0(n,t,e,r,In);if(o!==In)return o}return G0(t,e,r,i)}function K0(n,t,e,r,i){let o=QI(e);if(typeof o=="function"){if(!Oh(t,n,r))return r&1?q0(i,e,r):G0(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ol(e);else return s}finally{kh()}}else if(typeof o=="number"){let s=null,a=z0(n,t),c=So,l=r&1?t[Et][ht]:null;for((a===-1||r&4)&&(c=a===-1?yp(n,t):t[a+8],c===So||!u0(r,!1)?a=-1:(s=t[B],a=Al(c),t=Rl(c,t)));a!==-1;){let u=t[B];if(l0(o,a,u.data)){let d=JI(a,t,e,s,r,l);if(d!==In)return d}c=t[a+8],c!==So&&u0(r,t[B].data[a+8]===l)&&l0(o,a,t)?(s=u,a=Al(c),t=Rl(c,t)):a=-1}}return i}function JI(n,t,e,r,i,o){let s=t[B],a=s.data[n+8],c=r==null?wr(a)&&Jh:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=YI(a,s,e,c,l);return u!==null?kl(t,s,u,a,i):In}function YI(n,t,e,r,i){let o=n.providerIndexes,s=t.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:l;for(let f=d;f<p;f++){let v=s[f];if(f<c&&e===v||f>=c&&v.type===e)return f}if(i){let f=s[c];if(f&&Dn(f)&&f.type===e)return c}return null}function kl(n,t,e,r,i){let o=n[e],s=t.data;if(o instanceof pi){let a=o;if(a.resolving){let f=Sy(s[e]);throw oh(f)}let c=Nl(a.canSeeViewProviders);a.resolving=!0;let l=s[e].type||s[e],u,d=a.injectImpl?dt(a.injectImpl):null,p=Oh(n,r,0);try{o=n[e]=a.factory(void 0,i,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&VI(e,s[e],t)}finally{d!==null&&dt(d),Nl(c),a.resolving=!1,kh()}}return o}function QI(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(ri)?n[ri]:void 0;return typeof t=="number"?t>=0?t&$0:XI:t}function l0(n,t,e){let r=1<<n;return!!(e[t+(n>>H0)]&r)}function u0(n,t){return!(n&2)&&!(n&1&&t)}var hi=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return W0(this._tNode,this._lView,t,ei(r),e)}};function XI(){return new hi($e(),W())}function Ir(n){return Ks(()=>{let t=n.prototype.constructor,e=t[Ss]||Qh(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ss]||Qh(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qh(n){return Qf(n)?()=>{let t=Qh(et(n));return t&&t()}:hr(n)}function eS(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[U]&2048&&!_o(s);){let a=K0(o,s,e,r|2,In);if(a!==In)return a;let c=o.parent;if(!c){let l=s[mh];if(l){let u=l.get(e,In,r);if(u!==In)return u}c=Z0(s),s=s[oi]}o=c}return i}function Z0(n){let t=n[B],e=t.type;return e===2?t.declTNode:e===1?n[ht]:null}function Zs(n){return ZI($e(),n)}function tS(){return Wl($e(),W())}function Wl(n,t){return new ln(sn(n,t))}var ln=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=tS}return n})();function J0(n){return(n.flags&128)===128}var _p=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(_p||{}),Y0=new Map,nS=0;function rS(){return nS++}function iS(n){Y0.set(n[Os],n)}function Xh(n){Y0.delete(n[Os])}var d0="__ngContext__";function xo(n,t){En(t)?(n[d0]=t[Os],iS(t)):n[d0]=t}function Q0(n){return e_(n[vo])}function X0(n){return e_(n[Vt])}function e_(n){for(;n!==null&&!on(n);)n=n[Vt];return n}var ep;function wp(n){ep=n}function t_(){if(ep!==void 0)return ep;if(typeof document<"u")return document;throw new S(210,!1)}var Kl=new A("",{providedIn:"root",factory:()=>oS}),oS="ng",Zl=new A(""),Js=new A("",{providedIn:"platform",factory:()=>"unknown"});var Jl=new A("",{providedIn:"root",factory:()=>t_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sS="h",aS="b";var n_=!1,r_=new A("",{providedIn:"root",factory:()=>n_});var bp=new A("");var cS=(n,t,e,r)=>{};function lS(n,t,e,r){cS(n,t,e,r)}function Yl(n){return(n.flags&32)===32}var uS=()=>null;function i_(n,t,e=!1){return uS(n,t,e)}function o_(n,t){let e=n.contentQueries;if(e!==null){let r=q(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=n.data[s];Nh(o),a.contentQueries(2,t[s],s)}}}finally{q(r)}}}function tp(n,t,e){Nh(0);let r=q(null);try{t(n,e)}finally{q(r)}}function Ep(n,t,e){if(vh(t)){let r=q(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{q(r)}}}var Jn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Jn||{});var El;function dS(){if(El===void 0&&(El=null,Gn.trustedTypes))try{El=Gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return El}function f0(n){return dS()?.createScriptURL(n)||n}var Pl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nl})`}};function Ro(n){return n instanceof Pl?n.changingThisBreaksApplicationSecurity:n}function Dp(n,t){let e=s_(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${nl})`)}return e===t}function s_(n){return n instanceof Pl&&n.getTypeName()||null}var fS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function a_(n){return n=String(n),n.match(fS)?n:"unsafe:"+n}var Ql=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Ql||{});function gt(n){let t=l_();return t?t.sanitize(Ql.URL,n)||"":Dp(n,"URL")?Ro(n):a_(gr(n))}function c_(n){let t=l_();if(t)return f0(t.sanitize(Ql.RESOURCE_URL,n)||"");if(Dp(n,"ResourceURL"))return f0(Ro(n));throw new S(904,!1)}function hS(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?c_:gt}function Cp(n,t,e){return hS(t,e)(n)}function l_(){let n=W();return n&&n[bn].sanitizer}var pS=/^>|^->|<!--|-->|--!>|<!-$/g,gS=/(<|>)/g,mS="\u200B$1\u200B";function vS(n){return n.replace(pS,t=>t.replace(gS,mS))}function u_(n){return n instanceof Function?n():n}function yS(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var d_="ng-template";function _S(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&yS(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Ip(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Ip(n){return n.type===4&&n.value!==d_}function wS(n,t,e){let r=n.type===4&&!e?d_:n.value;return t===r}function bS(n,t,e){let r=4,i=n.attrs,o=i!==null?CS(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!an(r)&&!an(c))return!1;if(s&&an(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!wS(n,c,e)||c===""&&t.length===1){if(an(r))return!1;s=!0}}else if(r&8){if(i===null||!_S(n,i,c,e)){if(an(r))return!1;s=!0}}else{let l=t[++a],u=ES(c,i,Ip(n),e);if(u===-1){if(an(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(an(r))return!1;s=!0}}}}return an(r)||s}function an(n){return(n&1)===0}function ES(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return IS(t,n)}function f_(n,t,e=!1){for(let r=0;r<t.length;r++)if(bS(n,t[r],e))return!0;return!1}function DS(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if((e&1)===0)return t[e+1]}return null}function CS(n){for(let t=0;t<n.length;t++){let e=n[t];if(U0(e))return t}return n.length}function IS(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function SS(n,t){e:for(let e=0;e<t.length;e++){let r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function h0(n,t){return n?":not("+t.trim()+")":t}function TS(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!an(s)&&(t+=h0(o,i),i=""),r=s,o=o||!an(r);e++}return i!==""&&(t+=h0(o,i)),t}function xS(n){return n.map(TS).join(",")}function MS(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!an(i))break;i=o}r++}return e.length&&t.push(1,...e),t}var It={};function AS(n,t){return n.createText(t)}function RS(n,t,e){n.setValue(t,e)}function NS(n,t){return n.createComment(vS(t))}function h_(n,t,e){return n.createElement(t,e)}function Fl(n,t,e,r,i){n.insertBefore(t,e,r,i)}function p_(n,t,e){n.appendChild(t,e)}function p0(n,t,e,r,i){r!==null?Fl(n,t,e,r,i):p_(n,t,e)}function OS(n,t,e,r){n.removeChild(null,t,e,r)}function kS(n,t,e){n.setAttribute(t,"style",e)}function PS(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function g_(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&HI(n,t,r),i!==null&&PS(n,t,i),o!==null&&kS(n,t,o)}function Sp(n,t,e,r,i,o,s,a,c,l,u){let d=Te+r,p=d+i,f=FS(d,p),v=typeof l=="function"?l():l;return f[B]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}function FS(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:It);return e}function LS(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Sp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Tp(n,t,e,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[rn]=i,d[U]=r|4|128|8|64|1024,(l!==null||n&&n[U]&2048)&&(d[U]|=2048),bh(d),d[tt]=d[oi]=n,d[at]=e,d[bn]=s||n&&n[bn],d[me]=a||n&&n[me],d[yr]=c||n&&n[yr]||null,d[ht]=o,d[Os]=rS(),d[go]=u,d[mh]=l,d[Et]=t.type==2?n[Et]:d,d}function jS(n,t,e){let r=sn(t,n),i=LS(e),o=n[bn].rendererFactory,s=xp(n,Tp(n,i,null,m_(e),r,t,null,o.createRenderer(r,e),null,null,null));return n[t.index]=s}function m_(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function v_(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function xp(n,t){return n[vo]?n[gh][Vt]=t:n[vo]=t,n[gh]=t,t}function E(n=1){y_(Be(),W(),Zn()+n,!1)}function y_(n,t,e,r){if(!r)if((t[U]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Il(t,o,e)}else{let o=n.preOrderHooks;o!==null&&Sl(t,o,0,e)}Dr(e)}var Xl=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Xl||{});function np(n,t,e,r){let i=q(null);try{let[o,s,a]=n.inputs[e],c=null;(s&Xl.SignalBased)!==0&&(c=t[o][ot]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),n.setInput!==null?n.setInput(t,c,r,e,o):k0(t,c,o,r)}finally{q(i)}}var Sn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Sn||{}),VS;function Mp(n,t){return VS(n,t)}var Mo=new Set,eu=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(eu||{}),_i=new A(""),g0=new Set;function No(n){g0.has(n)||(g0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var __=!1,rp=class extends je{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Fy()&&(this.destroyRef=D(kt,{optional:!0})??void 0,this.pendingTasks=D(Cn,{optional:!0})??void 0)}emit(t){let e=q(null);try{super.next(t)}finally{q(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Le&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Me=rp;function w_(n){let t,e;function r(){n=fi;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function m0(n){return queueMicrotask(()=>n()),()=>{n=fi}}var Ap="isAngularZone",Ll=Ap+"_ID",US=0,Ae=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Me(!1);onMicrotaskEmpty=new Me(!1);onStable=new Me(!1);onError=new Me(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=__}=t;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,HS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ap)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new S(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,BS,fi,fi);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},BS={};function Rp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $S(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){w_(()=>{n.callbackScheduled=!1,ip(n),n.isCheckStableRunning=!0,Rp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),ip(n)}function HS(n){let t=()=>{$S(n)},e=US++;n._inner=n._inner.fork({name:"angular",properties:{[Ap]:!0,[Ll]:e,[Ll+e]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(zS(c))return r.invokeTask(o,s,a,c);try{return v0(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),y0(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return v0(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!qS(c)&&t(),y0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ip(n),Rp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ip(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function v0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function y0(n){n._nesting--,Rp(n)}var jl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Me;onMicrotaskEmpty=new Me;onStable=new Me;onError=new Me;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function zS(n){return b_(n,"__ignore_ng_zone__")}function qS(n){return b_(n,"__scheduler_tick__")}function b_(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Np=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}return n})(),E_=[0,1,2,3],D_=(()=>{class n{ngZone=D(Ae);scheduler=D(tn);errorHandler=D(jt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(_i,{optional:!0})}execute(){let e=this.sequences.size>0;e&&de(16),this.executing=!0;for(let r of E_)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&de(17)}register(e){let{view:r}=e;r!==void 0?((r[li]??=[]).push(e),Er(r),r[U]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(eu.AFTER_NEXT_RENDER,e):e()}static \u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o,s=null){this.impl=t,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[li];t&&(this.view[li]=t.filter(e=>e!==this))}};function tu(n,t){let e=t?.injector??D(nt);return No("NgAfterNextRender"),WS(n,e,t,!0)}function GS(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function WS(n,t,e,r){let i=t.get(Np);i.impl??=t.get(D_);let o=t.get(_i,null,{optional:!0}),s=e?.manualCleanup!==!0?t.get(kt):null,a=t.get(Co,null,{optional:!0}),c=new Vl(i.impl,GS(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var KS=new A("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function C_(n,t,e){let r=n.get(KS);if(Array.isArray(t))for(let i of t)r.queue.add(i),e?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(n)}function ZS(n,t){for(let[e,r]of t)C_(n,r.animateFns)}function _0(n,t,e,r){let i=n?.[ks]?.enter;t!==null&&i&&i.has(e.index)&&ZS(r,i)}function Io(n,t,e,r,i,o,s,a){if(i!=null){let c,l=!1;on(i)?c=i:En(i)&&(l=!0,i=i[rn]);let u=Ut(i);n===0&&r!==null?(_0(a,r,o,e),s==null?p_(t,r,u):Fl(t,r,u,s||null,!0)):n===1&&r!==null?(_0(a,r,o,e),Fl(t,r,u,s||null,!0)):n===2?w0(a,o,e,d=>{OS(t,u,l,d)}):n===3&&w0(a,o,e,()=>{t.destroyNode(u)}),c!=null&&sT(t,n,e,c,o,r,s)}}function JS(n,t){I_(n,t),t[rn]=null,t[ht]=null}function YS(n,t,e,r,i,o){r[rn]=i,r[ht]=t,nu(n,r,e,1,i,o)}function I_(n,t){t[bn].changeDetectionScheduler?.notify(9),nu(n,t,t[me],2,null,null)}function QS(n){let t=n[vo];if(!t)return Hh(n[B],n);for(;t;){let e=null;if(En(t))e=t[vo];else{let r=t[Dt];r&&(e=r)}if(!e){for(;t&&!t[Vt]&&t!==n;)En(t)&&Hh(t[B],t),t=t[tt];t===null&&(t=n),En(t)&&Hh(t[B],t),e=t&&t[Vt]}t=e}}function Op(n,t){let e=n[Fs],r=e.indexOf(t);e.splice(r,1)}function S_(n,t){if(ui(t))return;let e=t[me];e.destroyNode&&nu(n,t,e,3,null,null),QS(t)}function Hh(n,t){if(ui(t))return;let e=q(null);try{t[U]&=-129,t[U]|=256,t[Ot]&&Kr(t[Ot]),tT(n,t),eT(n,t),t[B].type===1&&t[me].destroy();let r=t[si];if(r!==null&&on(t[tt])){r!==t[tt]&&Op(r,t);let i=t[ci];i!==null&&i.detachView(n)}Xh(t)}finally{q(e)}}function w0(n,t,e,r){let i=n?.[ks];if(i==null||i.leave==null||!i.leave.has(t.index))return r(!1);n&&Mo.add(n),C_(e,()=>{if(i.leave&&i.leave.has(t.index)){let s=i.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),XS(n,r)}else n&&Mo.delete(n),r(!1)},i)}function XS(n,t){let e=n[ks]?.running;if(e){e.then(()=>{n[ks].running=void 0,Mo.delete(n),t(!0)});return}t(!1)}function eT(n,t){let e=n.cleanup,r=t[mo];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[mo]=null);let i=t[zn];if(i!==null){t[zn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Kn];if(o!==null){t[Kn]=null;for(let s of o)s.destroy()}}function tT(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof pi)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];de(4,a,c);try{c.call(a)}finally{de(5,a,c)}}else{de(4,i,o);try{o.call(i)}finally{de(5,i,o)}}}}}function T_(n,t,e){return nT(n,t.parent,e)}function nT(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[rn];if(wr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Jn.None||i===Jn.Emulated)return null}return sn(r,e)}function x_(n,t,e){return iT(n,t,e)}function rT(n,t,e){return n.type&40?sn(n,e):null}var iT=rT,b0;function kp(n,t,e,r){let i=T_(n,r,t),o=t[me],s=r.parent||t[ht],a=x_(s,r,t);if(i!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)p0(o,i,e[c],a,!1);else p0(o,i,e,a,!1);b0!==void 0&&b0(o,r,t,e,i)}function $s(n,t){if(t!==null){let e=t.type;if(e&3)return sn(t,n);if(e&4)return op(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return $s(n,r);{let i=n[t.index];return on(i)?op(-1,i):Ut(i)}}else{if(e&128)return $s(n,t.next);if(e&32)return Mp(t,n)()||Ut(n[t.index]);{let r=M_(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=pr(n[Et]);return $s(i,r)}else return $s(n,t.next)}}}return null}function M_(n,t){if(t!==null){let r=n[Et][ht],i=t.projection;return r.projection[i]}return null}function op(n,t){let e=Dt+n+1;if(e<t.length){let r=t[e],i=r[B].firstChild;if(i!==null)return $s(r,i)}return t[_r]}function Pp(n,t,e,r,i,o,s){for(;e!=null;){let a=r[yr];if(e.type===128){e=e.next;continue}let c=r[e.index],l=e.type;if(s&&t===0&&(c&&xo(Ut(c),r),e.flags|=2),!Yl(e))if(l&8)Pp(n,t,e.child,r,i,o,!1),Io(t,n,a,i,c,e,o,r);else if(l&32){let u=Mp(e,r),d;for(;d=u();)Io(t,n,a,i,d,e,o,r);Io(t,n,a,i,c,e,o,r)}else l&16?A_(n,t,r,e,i,o):Io(t,n,a,i,c,e,o,r);e=s?e.projectionNext:e.next}}function nu(n,t,e,r,i,o){Pp(e,r,n.firstChild,t,i,o,!1)}function oT(n,t,e){let r=t[me],i=T_(n,e,t),o=e.parent||t[ht],s=x_(o,e,t);A_(r,0,t,e,i,s)}function A_(n,t,e,r,i,o){let s=e[Et],c=s[ht].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Io(t,n,e[yr],i,u,r,o,e)}else{let l=c,u=s[tt];J0(r)&&(l.flags|=128),Pp(n,t,l,u,i,o,!0)}}function sT(n,t,e,r,i,o,s){let a=r[_r],c=Ut(r);a!==c&&Io(t,n,e,o,a,i,s);for(let l=Dt;l<r.length;l++){let u=r[l];nu(u[B],u,n,t,o,a)}}function aT(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Sn.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sn.Important),n.setStyle(e,r,i,o))}}function R_(n,t,e,r,i){let o=Zn(),s=r&2;try{Dr(-1),s&&t.length>Te&&y_(n,t,Te,!1),de(s?2:0,i,e),e(r,i)}finally{Dr(o),de(s?3:1,i,e)}}function ru(n,t,e){hT(n,t,e),(e.flags&64)===64&&pT(n,t,e)}function Ys(n,t,e=sn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(t,n):n[s];n[i++]=a}}}function cT(n,t,e,r){let o=r.get(r_,n_)||e===Jn.ShadowDom,s=n.selectRootElement(t,o);return lT(s),s}function lT(n){uT(n)}var uT=()=>null;function dT(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function N_(n,t,e,r,i,o){let s=t[B];if(Vp(n,s,t,e,r)){wr(n)&&fT(t,n.index);return}n.type&3&&(e=dT(e)),O_(n,t,e,r,i,o)}function O_(n,t,e,r,i,o){if(n.type&3){let s=sn(n,t);r=o!=null?o(r,n.value||"",e):r,i.setProperty(s,e,r)}else n.type&12}function fT(n,t){let e=Bt(t,n);e[U]&16||(e[U]|=64)}function hT(n,t,e){let r=e.directiveStart,i=e.directiveEnd;wr(e)&&jS(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Ol(e,t);let o=e.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=kl(t,n,s,e);if(xo(c,t),o!==null&&yT(t,s-r,c,a,e,o),Dn(a)){let l=Bt(e.index,t);l[at]=kl(t,n,s,e)}}}function pT(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=Yy();try{Dr(o);for(let a=r;a<i;a++){let c=n.data[a],l=t[a];vl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&gT(c,l)}}finally{Dr(-1),vl(s)}}function gT(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function Fp(n,t){let e=n.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];f_(t,o.selectors,!1)&&(r??=[],Dn(o)?r.unshift(o):r.push(o))}return r}function mT(n,t,e,r,i,o){let s=sn(n,t);vT(t[me],s,o,n.value,e,r,i)}function vT(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let a=s==null?gr(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}function yT(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];np(r,e,c,l)}}function Lp(n,t,e,r,i){let o=Te+e,s=t[B],a=i(s,t,n,r,e);t[o]=a,wo(n,!0);let c=n.type===2;return c?(g_(t[me],a,n),(zy()===0||yo(n))&&xo(a,t),qy()):xo(a,t),wl()&&(!c||!Yl(n))&&kp(s,t,a,n),n}function jp(n){let t=n;return Mh()?Ah():(t=t.parent,wo(t,!1)),t}function _T(n,t){let e=n[yr];if(!e)return;let r;try{r=e.get(Ct,null)}catch{r=null}r?.(t)}function Vp(n,t,e,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];np(d,e[l],u,i),a=!0}if(o)for(let c of o){let l=e[c],u=t.data[c];np(u,l,r,i),a=!0}return a}function wT(n,t){let e=Bt(t,n),r=e[B];bT(r,e);let i=e[rn];i!==null&&e[go]===null&&(e[go]=i_(i,e[yr])),de(18),Up(r,e,e[at]),de(19,e[at])}function bT(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Up(n,t,e){yl(t);try{let r=n.viewQuery;r!==null&&tp(1,r,e);let i=n.template;i!==null&&R_(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[ci]?.finishViewCreation(n),n.staticContentQueries&&o_(n,t),n.staticViewQueries&&tp(2,n.viewQuery,e);let o=n.components;o!==null&&ET(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[U]&=-5,_l()}}function ET(n,t){for(let e=0;e<t.length;e++)wT(n,t[e])}function k_(n,t,e,r){let i=q(null);try{let o=t.tView,a=n[U]&4096?4096:16,c=Tp(n,o,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[t.index];c[si]=l;let u=n[ci];return u!==null&&(c[ci]=u.createEmbeddedView(o)),Up(o,c,e),c}finally{q(i)}}function sp(n,t){return!t||t.firstChild===null||J0(n)}function qs(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(Ut(o)),on(o)&&P_(o,r);let s=e.type;if(s&8)qs(n,t,e.child,r);else if(s&32){let a=Mp(e,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=M_(t,e);if(Array.isArray(a))r.push(...a);else{let c=pr(t[Et]);qs(c[B],c,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function P_(n,t){for(let e=Dt;e<n.length;e++){let r=n[e],i=r[B].firstChild;i!==null&&qs(r[B],r,i,t)}n[_r]!==n[rn]&&t.push(n[_r])}function F_(n){if(n[li]!==null){for(let t of n[li])t.impl.addSequence(t);n[li].length=0}}var L_=[];function DT(n){return n[Ot]??CT(n)}function CT(n){let t=L_.pop()??Object.create(ST);return t.lView=n,t}function IT(n){n.lView[Ot]!==n&&(n.lView=null,L_.push(n))}var ST=H(C({},Gr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Er(n.lView)},consumerOnSignalRead(){this.lView[Ot]=this}});function TT(n){let t=n[Ot]??Object.create(xT);return t.lView=n,t}var xT=H(C({},Gr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=pr(n.lView);for(;t&&!j_(t[B]);)t=pr(t);t&&Eh(t)},consumerOnSignalRead(){this.lView[Ot]=this}});function j_(n){return n.type!==2}function V_(n){if(n[Kn]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[Kn])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[U]&8192)}}var MT=100;function U_(n,t=0){let r=n[bn].rendererFactory,i=!1;i||r.begin?.();try{AT(n,t)}finally{i||r.end?.()}}function AT(n,t){let e=Rh();try{bo(!0),ap(n,t);let r=0;for(;Ls(n);){if(r===MT)throw new S(103,!1);r++,ap(n,1)}}finally{bo(e)}}function RT(n,t,e,r){if(ui(t))return;let i=t[U],o=!1,s=!1;yl(t);let a=!0,c=null,l=null;o||(j_(n)?(l=DT(t),c=Wr(l)):_c()===null?(a=!1,l=TT(t),c=Wr(l)):t[Ot]&&(Kr(t[Ot]),t[Ot]=null));try{bh(t),Ky(n.bindingStartIndex),e!==null&&R_(n,t,e,2,r);let u=(i&3)===3;if(!o)if(u){let f=n.preOrderCheckHooks;f!==null&&Il(t,f,null)}else{let f=n.preOrderHooks;f!==null&&Sl(t,f,0,null),Bh(t,0)}if(s||NT(t),V_(t),B_(t,0),n.contentQueries!==null&&o_(n,t),!o)if(u){let f=n.contentCheckHooks;f!==null&&Il(t,f)}else{let f=n.contentHooks;f!==null&&Sl(t,f,1),Bh(t,1)}kT(n,t);let d=n.components;d!==null&&H_(t,d,0);let p=n.viewQuery;if(p!==null&&tp(2,p,r),!o)if(u){let f=n.viewCheckHooks;f!==null&&Il(t,f)}else{let f=n.viewHooks;f!==null&&Sl(t,f,2),Bh(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[ul]){for(let f of t[ul])f();t[ul]=null}o||(F_(t),t[U]&=-73)}catch(u){throw o||Er(t),u}finally{l!==null&&(Yi(l,c),a&&IT(l)),_l()}}function B_(n,t){for(let e=Q0(n);e!==null;e=X0(e))for(let r=Dt;r<e.length;r++){let i=e[r];$_(i,t)}}function NT(n){for(let t=Q0(n);t!==null;t=X0(t)){if(!(t[U]&2))continue;let e=t[Fs];for(let r=0;r<e.length;r++){let i=e[r];Eh(i)}}}function OT(n,t,e){de(18);let r=Bt(t,n);$_(r,e),de(19,r[at])}function $_(n,t){hl(n)&&ap(n,t)}function ap(n,t){let r=n[B],i=n[U],o=n[Ot],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Qi(o)),s||=!1,o&&(o.dirty=!1),n[U]&=-9217,s)RT(r,n,r.template,n[at]);else if(i&8192){let a=q(null);try{V_(n),B_(n,1);let c=r.components;c!==null&&H_(n,c,1),F_(n)}finally{q(a)}}}function H_(n,t,e){for(let r=0;r<t.length;r++)OT(n,t[r],e)}function kT(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Dr(~i);else{let o=i,s=e[++r],a=e[++r];Jy(s,o);let c=t[o];de(24,c),a(2,c),de(25,c)}}}finally{Dr(-1)}}function Bp(n,t){let e=Rh()?64:1088;for(n[bn].changeDetectionScheduler?.notify(t);n;){n[U]|=e;let r=pr(n);if(_o(n)&&!r)return n;n=r}return null}function z_(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function q_(n,t,e,r=!0){let i=t[B];if(PT(i,t,n,e),r){let s=op(e,n),a=t[me],c=a.parentNode(n[_r]);c!==null&&YS(i,n[ht],a,t,c,s)}let o=t[go];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cp(n,t){if(n.length<=Dt)return;let e=Dt+t,r=n[e];if(r){let i=r[si];i!==null&&i!==n&&Op(i,r),t>0&&(n[e-1][Vt]=r[Vt]);let o=As(n,Dt+t);JS(r[B],r);let s=o[ci];s!==null&&s.detachView(o[B]),r[tt]=null,r[Vt]=null,r[U]&=-129}return r}function PT(n,t,e,r){let i=Dt+r,o=e.length;r>0&&(e[i-1][Vt]=t),r<o-Dt?(t[Vt]=e[i],ah(e,Dt+r,t)):(e.push(t),t[Vt]=null),t[tt]=e;let s=t[si];s!==null&&e!==s&&G_(s,t);let a=t[ci];a!==null&&a.insertView(n),pl(t),t[U]|=128}function G_(n,t){let e=n[Fs],r=t[tt];if(En(r))n[U]|=2;else{let i=r[tt][Et];t[Et]!==i&&(n[U]|=2)}e===null?n[Fs]=[t]:e.push(t)}var Cr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[B];return qs(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[at]}set context(t){this._lView[at]=t}get destroyed(){return ui(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[tt];if(on(t)){let e=t[Ps],r=e?e.indexOf(this):-1;r>-1&&(cp(t,r),As(e,r))}this._attachedToViewContainer=!1}S_(this._lView[B],this._lView)}onDestroy(t){Dh(this._lView,t)}markForCheck(){Bp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[U]&=-129}reattach(){pl(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,U_(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=_o(this._lView),e=this._lView[si];e!==null&&!t&&Op(e,this._lView),I_(this._lView[B],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t;let e=_o(this._lView),r=this._lView[si];r!==null&&!e&&G_(r,this._lView),pl(this._lView)}};var Qs=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=FT;constructor(e,r,i){this._declarationLView=e,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,i){let o=k_(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:i});return new Cr(o)}}return n})();function FT(){return LT($e(),W())}function LT(n,t){return n.type&4?new Qs(t,n,Wl(n,t)):null}function Oo(n,t,e,r,i){let o=n.data[t];if(o===null)o=jT(n,t,e,r,i),Zy()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=Gy();o.injectorIndex=s===null?-1:s.injectorIndex}return wo(o,!0),o}function jT(n,t,e,r,i){let o=xh(),s=Mh(),a=s?o:o&&o.parent,c=n.data[t]=UT(n,a,e,t,r,i);return VT(n,c,o,s),c}function VT(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function UT(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Ih()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var OU=new RegExp(`^(\\d+)*(${aS}|${sS})*(.*)`);var BT=()=>null;function lp(n,t){return BT(n,t)}var W_=class{},iu=class{},up=class{resolveComponentFactory(t){throw new S(917,!1)}},Xs=class{static NULL=new up},gi=class{},Tn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>$T()}return n})();function $T(){let n=W(),t=$e(),e=Bt(t.index,n);return(En(e)?e:n)[me]}var K_=(()=>{class n{static \u0275prov=M({token:n,providedIn:"root",factory:()=>null})}return n})();var Tl={},dp=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){let i=this.injector.get(t,Tl,r);return i!==Tl||e===Tl?i:this.parentInjector.get(t,e,r)}};function Ul(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=rl(i,a);else if(o==2){let c=a,l=t[++s];r=rl(r,c+": "+l+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function R(n,t=0){let e=W();if(e===null)return O(n,t);let r=$e();return W0(r,e,et(n),t)}function $p(){let n="invalid";throw new Error(n)}function Z_(n,t,e,r,i){let o=r===null?null:{"":-1},s=i(n,e);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}qT(n,t,e,a,o,c,l)}o!==null&&r!==null&&HT(e,r,o)}function HT(n,t,e){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new S(-301,!1);r.push(t[i],o)}}function zT(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function qT(n,t,e,r,i,o,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&Dn(f)&&(c=!0,zT(n,e,p)),Yh(Ol(e,t),n,f.type)}YT(e,n.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=v_(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(e.mergedAttrs=To(e.mergedAttrs,f.hostAttrs),WT(n,e,t,d,f),JT(d,f,i),s!==null&&s.has(f)){let[w,_]=s.get(f);e.directiveToIndex.set(f.type,[d,w+e.directiveStart,_+e.directiveStart])}else(o===null||!o.has(f))&&e.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let v=f.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),l=!0),!u&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}GT(n,e,o)}function GT(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=n.data[r];if(e===null||!e.has(i))E0(0,t,i,r),E0(1,t,i,r),C0(t,r,!1);else{let o=e.get(i);D0(0,t,o,r),D0(1,t,o,r),C0(t,r,!0)}}}function E0(n,t,e,r){let i=n===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),J_(t,o)}}function D0(n,t,e,r){let i=n===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),J_(t,s)}}function J_(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function C0(n,t,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!e&&i===null||e&&o===null||Ip(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!e&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(e&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function WT(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=hr(i.type,!0)),s=new pi(o,Dn(i),R,null);n.blueprint[r]=s,e[r]=s,KT(n,t,r,v_(n,e,i.hostVars,It),i)}function KT(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;ZT(s)!=a&&s.push(a),s.push(e,r,o)}}function ZT(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function JT(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;Dn(t)&&(e[""]=n)}}function YT(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Hp(n,t,e,r,i,o,s,a){let c=t[B],l=c.consts,u=br(l,s),d=Oo(c,n,e,r,u);return o&&Z_(c,t,d,br(l,a),i),d.mergedAttrs=To(d.mergedAttrs,d.attrs),d.attrs!==null&&Ul(d,d.attrs,!1),d.mergedAttrs!==null&&Ul(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function zp(n,t){j0(n,t),vh(t)&&n.queries.elementEnd(t)}function QT(n,t,e,r,i,o){let s=t.consts,a=br(s,i),c=Oo(t,n,e,r,a);if(c.mergedAttrs=To(c.mergedAttrs,c.attrs),o!=null){let l=br(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Ul(c,c.attrs,!1),c.mergedAttrs!==null&&Ul(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function qp(n){return Q_(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Y_(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function Q_(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Gp(n,t,e){return n[t]=e}function $t(n,t,e){if(e===It)return!1;let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function Wp(n,t,e,r){let i=$t(n,t,e);return $t(n,t+1,r)||i}function XT(n,t,e,r,i){let o=Wp(n,t,e,r);return $t(n,t+2,i)||o}function xl(n,t,e){return function r(i){let o=wr(n)?Bt(n.index,t):t;Bp(o,5);let s=t[at],a=I0(t,s,e,i),c=r.__ngNextListenerFn__;for(;c;)a=I0(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function I0(n,t,e,r){let i=q(null);try{return de(6,t,e),e(r)!==!1}catch(o){return _T(n,o),!1}finally{de(7,t,e),q(i)}}function X_(n,t,e,r,i,o,s,a){let c=yo(n),l=!1,u=null;if(!r&&c&&(u=tx(t,e,o,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=sn(n,e),p=r?r(d):d;lS(e,p,o,a);let f=i.listen(p,o,a);if(!ex(o)){let v=r?w=>r(Ut(w[n.index])):n.index;ew(v,t,e,o,a,f,!1)}}return l}function ex(n){return n.startsWith("animation")||n.startsWith("transition")}function tx(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=t[mo],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function ew(n,t,e,r,i,o,s){let a=t.firstCreatePass?Hy(t):null,c=$y(e),l=c.length;c.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function S0(n,t,e,r,i,o){let s=t[e],a=t[B],l=a.data[e].outputs[r],d=s[l].subscribe(o);ew(n.index,a,t,i,o,d,!0)}var fp=Symbol("BINDING");var Bl=class extends Xs{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Wn(t);return new mi(e,this.ngModule)}};function nx(n){return Object.keys(n).map(t=>{let[e,r,i]=n[t],o={propName:e,templateName:t,isSignal:(r&Xl.SignalBased)!==0};return i&&(o.transform=i),o})}function rx(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function ix(n,t,e){let r=t instanceof Pe?t:t?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new dp(e,r):e}function ox(n){let t=n.get(gi,null);if(t===null)throw new S(407,!1);let e=n.get(K_,null),r=n.get(tn,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:r,ngReflect:!1}}function sx(n,t){let e=tw(n);return h_(t,e,e==="svg"?yh:e==="math"?jy:null)}function tw(n){return(n.selectors[0][0]||"div").toLowerCase()}var mi=class extends iu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=nx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=rx(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=xS(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,i,o,s){de(22);let a=q(null);try{let c=this.componentDef,l=ax(r,c,s,o),u=ix(c,i||this.ngModule,t),d=ox(u),p=d.rendererFactory.createRenderer(null,c),f=r?cT(p,r,c.encapsulation,u):sx(c,p),v=s?.some(T0)||o?.some(b=>typeof b!="function"&&b.bindings.some(T0)),w=Tp(null,l,null,512|m_(c),null,null,d,p,u,null,i_(f,u,!0));w[Te]=f,yl(w);let _=null;try{let b=Hp(Te,w,2,"#host",()=>l.directiveRegistry,!0,0);g_(p,f,b),xo(f,w),ru(l,w,b),Ep(l,b,w),zp(l,b),e!==void 0&&lx(b,this.ngContentSelectors,e),_=Bt(b.index,w),w[at]=_[at],Up(l,w,null)}catch(b){throw _!==null&&Xh(_),Xh(w),b}finally{de(23),_l()}return new $l(this.componentType,w,!!v)}finally{q(a)}}};function ax(n,t,e,r){let i=n?["ng-version","20.3.14"]:MS(t.selectors[0]),o=null,s=null,a=0;if(e)for(let u of e)a+=u[fp].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){a+=p[fp].requiredVars;let f=u+1;p.create&&(p.targetIdx=f,(o??=[]).push(p)),p.update&&(p.targetIdx=f,(s??=[]).push(p))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=dh(d);c.push(p)}return Sp(0,null,cx(o,s),1,a,c,null,null,null,[i],null)}function cx(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let r of n)r.create();if(e&2&&t)for(let r of t)r.update()}}function T0(n){let t=n[fp].kind;return t==="input"||t==="twoWay"}var $l=class extends W_{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,r){super(),this._rootLView=e,this._hasInputBindings=r,this._tNode=dl(e[B],Te),this.location=Wl(this._tNode,e),this.instance=Bt(this._tNode.index,e)[at],this.hostView=this.changeDetectorRef=new Cr(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let i=this._rootLView,o=Vp(r,i[B],i,t,e);this.previousInputValues.set(t,e);let s=Bt(r.index,i);Bp(s,1)}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function lx(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var wi=(()=>{class n{static __NG_ELEMENT_ID__=ux}return n})();function ux(){let n=$e();return fx(n,W())}var dx=wi,nw=class extends dx{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){let t=yp(this._hostTNode,this._hostLView);if(B0(t)){let e=Rl(t,this._hostLView),r=Al(t),i=e[B].data[r+8];return new hi(i,e)}else return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=x0(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=lp(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,sp(this._hostTNode,s)),a}createComponent(t,e,r,i,o,s,a){let c=t&&!PI(t),l;if(c)l=e;else{let _=e||{};l=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef,s=_.directives,a=_.bindings}let u=c?t:new mi(Wn(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let b=(c?d:this.parentInjector).get(Pe,null);b&&(o=b)}let p=Wn(u.componentType??{}),f=lp(this._lContainer,p?.id??null),v=f?.firstChild??null,w=u.create(d,i,v,o,s,a);return this.insertImpl(w.hostView,l,sp(this._hostTNode,f)),w}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(Vy(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[tt],l=new nw(c,c[ht],c[tt]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return q_(s,i,o,r),t.attachToViewContainerRef(),ah(zh(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=x0(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=cp(this._lContainer,e);r&&(As(zh(this._lContainer),e),S_(r[B],r))}detach(t){let e=this._adjustIndex(t,-1),r=cp(this._lContainer,e);return r&&As(zh(this._lContainer),e)!=null?new Cr(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function x0(n){return n[Ps]}function zh(n){return n[Ps]||(n[Ps]=[])}function fx(n,t){let e,r=t[n.index];return on(r)?e=r:(e=z_(r,t,null,n),t[n.index]=e,xp(t,e)),px(e,t,n,r),new nw(e,n,t)}function hx(n,t){let e=n[me],r=e.createComment(""),i=sn(t,n),o=e.parentNode(i);return Fl(e,o,r,e.nextSibling(i),!1),r}var px=vx,gx=()=>!1;function mx(n,t,e){return gx(n,t,e)}function vx(n,t,e,r){if(n[_r])return;let i;e.type&8?i=Ut(r):i=hx(t,e),n[_r]=i}var vi=class{},ou=class{};var Hl=class extends vi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Bl(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=uh(t);this._bootstrapComponents=u_(o.bootstrap),this._r3Injector=Ph(t,e,[{provide:vi,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver},...r],qn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},zl=class extends ou{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Hl(this.moduleType,t,[])}};var Gs=class extends vi{injector;componentFactoryResolver=new Bl(this);instance=null;constructor(t){super();let e=new ni([...t.providers,{provide:vi,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver}],t.parent||Ns(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ko(n,t,e=null){return new Gs({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var yx=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=fh(!1,e.type),i=r.length>0?ko([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=M({token:n,providedIn:"environment",factory:()=>new n(O(Pe))})}return n})();function ae(n){return Ks(()=>{let t=rw(n),e=H(C({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===_p.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(yx).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Jn.Emulated,styles:n.styles||ft,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&No("NgStandalone"),iw(e);let r=n.dependencies;return e.directiveDefs=M0(r,_x),e.pipeDefs=M0(r,Ny),e.id=Ex(e),e})}function _x(n){return Wn(n)||dh(n)}function Ht(n){return Ks(()=>({type:n.type,bootstrap:n.bootstrap||ft,declarations:n.declarations||ft,imports:n.imports||ft,exports:n.exports||ft,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wx(n,t){if(n==null)return mr;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Xl.None,c=null),e[o]=[r,a,c],t[o]=s}return e}function bx(n){if(n==null)return mr;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function Re(n){return Ks(()=>{let t=rw(n);return iw(t),t})}function ea(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function rw(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||mr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ft,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:wx(n.inputs,t),outputs:bx(n.outputs),debugInfo:null}}function iw(n){n.features?.forEach(t=>t(n))}function M0(n,t){return n?()=>{let e=typeof n=="function"?n():n,r=[];for(let i of e){let o=t(i);o!==null&&r.push(o)}return r}:null}function Ex(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Dx(n){return Object.getPrototypeOf(n.prototype).constructor}function zt(n){let t=Dx(n.type),e=!0,r=[n];for(;t;){let i;if(Dn(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=qh(n.inputs),s.declaredInputs=qh(n.declaredInputs),s.outputs=qh(n.outputs);let a=i.hostBindings;a&&xx(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Sx(n,c),l&&Tx(n,l),Cx(n,i),Iy(n.outputs,i.outputs),Dn(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===zt&&(e=!1)}}t=Object.getPrototypeOf(t)}Ix(r)}function Cx(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function Ix(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=To(i.hostAttrs,e=To(e,i.hostAttrs))}}function qh(n){return n===mr?{}:n===ft?[]:n}function Sx(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function Tx(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function xx(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function ow(n,t,e,r,i,o,s,a){if(e.firstCreatePass){n.mergedAttrs=To(n.mergedAttrs,n.attrs);let u=n.tView=Sp(2,n,i,o,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),u.queries=e.queries.embeddedTView(n))}a&&(n.flags|=a),wo(n,!1);let c=Rx(e,t,n,r);wl()&&kp(e,t,c,n),xo(c,t);let l=z_(c,t,c,n);t[r+Te]=l,xp(t,l),mx(l,n,t)}function Mx(n,t,e,r,i,o,s,a,c,l,u){let d=e+Te,p;return t.firstCreatePass?(p=Oo(t,d,4,s||null,a||null),gl()&&Z_(t,n,p,br(t.consts,l),Fp),j0(t,p)):p=t.data[d],ow(p,n,t,e,r,i,o,c),yo(p)&&ru(t,n,p),l!=null&&Ys(n,p,u),p}function Ax(n,t,e,r,i,o,s,a,c,l,u){let d=e+Te,p;if(t.firstCreatePass){if(p=Oo(t,d,4,s||null,a||null),l!=null){let f=br(t.consts,l);p.localNames=[];for(let v=0;v<f.length;v+=2)p.localNames.push(f[v],-1)}}else p=t.data[d];return ow(p,n,t,e,r,i,o,c),l!=null&&Ys(n,p,u),p}function Q(n,t,e,r,i,o,s,a){let c=W(),l=Be(),u=br(l.consts,o);return Mx(c,l,n,t,e,r,i,u,void 0,s,a),Q}var Rx=Nx;function Nx(n,t,e,r){return Vs(!0),t[me].createComment("")}var Kp=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Zp=new A("");function Sr(n){return!!n&&typeof n.then=="function"}function Jp(n){return!!n&&typeof n.subscribe=="function"}var Yp=new A("");function su(n){return ii([{provide:Yp,multi:!0,useValue:n}])}var Qp=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=D(Yp,{optional:!0})??[];injector=D(nt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=We(this.injector,i);if(Sr(o))e.push(o);else if(Jp(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ta=new A("");function sw(){Ef(()=>{let n="";throw new S(600,n)})}function aw(n){return n.isBoundToModule}var Ox=10;var Tr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(Ct);afterRenderManager=D(Np);zonelessEnabled=D(bl);rootEffectScheduler=D(Bs);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new je;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(Cn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(V(e=>!e))}constructor(){D(_i,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=D(Pe);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=nt.NULL){return this._injector.get(Ae).run(()=>{de(10);let s=e instanceof iu;if(!this._injector.get(Qp).done){let v="";throw new S(405,v)}let c;s?c=e:c=this._injector.get(Xs).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let l=aw(c)?void 0:this._injector.get(vi),u=r||c.selector,d=c.create(i,[],u,l),p=d.location.nativeElement,f=d.injector.get(Zp,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Hs(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),de(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){de(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(eu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new S(101,!1);let e=q(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,q(e),this.afterTick.next(),de(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(gi,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<Ox;)de(14),this.synchronizeOnce(),de(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ls(i))continue;let o=r&&!this.zonelessEnabled?0:1;U_(i,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Ls(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Hs(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(e),this._injector.get(ta,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Hs(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new S(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hs(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Po(n,t,e,r){let i=W(),o=di();if($t(i,o,t)){let s=Be(),a=js();mT(a,i,n,t,e,r)}return Po}var UU=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function N(n,t,e){let r=W(),i=di();if($t(r,i,t)){let o=Be(),s=js();N_(s,r,n,t,r[me],e)}return N}function hp(n,t,e,r,i){Vp(t,n,e,i?"class":"style",r)}function m(n,t,e,r){let i=W(),o=i[B],s=n+Te,a=o.firstCreatePass?Hp(s,i,2,t,Fp,gl(),e,r):o.data[s];if(Lp(a,i,n,t,cw),yo(a)){let c=i[B];ru(c,i,a),Ep(c,a,i)}return r!=null&&Ys(i,a),m}function g(){let n=Be(),t=$e(),e=jp(t);return n.firstCreatePass&&zp(n,e),Sh(e)&&Th(),Ch(),e.classesWithoutHost!=null&&BI(e)&&hp(n,e,W(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$I(e)&&hp(n,e,W(),e.stylesWithoutHost,!1),g}function F(n,t,e,r){return m(n,t,e,r),g(),F}function un(n,t,e,r){let i=W(),o=i[B],s=n+Te,a=o.firstCreatePass?QT(s,o,2,t,e,r):o.data[s];return Lp(a,i,n,t,cw),r!=null&&Ys(i,a),un}function dn(){let n=$e(),t=jp(n);return Sh(t)&&Th(),Ch(),dn}function au(n,t,e,r){return un(n,t,e,r),dn(),au}var cw=(n,t,e,r,i)=>(Vs(!0),h_(t[me],r,r0()));function Qn(n,t,e){let r=W(),i=r[B],o=n+Te,s=i.firstCreatePass?Hp(o,r,8,"ng-container",Fp,gl(),t,e):i.data[o];if(Lp(s,r,n,"ng-container",kx),yo(s)){let a=r[B];ru(a,r,s),Ep(a,s,r)}return e!=null&&Ys(r,s),Qn}function Xn(){let n=Be(),t=$e(),e=jp(t);return n.firstCreatePass&&zp(n,e),Xn}var kx=(n,t,e,r,i)=>(Vs(!0),NS(t[me],""));function Ie(){return W()}function cu(n,t,e){let r=W(),i=di();if($t(r,i,t)){let o=Be(),s=js();O_(s,r,n,t,r[me],e)}return cu}var Dl=void 0;function Px(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var Fx=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dl,"{1} 'at' {0}",Dl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Px],zs={};function Xp(n,t,e){typeof t!="string"&&(e=t,t=n[Ce.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),zs[t]=n,e&&(zs[t][Ce.ExtraData]=e)}function Pt(n){let t=Lx(n),e=A0(t);if(e)return e;let r=t.split("-")[0];if(e=A0(r),e)return e;if(r==="en")return Fx;throw new S(701,!1)}function A0(n){return n in zs||(zs[n]=Gn.ng&&Gn.ng.common&&Gn.ng.common.locales&&Gn.ng.common.locales[n]),zs[n]}var Ce=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Ce||{});function Lx(n){return n.toLowerCase().replace(/_/g,"-")}var na="en-US";var jx=na;function lw(n){typeof n=="string"&&(jx=n.toLowerCase().replace(/_/g,"-"))}function $(n,t,e){let r=W(),i=Be(),o=$e();return uw(i,r,r[me],o,n,t,e),$}function lu(n,t,e){let r=W(),i=Be(),o=$e();return(o.type&3||e)&&X_(o,i,r,e,r[me],n,t,xl(o,r,t)),lu}function uw(n,t,e,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=xl(r,t,o),X_(r,n,t,s,e,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],f=u[d+1];c??=xl(r,t,o),S0(r,t,p,f,i,c)}if(l&&l.length)for(let d of l)c??=xl(r,t,o),S0(r,t,d,i,i,c)}}function K(n=1){return n0(n)}function Vx(n,t){let e=null,r=DS(n);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){e=i;continue}if(r===null?f_(n,o,!0):SS(r,o))return i}return e}function eg(n){let t=W()[Et][ht];if(!t.projection){let e=n?n.length:1,r=t.projection=Ay(e,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=n?Vx(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function tg(n,t=0,e,r,i,o){let s=W(),a=Be(),c=r?n+1:null;c!==null&&Ax(s,a,c,r,i,o,null,e);let l=Oo(a,Te+n,16,null,e||null);l.projection===null&&(l.projection=t),Ah();let d=!s[go]||Ih();s[Et][ht].projection[l.projection]===null&&c!==null?Ux(s,a,c):d&&!Yl(l)&&oT(a,s,l)}function Ux(n,t,e){let r=Te+e,i=t.data[r],o=n[r],s=lp(o,i.tView.ssrId),a=k_(n,i,void 0,{dehydratedView:s});q_(o,a,0,sp(i,s))}function Cl(n,t){return n<<17|t<<2}function yi(n){return n>>17&32767}function Bx(n){return(n&2)==2}function $x(n,t){return n&131071|t<<17}function pp(n){return n|2}function Ao(n){return(n&131068)>>2}function Gh(n,t){return n&-131069|t<<2}function Hx(n){return(n&1)===1}function gp(n){return n|1}function zx(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=yi(s),c=Ao(s);n[r]=e;let l=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||po(d,u)>0)&&(l=!0)}else u=e;if(i)if(c!==0){let p=yi(n[a+1]);n[r+1]=Cl(p,a),p!==0&&(n[p+1]=Gh(n[p+1],r)),n[a+1]=$x(n[a+1],r)}else n[r+1]=Cl(a,0),a!==0&&(n[a+1]=Gh(n[a+1],r)),a=r;else n[r+1]=Cl(c,0),a===0?a=r:n[c+1]=Gh(n[c+1],r),c=r;l&&(n[r+1]=pp(n[r+1])),R0(n,u,r,!0),R0(n,u,r,!1),qx(t,u,n,r,o),s=Cl(a,c),o?t.classBindings=s:t.styleBindings=s}function qx(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&po(o,t)>=0&&(e[r+1]=gp(e[r+1]))}function R0(n,t,e,r){let i=n[e+1],o=t===null,s=r?yi(i):Ao(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];Gx(c,t)&&(a=!0,n[s+1]=r?gp(l):pp(l)),s=r?yi(l):Ao(l)}a&&(n[e+1]=r?pp(i):gp(i))}function Gx(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?po(n,t)>=0:!1}var cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wx(n){return n.substring(cn.key,cn.keyEnd)}function Kx(n){return Zx(n),dw(n,fw(n,0,cn.textEnd))}function dw(n,t){let e=cn.textEnd;return e===t?-1:(t=cn.keyEnd=Jx(n,cn.key=t,e),fw(n,t,e))}function Zx(n){cn.key=0,cn.keyEnd=0,cn.value=0,cn.valueEnd=0,cn.textEnd=n.length}function fw(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Jx(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function bi(n,t){return Qx(n,t,null,!0),bi}function ng(n){Xx(oM,Yx,n,!0)}function Yx(n,t){for(let e=Kx(t);e>=0;e=dw(t,e))al(n,Wx(t),!0)}function Qx(n,t,e,r){let i=W(),o=Be(),s=ml(2);if(o.firstUpdatePass&&pw(o,n,s,r),t!==It&&$t(i,s,t)){let a=o.data[Zn()];gw(o,a,i,i[me],n,i[s+1]=aM(t,e),r,s)}}function Xx(n,t,e,r){let i=Be(),o=ml(2);i.firstUpdatePass&&pw(i,null,o,r);let s=W();if(e!==It&&$t(s,o,e)){let a=i.data[Zn()];if(mw(a,r)&&!hw(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(e=rl(c,e||"")),hp(i,a,s,e,r)}else sM(i,a,s,s[me],s[o+1],s[o+1]=iM(n,t,e),r,o)}}function hw(n,t){return t>=n.expandoStartIndex}function pw(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[Zn()],s=hw(n,e);mw(o,r)&&t===null&&!s&&(t=!1),t=eM(i,o,t,r),zx(i,o,t,e,s,r)}}function eM(n,t,e,r){let i=Qy(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=Wh(null,n,t,e,r),e=Ws(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=Wh(i,n,t,e,r),o===null){let c=tM(n,t,r);c!==void 0&&Array.isArray(c)&&(c=Wh(null,n,t,c[1],r),c=Ws(c,t.attrs,r),nM(n,t,r,c))}else o=rM(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function tM(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Ao(r)!==0)return n[yi(r)]}function nM(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[yi(i)]=r}function rM(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ws(r,s,e)}return Ws(r,t.attrs,e)}function Wh(n,t,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],r=Ws(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function Ws(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),al(n,s,e?!0:t[++o]))}return n===void 0?null:n}function iM(n,t,e){if(e==null||e==="")return ft;let r=[],i=Ro(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function oM(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&al(n,r,e)}function sM(n,t,e,r,i,o,s,a){i===It&&(i=ft);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let p=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,v=null,w;u===d?(c+=2,l+=2,p!==f&&(v=d,w=f)):d===null||u!==null&&u<d?(c+=2,v=u):(l+=2,v=d,w=f),v!==null&&gw(n,t,e,r,v,w,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function gw(n,t,e,r,i,o,s,a){if(!(t.type&3))return;let c=n.data,l=c[a+1],u=Hx(l)?N0(c,t,e,i,Ao(l),s):void 0;if(!ql(u)){ql(o)||Bx(l)&&(o=N0(c,null,e,i,a,s));let d=_h(Zn(),e);aT(r,s,d,i,o)}}function N0(n,t,e,r,i,o){let s=t===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=e[i+1];p===It&&(p=d?ft:void 0);let f=d?cl(p,r):u===r?p:void 0;if(l&&!ql(f)&&(f=cl(c,r)),ql(f)&&(a=f,s))return a;let v=n[i+1];i=s?yi(v):Ao(v)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=cl(c,r))}return a}function ql(n){return n!==void 0}function aM(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=qn(Ro(n)))),n}function mw(n,t){return(n.flags&(t?8:16))!==0}function y(n,t=""){let e=W(),r=Be(),i=n+Te,o=r.firstCreatePass?Oo(r,i,1,t,null):r.data[i],s=cM(r,e,o,t,n);e[i]=s,wl()&&kp(r,e,s,o),wo(o,!1)}var cM=(n,t,e,r,i)=>(Vs(!0),AS(t[me],r));function vw(n,t,e,r=""){return $t(n,di(),e)?t+gr(e)+r:It}function lM(n,t,e,r,i,o=""){let s=Wy(),a=Wp(n,s,e,i);return ml(2),a?t+gr(e)+r+gr(i)+o:It}function ue(n){return we("",n),ue}function we(n,t,e){let r=W(),i=vw(r,n,t,e);return i!==It&&yw(r,Zn(),i),we}function Ze(n,t,e,r,i){let o=W(),s=lM(o,n,t,e,r,i);return s!==It&&yw(o,Zn(),s),Ze}function yw(n,t,e){let r=_h(t,n);RS(n[me],r,e)}function ie(n,t,e){jh(t)&&(t=t());let r=W(),i=di();if($t(r,i,t)){let o=Be(),s=js();N_(s,r,n,t,r[me],e)}return ie}function se(n,t){let e=jh(n);return e&&n.set(t),e}function oe(n,t){let e=W(),r=Be(),i=$e();return uw(r,e,e[me],i,n,t),oe}function er(n){return $t(W(),di(),n)?gr(n):It}function rg(n,t,e=""){return vw(W(),n,t,e)}function uM(n,t,e){let r=Be();if(r.firstCreatePass){let i=Dn(n);mp(e,r.data,r.blueprint,i,!0),mp(t,r.data,r.blueprint,i,!1)}}function mp(n,t,e,r,i){if(n=et(n),Array.isArray(n))for(let o=0;o<n.length;o++)mp(n[o],t,e,r,i);else{let o=Be(),s=W(),a=$e(),c=ti(n)?n:et(n.provide),l=ph(n),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(ti(n)||!n.multi){let f=new pi(l,i,R,null),v=Zh(c,t,i?u:u+p,d);v===-1?(Yh(Ol(a,s),o,c),Kh(o,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[v]=f,s[v]=f)}else{let f=Zh(c,t,u+p,d),v=Zh(c,t,u,u+p),w=f>=0&&e[f],_=v>=0&&e[v];if(i&&!_||!i&&!w){Yh(Ol(a,s),o,c);let b=hM(i?fM:dM,e.length,i,r,l,n);!i&&_&&(e[v].providerFactory=b),Kh(o,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(b),s.push(b)}else{let b=_w(e[i?v:f],l,!i&&r);Kh(o,n,f>-1?f:v,b)}!i&&r&&_&&e[v].componentProviders++}}}function Kh(n,t,e,r){let i=ti(t),o=Py(t);if(i||o){let c=(o?et(t.useClass):t).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(e);u===-1?l.push(e,[r,c]):l[u+1].push(r,c)}else l.push(e,c)}}}function _w(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Zh(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function dM(n,t,e,r,i){return vp(this.multi,[])}function fM(n,t,e,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=kl(r,r[B],this.providerFactory.index,i);s=c.slice(0,a),vp(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],vp(o,s);return s}function vp(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function hM(n,t,e,r,i,o){let s=new pi(n,e,R,null);return s.multi=[],s.index=t,s.componentProviders=0,_w(s,i,r&&!e),s}function xr(n,t=[]){return e=>{e.providersResolver=(r,i)=>uM(r,i?i(n):n,t)}}function Ei(n,t,e,r){return ww(W(),Eo(),n,t,e,r)}function ig(n,t,e,r,i,o){return bw(W(),Eo(),n,t,e,r,i,o)}function og(n,t){let e=n[t];return e===It?void 0:e}function ww(n,t,e,r,i,o){let s=t+e;return $t(n,s,i)?Gp(n,s+1,o?r.call(o,i):r(i)):og(n,s+1)}function pM(n,t,e,r,i,o,s){let a=t+e;return Wp(n,a,i,o)?Gp(n,a+2,s?r.call(s,i,o):r(i,o)):og(n,a+2)}function bw(n,t,e,r,i,o,s,a){let c=t+e;return XT(n,c,i,o,s)?Gp(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):og(n,c+3)}function He(n,t){let e=Be(),r,i=n+Te;e.firstCreatePass?(r=gM(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=hr(r.type,!0)),s,a=dt(R);try{let c=Nl(!1),l=o();return Nl(c),wh(e,W(),i,l),l}finally{dt(a)}}function gM(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function ra(n,t,e){let r=n+Te,i=W(),o=fl(i,r);return ag(i,r)?ww(i,Eo(),t,o.transform,e,o):o.transform(e)}function mt(n,t,e,r){let i=n+Te,o=W(),s=fl(o,i);return ag(o,i)?pM(o,Eo(),t,s.transform,e,r,s):s.transform(e,r)}function sg(n,t,e,r,i){let o=n+Te,s=W(),a=fl(s,o);return ag(s,o)?bw(s,Eo(),t,a.transform,e,r,i,a):a.transform(e,r,i)}function ag(n,t){return n[B].data[t].pure}var Gl=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},cg=(()=>{class n{compileModuleSync(e){return new zl(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=uh(e),o=u_(i.declarations).reduce((s,a)=>{let c=Wn(a);return c&&s.push(new mi(c)),s},[]);return new Gl(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mM=(()=>{class n{zone=D(Ae);changeDetectionScheduler=D(tn);applicationRef=D(Tr);applicationErrorHandler=D(Ct);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ew({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Ae(H(C({},Dw()),{scheduleInRootZone:e})),[{provide:Ae,useFactory:n},{provide:vr,multi:!0,useFactory:()=>{let r=D(mM,{optional:!0});return()=>r.initialize()}},{provide:vr,multi:!0,useFactory:()=>{let r=D(vM);return()=>{r.initialize()}}},t===!0?{provide:Vh,useValue:!0}:[],{provide:Uh,useValue:e??__},{provide:Ct,useFactory:()=>{let r=D(Ae),i=D(Pe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(jt),o.handleError(s))})}}}]}function Dw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var vM=(()=>{class n{subscription=new Le;initialized=!1;zone=D(Ae);pendingTasks=D(Cn);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cw=(()=>{class n{applicationErrorHandler=D(Ct);appRef=D(Tr);taskService=D(Cn);ngZone=D(Ae);zonelessEnabled=D(bl);tracing=D(_i,{optional:!0});disableScheduling=D(Vh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ll):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(Uh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jl||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?m0:w_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ll+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(e),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,m0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yM(){return typeof $localize<"u"&&$localize.locale||na}var Di=new A("",{providedIn:"root",factory:()=>D(Di,{optional:!0,skipSelf:!0})||yM()});function Je(n){return wy(n)}function Fo(n,t){return Dc(n,t?.equal)}var lg=class{[ot];constructor(t){this[ot]=t}destroy(){this[ot].destroy()}};function ug(n,t){let e=t?.injector??D(nt),r=t?.manualCleanup!==!0?e.get(kt):null,i,o=e.get(Co,null,{optional:!0}),s=e.get(tn);return o!==null?(i=bM(o.view,s,n),r instanceof xs&&r._lView===o.view&&(r=null)):i=EM(n,e.get(Bs),s),i.injector=e,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new lg(i)}var Iw=H(C({},by),{cleanupFns:void 0,zone:null,onDestroyFn:fi,run(){let n=bo(!1);try{Ey(this)}finally{bo(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=q(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],q(n)}}}),_M=H(C({},Iw),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Kr(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),wM=H(C({},Iw),{consumerMarkedDirty(){this.view[U]|=8192,Er(this.view),this.notifier.notify(13)},destroy(){Kr(this),this.onDestroyFn(),this.cleanup(),this.view[Kn]?.delete(this)}});function bM(n,t,e){let r=Object.create(wM);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=Sw(r,e),n[Kn]??=new Set,n[Kn].add(r),r.consumerMarkedDirty(r),r}function EM(n,t,e){let r=Object.create(_M);return r.fn=Sw(r,n),r.scheduler=t,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Sw(n,t){return()=>{t(e=>(n.cleanupFns??=[]).push(e))}}var Nw=Symbol("InputSignalNode#UNSET"),FM=H(C({},Cc),{transformFn:void 0,applyValueToInputSignal(n,t){eo(n,t)}});function Ow(n,t){let e=Object.create(FM);e.value=n,e.transformFn=t?.transform;function r(){if(Ji(e),e.value===Nw){let i=null;throw new S(-950,i)}return e.value}return r[ot]=e,r}var du=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Zs(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},LM=new A("");LM.__NG_ELEMENT_ID__=n=>{let t=$e();if(t===null)throw new S(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new S(204,!1)};function Tw(n,t){return Ow(n,t)}function jM(n){return Ow(Nw,n)}var kw=(Tw.required=jM,Tw);var dg=new A(""),VM=new A("");function ia(n){return!n.moduleRef}function UM(n){let t=ia(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Ae);return e.run(()=>{ia(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(Ct),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:r})}),ia(n)){let o=()=>t.destroy(),s=n.platformInjector.get(dg);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(dg);s.add(o),n.moduleRef.onDestroy(()=>{Hs(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return $M(r,e,()=>{let o=t.get(Cn),s=o.add(),a=t.get(Qp);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Di,na);if(lw(c||na),!t.get(VM,!0))return ia(n)?t.get(Tr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ia(n)){let u=t.get(Tr);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return BM?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var BM;function $M(n,t,e){try{let r=e();return Sr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n(r)),r}}var uu=null;function HM(n=[],t){return nt.create({name:t,providers:[{provide:Rs,useValue:"platform"},{provide:dg,useValue:new Set([()=>uu=null])},...n]})}function zM(n=[]){if(uu)return uu;let t=HM(n);return uu=t,sw(),qM(t),t}function qM(n){let t=n.get(Zl,null);We(n,()=>{t?.forEach(e=>e())})}var Ci=(()=>{class n{static __NG_ELEMENT_ID__=GM}return n})();function GM(n){return WM($e(),W(),(n&16)===16)}function WM(n,t,e){if(wr(n)&&!e){let r=Bt(n.index,t);return new Cr(r,r)}else if(n.type&175){let r=t[Et];return new Cr(r,t)}return null}var fg=class{constructor(){}supports(t){return qp(t)}create(t){return new hg(t)}},KM=(n,t)=>t,hg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||KM}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<xw(r,i,o)?e:r,a=xw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let p=0;p<l;p++){let f=p<o.length?o[p]:o[p]=0,v=f+p;u<=v&&v<l&&(o[p]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!qp(t))throw new S(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,Y_(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new pg(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new fu),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},pg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},gg=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},fu=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new gg,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function xw(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function Mw(){return new mg([new fg])}var mg=(()=>{class n{factories;static \u0275prov=M({token:n,providedIn:"root",factory:Mw});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let r=D(n,{optional:!0,skipSelf:!0});return n.create(e,r||Mw())}}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new S(901,!1)}}return n})();function Pw(n){let{rootComponent:t,appProviders:e,platformProviders:r,platformRef:i}=n;de(8);try{let o=i?.injector??zM(r),s=[Ew({}),{provide:tn,useExisting:Cw},o0,...e||[]],a=new Gs({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return UM({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{de(9)}}function Mr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Fw(n){let t=Wn(n);if(!t)return null;let e=new mi(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Vw=null;function qt(){return Vw}function vg(n){Vw??=n}var oa=class{},sa=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>D(Uw),providedIn:"platform"})}return n})(),yg=new A(""),Uw=(()=>{class n extends sa{_location;_history;_doc=D(xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qt().getBaseHref(this._doc)}onPopState(e){let r=qt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=qt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function hu(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function Lw(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function fn(n){return n&&n[0]!=="?"?`?${n}`:n}var hn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>D(gu),providedIn:"root"})}return n})(),pu=new A(""),gu=(()=>{class n extends hn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return hu(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+fn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+fn(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+fn(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(O(sa),O(pu,8))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ar=(()=>{class n{_subject=new je;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=YM(Lw(jw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+fn(r))}normalize(e){return n.stripTrailingSlash(JM(this._basePath,jw(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=fn;static joinWithSlash=hu;static stripTrailingSlash=Lw;static \u0275fac=function(r){return new(r||n)(O(hn))};static \u0275prov=M({token:n,factory:()=>ZM(),providedIn:"root"})}return n})();function ZM(){return new Ar(O(hn))}function JM(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function jw(n){return n.replace(/\/index.html$/,"")}function YM(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Dg=(()=>{class n extends hn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=hu(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+fn(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+fn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(O(sa),O(pu,8))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})();var ct=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(ct||{}),fe=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(fe||{}),Tt=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Tt||{}),nr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qw(n){return Pt(n)[Ce.LocaleId]}function Gw(n,t,e){let r=Pt(n),i=[r[Ce.DayPeriodsFormat],r[Ce.DayPeriodsStandalone]],o=Gt(i,t);return Gt(o,e)}function Ww(n,t,e){let r=Pt(n),i=[r[Ce.DaysFormat],r[Ce.DaysStandalone]],o=Gt(i,t);return Gt(o,e)}function Kw(n,t,e){let r=Pt(n),i=[r[Ce.MonthsFormat],r[Ce.MonthsStandalone]],o=Gt(i,t);return Gt(o,e)}function Zw(n,t){let r=Pt(n)[Ce.Eras];return Gt(r,t)}function aa(n,t){let e=Pt(n);return Gt(e[Ce.DateFormat],t)}function ca(n,t){let e=Pt(n);return Gt(e[Ce.TimeFormat],t)}function la(n,t){let r=Pt(n)[Ce.DateTimeFormat];return Gt(r,t)}function ua(n,t){let e=Pt(n),r=e[Ce.NumberSymbols][t];if(typeof r>"u"){if(t===nr.CurrencyDecimal)return e[Ce.NumberSymbols][nr.Decimal];if(t===nr.CurrencyGroup)return e[Ce.NumberSymbols][nr.Group]}return r}function Jw(n){if(!n[Ce.ExtraData])throw new S(2303,!1)}function Yw(n){let t=Pt(n);return Jw(t),(t[Ce.ExtraData][2]||[]).map(r=>typeof r=="string"?_g(r):[_g(r[0]),_g(r[1])])}function Qw(n,t,e){let r=Pt(n);Jw(r);let i=[r[Ce.ExtraData][0],r[Ce.ExtraData][1]],o=Gt(i,t)||[];return Gt(o,e)||[]}function Gt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new S(2304,!1)}function _g(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var QM=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mu={},XM=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Xw(n,t,e,r){let i=cA(n);t=tr(e,t)||t;let s=[],a;for(;t;)if(a=XM.exec(t),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;t=u}else{s.push(t);break}let c=i.getTimezoneOffset();r&&(c=tb(r,c),i=aA(i,r));let l="";return s.forEach(u=>{let d=oA(u);l+=d?d(i,e,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function bu(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function tr(n,t){let e=qw(n);if(mu[e]??={},mu[e][t])return mu[e][t];let r="";switch(t){case"shortDate":r=aa(n,Tt.Short);break;case"mediumDate":r=aa(n,Tt.Medium);break;case"longDate":r=aa(n,Tt.Long);break;case"fullDate":r=aa(n,Tt.Full);break;case"shortTime":r=ca(n,Tt.Short);break;case"mediumTime":r=ca(n,Tt.Medium);break;case"longTime":r=ca(n,Tt.Long);break;case"fullTime":r=ca(n,Tt.Full);break;case"short":let i=tr(n,"shortTime"),o=tr(n,"shortDate");r=vu(la(n,Tt.Short),[i,o]);break;case"medium":let s=tr(n,"mediumTime"),a=tr(n,"mediumDate");r=vu(la(n,Tt.Medium),[s,a]);break;case"long":let c=tr(n,"longTime"),l=tr(n,"longDate");r=vu(la(n,Tt.Long),[c,l]);break;case"full":let u=tr(n,"fullTime"),d=tr(n,"fullDate");r=vu(la(n,Tt.Full),[u,d]);break}return r&&(mu[e][t]=r),r}function vu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function pn(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function eA(n,t){return pn(n,3).substring(0,t)}function Ue(n,t,e=0,r=!1,i=!1){return function(o,s){let a=tA(n,o);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return eA(a,t);let c=ua(s,nr.MinusSign);return pn(a,t,c,r,i)}}function tA(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new S(2301,!1)}}function _e(n,t,e=ct.Format,r=!1){return function(i,o){return nA(i,o,n,t,e,r)}}function nA(n,t,e,r,i,o){switch(e){case 2:return Kw(t,i,r)[n.getMonth()];case 1:return Ww(t,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=Yw(t),u=Qw(t,i,r),d=l.findIndex(p=>{if(Array.isArray(p)){let[f,v]=p,w=s>=f.hours&&a>=f.minutes,_=s<v.hours||s===v.hours&&a<v.minutes;if(f.hours<v.hours){if(w&&_)return!0}else if(w||_)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return Gw(t,i,r)[s<12?0:1];case 3:return Zw(t,r)[n.getFullYear()<=0?0:1];default:let c=e;throw new S(2302,!1)}}function yu(n){return function(t,e,r){let i=-1*r,o=ua(e,nr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+pn(s,2,o)+pn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+pn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+pn(s,2,o)+":"+pn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+pn(s,2,o)+":"+pn(Math.abs(i%60),2,o);default:throw new S(2310,!1)}}}var rA=0,wu=4;function iA(n){let t=bu(n,rA,1).getDay();return bu(n,0,1+(t<=wu?wu:wu+7)-t)}function eb(n){let t=n.getDay(),e=t===0?-3:wu-t;return bu(n.getFullYear(),n.getMonth(),n.getDate()+e)}function wg(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=eb(e),s=iA(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return pn(i,n,ua(r,nr.MinusSign))}}function _u(n,t=!1){return function(e,r){let o=eb(e).getFullYear();return pn(o,n,ua(r,nr.MinusSign),t)}}var bg={};function oA(n){if(bg[n])return bg[n];let t;switch(n){case"G":case"GG":case"GGG":t=_e(3,fe.Abbreviated);break;case"GGGG":t=_e(3,fe.Wide);break;case"GGGGG":t=_e(3,fe.Narrow);break;case"y":t=Ue(0,1,0,!1,!0);break;case"yy":t=Ue(0,2,0,!0,!0);break;case"yyy":t=Ue(0,3,0,!1,!0);break;case"yyyy":t=Ue(0,4,0,!1,!0);break;case"Y":t=_u(1);break;case"YY":t=_u(2,!0);break;case"YYY":t=_u(3);break;case"YYYY":t=_u(4);break;case"M":case"L":t=Ue(1,1,1);break;case"MM":case"LL":t=Ue(1,2,1);break;case"MMM":t=_e(2,fe.Abbreviated);break;case"MMMM":t=_e(2,fe.Wide);break;case"MMMMM":t=_e(2,fe.Narrow);break;case"LLL":t=_e(2,fe.Abbreviated,ct.Standalone);break;case"LLLL":t=_e(2,fe.Wide,ct.Standalone);break;case"LLLLL":t=_e(2,fe.Narrow,ct.Standalone);break;case"w":t=wg(1);break;case"ww":t=wg(2);break;case"W":t=wg(1,!0);break;case"d":t=Ue(2,1);break;case"dd":t=Ue(2,2);break;case"c":case"cc":t=Ue(7,1);break;case"ccc":t=_e(1,fe.Abbreviated,ct.Standalone);break;case"cccc":t=_e(1,fe.Wide,ct.Standalone);break;case"ccccc":t=_e(1,fe.Narrow,ct.Standalone);break;case"cccccc":t=_e(1,fe.Short,ct.Standalone);break;case"E":case"EE":case"EEE":t=_e(1,fe.Abbreviated);break;case"EEEE":t=_e(1,fe.Wide);break;case"EEEEE":t=_e(1,fe.Narrow);break;case"EEEEEE":t=_e(1,fe.Short);break;case"a":case"aa":case"aaa":t=_e(0,fe.Abbreviated);break;case"aaaa":t=_e(0,fe.Wide);break;case"aaaaa":t=_e(0,fe.Narrow);break;case"b":case"bb":case"bbb":t=_e(0,fe.Abbreviated,ct.Standalone,!0);break;case"bbbb":t=_e(0,fe.Wide,ct.Standalone,!0);break;case"bbbbb":t=_e(0,fe.Narrow,ct.Standalone,!0);break;case"B":case"BB":case"BBB":t=_e(0,fe.Abbreviated,ct.Format,!0);break;case"BBBB":t=_e(0,fe.Wide,ct.Format,!0);break;case"BBBBB":t=_e(0,fe.Narrow,ct.Format,!0);break;case"h":t=Ue(3,1,-12);break;case"hh":t=Ue(3,2,-12);break;case"H":t=Ue(3,1);break;case"HH":t=Ue(3,2);break;case"m":t=Ue(4,1);break;case"mm":t=Ue(4,2);break;case"s":t=Ue(5,1);break;case"ss":t=Ue(5,2);break;case"S":t=Ue(6,1);break;case"SS":t=Ue(6,2);break;case"SSS":t=Ue(6,3);break;case"Z":case"ZZ":case"ZZZ":t=yu(0);break;case"ZZZZZ":t=yu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=yu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=yu(2);break;default:return null}return bg[n]=t,t}function tb(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function sA(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function aA(n,t,e){let i=n.getTimezoneOffset(),o=tb(t,i);return sA(n,-1*(o-i))}function cA(n){if(Bw(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return bu(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(QM))return lA(r)}let t=new Date(n);if(!Bw(t))throw new S(2311,!1);return t}function lA(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,c,l),t}function Bw(n){return n instanceof Date&&!isNaN(n.valueOf())}var Eg=/\s+/,$w=[],Cg=(()=>{class n{_ngEl;_renderer;initialClasses=$w;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Eg):$w}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Eg):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Eg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(R(ln),R(Tn))};static \u0275dir=Re({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Eu=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Eu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Hw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Hw(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(R(wi),R(Qs),R(mg))};static \u0275dir=Re({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Hw(n,t){n.context.$implicit=t.item}var vt=(()=>{class n{_viewContainer;_context=new Du;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zw(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zw(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(R(wi),R(Qs))};static \u0275dir=Re({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Du=class{$implicit=null;ngIf=null};function zw(n,t){if(n&&!n.createEmbeddedView)throw new S(2020,!1)}function Ig(n,t){return new S(2100,!1)}var Sg=(()=>{class n{transform(e){if(e==null)return null;if(typeof e!="string")throw Ig(n,e);return e.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=ea({name:"uppercase",type:n,pure:!0})}return n})(),uA="mediumDate",nb=new A(""),rb=new A(""),rr=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??uA,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Xw(e,s,o||this.locale,a)}catch(s){throw Ig(n,s.message)}}static \u0275fac=function(r){return new(r||n)(R(Di,16),R(nb,24),R(rb,24))};static \u0275pipe=ea({name:"date",type:n,pure:!0})}return n})();var Tg=(()=>{class n{transform(e,r,i){if(e==null)return null;if(!(typeof e=="string"||Array.isArray(e)))throw Ig(n,e);return e.slice(r,i)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=ea({name:"slice",type:n,pure:!1})}return n})();var Ne=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ht({type:n});static \u0275inj=Nt({})}return n})();function da(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Ii=class{};function ib(n,t,e){return Xp(n,t,e)}var ob="browser";var sb=(()=>{class n{static \u0275prov=M({token:n,providedIn:"root",factory:()=>new xg(D(xe),window)})}return n})(),xg=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(H(C({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let r=dA(this.document,t);r&&(this.scrollToElement(r,e),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(wn(2400,!1))}}scrollToElement(t,e){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(H(C({},e),{left:i-s[0],top:o-s[1]}))}};function dA(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var fa=class{_doc;constructor(t){this._doc=t}manager},Cu=(()=>{class n extends fa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(O(xe))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),Su=new A(""),Og=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(s=>{s.manager=this});let i=e.filter(s=>!(s instanceof Cu));this._plugins=i.slice().reverse();let o=e.find(s=>s instanceof Cu);o&&this._plugins.push(o)}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(O(Su),O(Ae))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),Mg="ng-app-id";function ab(n){for(let t of n)t.remove()}function cb(n,t){let e=t.createElement("style");return e.textContent=n,e}function fA(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Mg}="${t}"],link[${Mg}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Mg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Rg(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var kg=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,fA(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,cb);r?.forEach(i=>this.addUsage(i,this.external,Rg))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(ab(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])ab(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,cb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Rg(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(O(xe),O(Kl),O(Jl,8),O(Js))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),Ag={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pg=/%COMP%/g;var ub="%COMP%",hA=`_nghost-${ub}`,pA=`_ngcontent-${ub}`,gA=!0,mA=new A("",{providedIn:"root",factory:()=>gA});function vA(n){return pA.replace(Pg,n)}function yA(n){return hA.replace(Pg,n)}function db(n,t){return t.map(e=>e.replace(Pg,n))}var Fg=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,c=null,l=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new ha(e,s,a,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,r);return i instanceof Iu?i.applyToHost(e):i instanceof pa&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Jn.Emulated:o=new Iu(c,l,r,this.appId,u,s,a,d,p);break;case Jn.ShadowDom:return new Ng(c,l,e,r,s,a,this.nonce,d,p);default:o=new pa(c,l,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(O(Og),O(kg),O(Kl),O(mA),O(xe),O(Ae),O(Jl),O(_i,8))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),ha=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Ag[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(lb(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(lb(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new S(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=Ag[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=Ag[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Sn.DashCase|Sn.Important)?t.style.setProperty(e,r,i&Sn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Sn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=qt().getGlobalEventTarget(this.doc,t),!t))throw new S(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function lb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ng=class extends ha{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=db(i.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=Rg(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pa=class extends ha{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?db(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Mo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Iu=class extends pa{contentAttr;hostAttr;constructor(t,e,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,e,r,o,s,a,c,l,u),this.contentAttr=vA(u),this.hostAttr=yA(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var Tu=class n extends oa{supportsDOMEvents=!0;static makeCurrent(){vg(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=_A();return e==null?null:wA(e)}resetBaseElement(){ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return da(document.cookie,t)}},ga=null;function _A(){return ga=ga||document.head.querySelector("base"),ga?ga.getAttribute("href"):null}function wA(n){return new URL(n,document.baseURI).pathname}var bA=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),fb=["alt","control","meta","shift"],EA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DA={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},hb=(()=>{class n extends fa{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qt().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fb.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let i=EA[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fb.forEach(s=>{if(s!==i){let a=DA[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(O(xe))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})();function Lg(n,t,e){let r=C({rootComponent:n,platformRef:e?.platformRef},CA(t));return Pw(r)}function CA(n){return{appProviders:[...MA,...n?.providers??[]],platformProviders:xA}}function IA(){Tu.makeCurrent()}function SA(){return new jt}function TA(){return wp(document),document}var xA=[{provide:Js,useValue:ob},{provide:Zl,useValue:IA,multi:!0},{provide:xe,useFactory:TA}];var MA=[{provide:Rs,useValue:"root"},{provide:jt,useFactory:SA},{provide:Su,useClass:Cu,multi:!0,deps:[xe]},{provide:Su,useClass:hb,multi:!0,deps:[xe]},Fg,kg,Og,{provide:gi,useExisting:Fg},{provide:Ii,useClass:bA},[]];var jo=class{},Vo=class{},Mn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Au=class{encodeKey(t){return pb(t)}encodeValue(t){return pb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function AA(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var RA=/%(\d[a-f0-9])/gi,NA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pb(n){return encodeURIComponent(n).replace(RA,(t,e)=>NA[e]??t)}function xu(n){return`${n}`}var ir=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Au,t.fromString){if(t.fromObject)throw new S(2805,!1);this.map=AA(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(xu):[xu(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(xu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(xu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Ru=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function OA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function gb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function mb(n){return typeof Blob<"u"&&n instanceof Blob}function vb(n){return typeof FormData<"u"&&n instanceof FormData}function kA(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ma="Content-Type",Nu="Accept",$g="X-Request-URL",_b="text/plain",wb="application/json",bb=`${wb}, ${_b}, */*`,Lo=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let o;if(OA(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new S(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Mn,this.context??=new Ru,!this.params)this.params=new ir,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||gb(this.body)||mb(this.body)||vb(this.body)||kA(this.body)?this.body:this.body instanceof ir?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||vb(this.body)?null:mb(this.body)?this.body.type||null:gb(this.body)?null:typeof this.body=="string"?_b:this.body instanceof ir?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?wb:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,u=t.credentials||this.credentials,d=t.referrer||this.referrer,p=t.integrity||this.integrity,f=t.transferCache??this.transferCache,v=t.timeout??this.timeout,w=t.body!==void 0?t.body:this.body,_=t.withCredentials??this.withCredentials,b=t.reportProgress??this.reportProgress,j=t.headers||this.headers,x=t.params||this.params,I=t.context??this.context;return t.setHeaders!==void 0&&(j=Object.keys(t.setHeaders).reduce((Z,Fe)=>Z.set(Fe,t.setHeaders[Fe]),j)),t.setParams&&(x=Object.keys(t.setParams).reduce((Z,Fe)=>Z.set(Fe,t.setParams[Fe]),x)),new n(e,r,w,{params:x,headers:j,context:I,reportProgress:b,responseType:i,withCredentials:_,transferCache:f,keepalive:o,cache:a,priority:s,timeout:v,mode:c,redirect:l,credentials:u,referrer:d,integrity:p})}},or=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(or||{}),Uo=class{headers;status;statusText;url;ok;type;redirected;constructor(t,e=200,r="OK"){this.headers=t.headers||new Mn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},va=class n extends Uo{constructor(t={}){super(t)}type=or.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Bo=class n extends Uo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=or.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},xn=class extends Uo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Eb=200,PA=204;function jg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var ku=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Lo)o=e;else{let c;i.headers instanceof Mn?c=i.headers:c=new Mn(i.headers);let l;i.params&&(i.params instanceof ir?l=i.params:l=new ir({fromObject:i.params})),o=new Lo(e,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=P(o).pipe(_n(c=>this.handler.handle(c)));if(e instanceof Lo||i.observe==="events")return s;let a=s.pipe(st(c=>c instanceof Bo));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(V(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new S(2806,!1);return c.body}));case"blob":return a.pipe(V(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new S(2807,!1);return c.body}));case"text":return a.pipe(V(c=>{if(c.body!==null&&typeof c.body!="string")throw new S(2808,!1);return c.body}));case"json":default:return a.pipe(V(c=>c.body))}case"response":return a;default:throw new S(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new ir().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,jg(i,r))}post(e,r,i={}){return this.request("POST",e,jg(i,r))}put(e,r,i={}){return this.request("PUT",e,jg(i,r))}static \u0275fac=function(r){return new(r||n)(O(jo))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),FA=/^\)\]\}',?\n/;function yb(n){if(n.url)return n.url;let t=$g.toLocaleLowerCase();return n.headers.get(t)}var Db=new A(""),Mu=(()=>{class n{fetchImpl=D(Vg,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=D(Ae);destroyRef=D(kt);handle(e){return new Y(r=>{let i=new AbortController;this.doRequest(e,i.signal,r).then(Ug,s=>r.error(new xn({error:s})));let o;return e.timeout&&(o=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{i.signal.aborted||i.abort(new DOMException("signal timed out","TimeoutError"))},e.timeout))),()=>{o!==void 0&&clearTimeout(o),i.abort()}})}doRequest(e,r,i){return h(this,null,function*(){let o=this.createRequestInit(e),s;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,C({signal:r},o)));LA(v),i.next({type:or.Sent}),s=yield v}catch(v){i.error(new xn({error:v,status:v.status??0,statusText:v.statusText,url:e.urlWithParams,headers:v.headers}));return}let a=new Mn(s.headers),c=s.statusText,l=yb(s)??e.urlWithParams,u=s.status,d=null;if(e.reportProgress&&i.next(new va({headers:a,status:u,statusText:c,url:l})),s.body){let v=s.headers.get("content-length"),w=[],_=s.body.getReader(),b=0,j,x,I=typeof Zone<"u"&&Zone.current,Z=!1;if(yield this.ngZone.runOutsideAngular(()=>h(this,null,function*(){for(;;){if(this.destroyRef.destroyed){yield _.cancel(),Z=!0;break}let{done:ne,value:De}=yield _.read();if(ne)break;if(w.push(De),b+=De.length,e.reportProgress){x=e.responseType==="text"?(x??"")+(j??=new TextDecoder).decode(De,{stream:!0}):void 0;let Xt=()=>i.next({type:or.DownloadProgress,total:v?+v:void 0,loaded:b,partialText:x});I?I.run(Xt):Xt()}}})),Z){i.complete();return}let Fe=this.concatChunks(w,b);try{let ne=s.headers.get(ma)??"";d=this.parseBody(e,Fe,ne,u)}catch(ne){i.error(new xn({error:ne,headers:new Mn(s.headers),status:s.status,statusText:s.statusText,url:yb(s)??e.urlWithParams}));return}}u===0&&(u=d?Eb:0);let p=u>=200&&u<300,f=s.redirected;p?(i.next(new Bo({body:d,headers:a,status:u,statusText:c,url:l,redirected:f})),i.complete()):i.error(new xn({error:d,headers:a,status:u,statusText:c,url:l,redirected:f}))})}parseBody(e,r,i,o){switch(e.responseType){case"json":let s=new TextDecoder().decode(r).replace(FA,"");if(s==="")return null;try{return JSON.parse(s)}catch(a){if(o<200||o>=300)return s;throw a}case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i;if(i=e.credentials,e.withCredentials&&(i="include"),e.headers.forEach((o,s)=>r[o]=s.join(",")),e.headers.has(Nu)||(r[Nu]=bb),!e.headers.has(ma)){let o=e.detectContentTypeHeader();o!==null&&(r[ma]=o)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i,keepalive:e.keepalive,cache:e.cache,priority:e.priority,mode:e.mode,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}}concatChunks(e,r){let i=new Uint8Array(r),o=0;for(let s of e)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),Vg=class{};function Ug(){}function LA(n){n.then(Ug,Ug)}function jA(n,t){return t(n)}function VA(n,t,e){return(r,i)=>We(e,()=>t(r,o=>n(o,i)))}var Cb=new A(""),Ib=new A(""),Sb=new A("",{providedIn:"root",factory:()=>!0});var Ou=(()=>{class n extends jo{backend;injector;chain=null;pendingTasks=D(Us);contributeToStability=D(Sb);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Cb),...this.injector.get(Ib,[])]));this.chain=r.reduceRight((i,o)=>VA(i,o,this.injector),jA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Qr(r))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(O(Vo),O(Pe))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})();var UA=/^\)\]\}',?\n/,BA=RegExp(`^${$g}:`,"m");function $A(n){return"responseURL"in n&&n.responseURL?n.responseURL:BA.test(n.getAllResponseHeaders())?n.getResponseHeader($g):null}var Bg=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new S(-2800,!1);let r=this.xhrFactory;return P(null).pipe(Xe(()=>new Y(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((_,b)=>s.setRequestHeader(_,b.join(","))),e.headers.has(Nu)||s.setRequestHeader(Nu,bb),!e.headers.has(ma)){let _=e.detectContentTypeHeader();_!==null&&s.setRequestHeader(ma,_)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let _=e.responseType.toLowerCase();s.responseType=_!=="json"?_:"text"}let a=e.serializeBody(),c=null,l=()=>{if(c!==null)return c;let _=s.statusText||"OK",b=new Mn(s.getAllResponseHeaders()),j=$A(s)||e.url;return c=new va({headers:b,status:s.status,statusText:_,url:j}),c},u=()=>{let{headers:_,status:b,statusText:j,url:x}=l(),I=null;b!==PA&&(I=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=I?Eb:0);let Z=b>=200&&b<300;if(e.responseType==="json"&&typeof I=="string"){let Fe=I;I=I.replace(UA,"");try{I=I!==""?JSON.parse(I):null}catch(ne){I=Fe,Z&&(Z=!1,I={error:ne,text:I})}}Z?(o.next(new Bo({body:I,headers:_,status:b,statusText:j,url:x||void 0})),o.complete()):o.error(new xn({error:I,headers:_,status:b,statusText:j,url:x||void 0}))},d=_=>{let{url:b}=l(),j=new xn({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(j)},p=d;e.timeout&&(p=_=>{let{url:b}=l(),j=new xn({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:b||void 0});o.error(j)});let f=!1,v=_=>{f||(o.next(l()),f=!0);let b={type:or.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(b.total=_.total),e.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},w=_=>{let b={type:or.UploadProgress,loaded:_.loaded};_.lengthComputable&&(b.total=_.total),o.next(b)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",p),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:or.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(O(Ii))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),Tb=new A(""),HA="XSRF-TOKEN",zA=new A("",{providedIn:"root",factory:()=>HA}),qA="X-XSRF-TOKEN",GA=new A("",{providedIn:"root",factory:()=>qA}),ya=class{},WA=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=da(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(O(xe),O(zA))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),KA=/^(?:https?:)?\/\//i;function ZA(n,t){if(!D(Tb)||n.method==="GET"||n.method==="HEAD"||KA.test(n.url))return t(n);let e=D(ya).getToken(),r=D(GA);return e!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,e)})),t(n)}var Hg=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(Hg||{});function JA(n,t){return{\u0275kind:n,\u0275providers:t}}function zg(...n){let t=[ku,Bg,Ou,{provide:jo,useExisting:Ou},{provide:Vo,useFactory:()=>D(Db,{optional:!0})??D(Bg)},{provide:Cb,useValue:ZA,multi:!0},{provide:Tb,useValue:!0},{provide:ya,useClass:WA}];for(let e of n)t.push(...e.\u0275providers);return ii(t)}function qg(){return JA(Hg.Fetch,[Mu,{provide:Db,useExisting:Mu},{provide:Vo,useExisting:Mu}])}var xb=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(O(xe))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var z="primary",Ra=Symbol("RouteTitle"),Jg=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function xi(n){return new Jg(n)}function Fb(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function XA(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!An(n[e],t[e]))return!1;return!0}function An(n,t){let e=n?Yg(n):void 0,r=t?Yg(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Lb(n[i],t[i]))return!1;return!0}function Yg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Lb(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function jb(n){return n.length>0?n[n.length-1]:null}function sr(n){return Lf(n)?n:Sr(n)?ye(Promise.resolve(n)):P(n)}var eR={exact:Ub,subset:Bb},Vb={exact:tR,subset:nR,ignored:()=>!0};function Mb(n,t,e){return eR[e.paths](n.root,t.root,e.matrixParams)&&Vb[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function tR(n,t){return An(n,t)}function Ub(n,t,e){if(!Si(n.segments,t.segments)||!Lu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!Ub(n.children[r],t.children[r],e))return!1;return!0}function nR(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Lb(n[e],t[e]))}function Bb(n,t,e){return $b(n,t,t.segments,e)}function $b(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!Si(i,e)||t.hasChildren()||!Lu(i,e,r))}else if(n.segments.length===e.length){if(!Si(n.segments,e)||!Lu(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!Bb(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Si(n.segments,i)||!Lu(n.segments,i,r)||!n.children[z]?!1:$b(n.children[z],t,o,r)}}function Lu(n,t,e){return t.every((r,i)=>Vb[e](n[i].parameters,r.parameters))}var Nn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ce([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xi(this.queryParams),this._queryParamMap}toString(){return oR.serialize(this)}},ce=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ju(this)}},Rr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=xi(this.parameters),this._parameterMap}toString(){return zb(this)}};function rR(n,t){return Si(n,t)&&n.every((e,r)=>An(e.parameters,t[r].parameters))}function Si(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function iR(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===z&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==z&&(e=e.concat(t(i,r)))}),e}var Mi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>new Nr,providedIn:"root"})}return n})(),Nr=class{parse(t){let e=new Xg(t);return new Nn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${_a(t.root,!0)}`,r=cR(t.queryParams),i=typeof t.fragment=="string"?`#${sR(t.fragment)}`:"";return`${e}${r}${i}`}},oR=new Nr;function ju(n){return n.segments.map(t=>zb(t)).join("/")}function _a(n,t){if(!n.hasChildren())return ju(n);if(t){let e=n.children[z]?_a(n.children[z],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${_a(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=iR(n,(r,i)=>i===z?[_a(n.children[z],!1)]:[`${i}:${_a(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[z]!=null?`${ju(n)}/${e[0]}`:`${ju(n)}/(${e.join("//")})`}}function Hb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pu(n){return Hb(n).replace(/%3B/gi,";")}function sR(n){return encodeURI(n)}function Qg(n){return Hb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vu(n){return decodeURIComponent(n)}function Ab(n){return Vu(n.replace(/\+/g,"%20"))}function zb(n){return`${Qg(n.path)}${aR(n.parameters)}`}function aR(n){return Object.entries(n).map(([t,e])=>`;${Qg(t)}=${Qg(e)}`).join("")}function cR(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Pu(e)}=${Pu(i)}`).join("&"):`${Pu(e)}=${Pu(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var lR=/^[^\/()?;#]+/;function Gg(n){let t=n.match(lR);return t?t[0]:""}var uR=/^[^\/()?;=#]+/;function dR(n){let t=n.match(uR);return t?t[0]:""}var fR=/^[^=?&#]+/;function hR(n){let t=n.match(fR);return t?t[0]:""}var pR=/^[^&#]+/;function gR(n){let t=n.match(pR);return t?t[0]:""}var Xg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[z]=new ce(t,e)),r}parseSegment(){let t=Gg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(t),new Rr(Vu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=dR(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Gg(this.remaining);i&&(r=i,this.capture(r))}t[Vu(e)]=Vu(r)}parseQueryParam(t){let e=hR(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=gR(this.remaining);s&&(r=s,this.capture(r))}let i=Ab(e),o=Ab(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=z);let s=this.parseChildren();e[o??z]=Object.keys(s).length===1&&s[z]?s[z]:new ce([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new S(4011,!1)}};function qb(n){return n.segments.length>0?new ce([],{[z]:n}):n}function Gb(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=Gb(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new ce(n.segments,t);return mR(e)}function mR(n){if(n.numberOfChildren===1&&n.children[z]){let t=n.children[z];return new ce(n.segments.concat(t.segments),t.children)}return n}function Or(n){return n instanceof Nn}function Wb(n,t,e=null,r=null){let i=Kb(n);return Zb(i,t,e,r)}function Kb(n){let t;function e(o){let s={};for(let c of o.children){let l=e(c);s[c.outlet]=l}let a=new ce(o.url,s);return o===n&&(t=a),a}let r=e(n.root),i=qb(r);return t??i}function Zb(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return Wg(i,i,i,e,r);let o=vR(t);if(o.toRoot())return Wg(i,i,new ce([],{}),e,r);let s=yR(o,i,n),a=s.processChildren?ba(s.segmentGroup,s.index,o.commands):Yb(s.segmentGroup,s.index,o.commands);return Wg(i,s.segmentGroup,a,e,r)}function Uu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Da(n){return typeof n=="object"&&n!=null&&n.outlets}function Wg(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===t?s=e:s=Jb(n,t,e);let a=qb(Gb(s));return new Nn(a,o,i)}function Jb(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=Jb(o,t,e)}),new ce(n.segments,r)}var Bu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Uu(r[0]))throw new S(4003,!1);let i=r.find(Da);if(i&&i!==jb(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vR(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bu(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Bu(e,t,r)}var zo=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function yR(n,t,e){if(n.isAbsolute)return new zo(t,!0,0);if(!e)return new zo(t,!1,NaN);if(e.parent===null)return new zo(e,!0,0);let r=Uu(n.commands[0])?0:1,i=e.segments.length-1+r;return _R(e,i,n.numberOfDoubleDots)}function _R(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new zo(r,!1,i-o)}function wR(n){return Da(n[0])?n[0].outlets:{[z]:n}}function Yb(n,t,e){if(n??=new ce([],{}),n.segments.length===0&&n.hasChildren())return ba(n,t,e);let r=bR(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ce(n.segments.slice(0,r.pathIndex),{});return o.children[z]=new ce(n.segments.slice(r.pathIndex),n.children),ba(o,0,i)}else return r.match&&i.length===0?new ce(n.segments,{}):r.match&&!n.hasChildren()?em(n,t,e):r.match?ba(n,0,i):em(n,t,e)}function ba(n,t,e){if(e.length===0)return new ce(n.segments,{});{let r=wR(e),i={};if(Object.keys(r).some(o=>o!==z)&&n.children[z]&&n.numberOfChildren===1&&n.children[z].segments.length===0){let o=ba(n.children[z],t,e);return new ce(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Yb(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ce(n.segments,i)}}function bR(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],a=e[r];if(Da(a))break;let c=`${a}`,l=r<e.length-1?e[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Nb(c,l,s))return o;r+=2}else{if(!Nb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function em(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(Da(o)){let c=ER(o.outlets);return new ce(r,c)}if(i===0&&Uu(e[0])){let c=n.segments[t];r.push(new Rr(c.path,Rb(e[0]))),i++;continue}let s=Da(o)?o.outlets[z]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Uu(a)?(r.push(new Rr(s,Rb(a))),i+=2):(r.push(new Rr(s,{})),i++)}return new ce(r,{})}function ER(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=em(new ce([],{}),0,r))}),t}function Rb(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function Nb(n,t,e){return n==e.path&&An(t,e.parameters)}var qo="imperative",ze=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(ze||{}),Lt=class{id;url;constructor(t,e){this.id=t,this.url=e}},kr=class extends Lt{type=ze.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kt=class extends Lt{urlAfterRedirects;type=ze.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(yt||{}),Wo=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Wo||{}),Rn=class extends Lt{reason;code;type=ze.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},On=class extends Lt{reason;code;type=ze.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},Ko=class extends Lt{error;target;type=ze.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ca=class extends Lt{urlAfterRedirects;state;type=ze.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$u=class extends Lt{urlAfterRedirects;state;type=ze.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hu=class extends Lt{urlAfterRedirects;state;shouldActivate;type=ze.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zu=class extends Lt{urlAfterRedirects;state;type=ze.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qu=class extends Lt{urlAfterRedirects;state;type=ze.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gu=class{route;type=ze.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wu=class{route;type=ze.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ku=class{snapshot;type=ze.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zu=class{snapshot;type=ze.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ju=class{snapshot;type=ze.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yu=class{snapshot;type=ze.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zo=class{routerEvent;position;anchor;type=ze.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ia=class{},Jo=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function DR(n){return!(n instanceof Ia)&&!(n instanceof Jo)}function CR(n,t){return n.providers&&!n._injector&&(n._injector=ko(n.providers,t,`Route: ${n.path}`)),n._injector??t}function mn(n){return n.outlet||z}function IR(n,t){let e=n.filter(r=>mn(r)===t);return e.push(...n.filter(r=>mn(r)!==t)),e}function Xo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Qu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Xo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ai(this.rootInjector)}},Ai=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Qu(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(O(Pe))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=tm(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=tm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=nm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return nm(t,this._root).map(e=>e.value)}};function tm(n,t){if(n===t.value)return t;for(let e of t.children){let r=tm(n,e);if(r)return r}return null}function nm(n,t){if(n===t.value)return[t];for(let e of t.children){let r=nm(n,e);if(r.length)return r.unshift(t),r}return[]}var Ft=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ho(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Sa=class extends Xu{snapshot;constructor(t,e){super(t),this.snapshot=e,um(this,t)}toString(){return this.snapshot.toString()}};function Qb(n){let t=SR(n),e=new Qe([new Rr("",{})]),r=new Qe({}),i=new Qe({}),o=new Qe({}),s=new Qe(""),a=new xt(e,r,o,s,i,z,n,t.root);return a.snapshot=t.root,new Sa(new Ft(a,[]),t)}function SR(n){let t={},e={},r={},o=new Ti([],t,r,"",e,z,n,null,{});return new Ta("",new Ft(o,[]))}var xt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(V(l=>l[Ra]))??P(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(t=>xi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(t=>xi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ed(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:C(C({},t.params),n.params),data:C(C({},t.data),n.data),resolve:C(C(C(C({},n.data),t.data),i?.data),n._resolvedData)}:r={params:C({},n.params),data:C({},n.data),resolve:C(C({},n.data),n._resolvedData??{})},i&&eE(i)&&(r.resolve[Ra]=i.title),r}var Ti=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ra]}constructor(t,e,r,i,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ta=class extends Xu{url;constructor(t,e){super(e),this.url=t,um(this,e)}toString(){return Xb(this._root)}};function um(n,t){t.value._routerState=n,t.children.forEach(e=>um(n,e))}function Xb(n){let t=n.children.length>0?` { ${n.children.map(Xb).join(", ")} } `:"";return`${n.value}${t}`}function Kg(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,An(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),An(t.params,e.params)||n.paramsSubject.next(e.params),XA(t.url,e.url)||n.urlSubject.next(e.url),An(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rm(n,t){let e=An(n.params,t.params)&&rR(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||rm(n.parent,t.parent))}function eE(n){return typeof n.title=="string"||n.title===null}var tE=new A(""),Na=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new Me;deactivateEvents=new Me;attachEvents=new Me;detachEvents=new Me;routerOutletData=kw();parentContexts=D(Ai);location=D(wi);changeDetector=D(Ci);inputBinder=D(Oa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new im(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Re({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Yn]})}return n})(),im=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===xt?this.route:t===Ai?this.childContexts:t===tE?this.outletData:this.parent.get(t,e)}},Oa=new A(""),dm=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=Ds([r.queryParams,r.params,r.data]).pipe(Xe(([o,s,a],c)=>(a=C(C(C({},o),s),a),c===0?P(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=Fw(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),fm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ae({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&F(0,"router-outlet")},dependencies:[Na],encapsulation:2})}return n})();function hm(n){let t=n.children&&n.children.map(hm),e=t?H(C({},n),{children:t}):C({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==z&&(e.component=fm),e}function TR(n,t,e){let r=xa(n,t._root,e?e._root:void 0);return new Sa(r,t)}function xa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=xR(n,t,e);return new Ft(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>xa(n,a)),s}}let r=MR(t.value),i=t.children.map(o=>xa(n,o));return new Ft(r,i)}}function xR(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return xa(n,r,i);return xa(n,r)})}function MR(n){return new xt(new Qe(n.url),new Qe(n.params),new Qe(n.queryParams),new Qe(n.fragment),new Qe(n.data),n.outlet,n.component,n)}var Yo=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},nE="ngNavigationCancelingError";function td(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Or(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=rE(!1,yt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function rE(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[nE]=!0,e.cancellationCode=t,e}function AR(n){return iE(n)&&Or(n.url)}function iE(n){return!!n&&n[nE]}var RR=(n,t,e,r)=>V(i=>(new om(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),om=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Kg(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Ho(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ho(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ho(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Ho(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Yu(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Zu(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(Kg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Kg(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},nd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Go=class{component;route;constructor(t,e){this.component=t,this.route=e}};function NR(n,t,e){let r=n._root,i=t?t._root:null;return wa(r,i,e,[r.value])}function OR(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function es(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Xf(n)?n:t.get(n):r}function wa(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ho(t);return n.children.forEach(s=>{kR(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ea(a,e.getContext(s),i)),i}function kR(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=PR(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new nd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wa(n,t,a?a.children:null,r,i):wa(n,t,e,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Go(a.outlet.component,s))}else s&&Ea(t,a,i),i.canActivateChecks.push(new nd(r)),o.component?wa(n,null,a?a.children:null,r,i):wa(n,null,e,r,i);return i}function PR(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Si(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Si(n.url,t.url)||!An(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rm(n,t)||!An(n.queryParams,t.queryParams);case"paramsChange":default:return!rm(n,t)}}function Ea(n,t,e){let r=Ho(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ea(s,t.children.getContext(o),e):Ea(s,null,e):Ea(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Go(t.outlet.component,i)):e.canDeactivateChecks.push(new Go(null,i)):e.canDeactivateChecks.push(new Go(null,i))}function ka(n){return typeof n=="function"}function FR(n){return typeof n=="boolean"}function LR(n){return n&&ka(n.canLoad)}function jR(n){return n&&ka(n.canActivate)}function VR(n){return n&&ka(n.canActivateChild)}function UR(n){return n&&ka(n.canDeactivate)}function BR(n){return n&&ka(n.canMatch)}function oE(n){return n instanceof Un||n?.name==="EmptyError"}var Fu=Symbol("INITIAL_VALUE");function Qo(){return Xe(n=>Ds(n.map(t=>t.pipe($n(1),Bf(Fu)))).pipe(V(t=>{for(let e of t)if(e!==!0){if(e===Fu)return Fu;if(e===!1||$R(e))return e}return!0}),st(t=>t!==Fu),$n(1)))}function $R(n){return Or(n)||n instanceof Yo}function HR(n,t){return Oe(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?P(H(C({},e),{guardsResult:!0})):zR(s,r,i,n).pipe(Oe(a=>a&&FR(a)?qR(r,o,n,t):P(a)),V(a=>H(C({},e),{guardsResult:a})))})}function zR(n,t,e,r){return ye(n).pipe(Oe(i=>JR(i.component,i.route,e,t,r)),Hn(i=>i!==!0,!0))}function qR(n,t,e,r){return ye(t).pipe(_n(i=>uo(WR(i.route.parent,r),GR(i.route,r),ZR(n,i.path,e),KR(n,i.route,e))),Hn(i=>i!==!0,!0))}function GR(n,t){return n!==null&&t&&t(new Ju(n)),P(!0)}function WR(n,t){return n!==null&&t&&t(new Ku(n)),P(!0)}function KR(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(o=>Cs(()=>{let s=Xo(t)??e,a=es(o,s),c=jR(a)?a.canActivate(t,n):We(s,()=>a(t,n));return sr(c).pipe(Hn())}));return P(i).pipe(Qo())}function ZR(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>OR(s)).filter(s=>s!==null).map(s=>Cs(()=>{let a=s.guards.map(c=>{let l=Xo(s.node)??e,u=es(c,l),d=VR(u)?u.canActivateChild(r,n):We(l,()=>u(r,n));return sr(d).pipe(Hn())});return P(a).pipe(Qo())}));return P(o).pipe(Qo())}function JR(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return P(!0);let s=o.map(a=>{let c=Xo(t)??i,l=es(a,c),u=UR(l)?l.canDeactivate(n,t,e,r):We(c,()=>l(n,t,e,r));return sr(u).pipe(Hn())});return P(s).pipe(Qo())}function YR(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return P(!0);let o=i.map(s=>{let a=es(s,n),c=LR(a)?a.canLoad(t,e):We(n,()=>a(t,e));return sr(c)});return P(o).pipe(Qo(),sE(r))}function sE(n){return Af(ke(t=>{if(typeof t!="boolean")throw td(n,t)}),V(t=>t===!0))}function QR(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return P(!0);let o=i.map(s=>{let a=es(s,n),c=BR(a)?a.canMatch(t,e):We(n,()=>a(t,e));return sr(c)});return P(o).pipe(Qo(),sE(r))}var Ma=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Aa=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function $o(n){return co(new Ma(n))}function XR(n){return co(new S(4e3,!1))}function eN(n){return co(rE(!1,yt.GuardRejected))}var sm=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[z])return XR(`${t.redirectTo}`);i=i.children[z]}}applyRedirectCommands(t,e,r,i,o){return tN(e,i,o).pipe(V(s=>{if(s instanceof Nn)throw new Aa(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Aa(a);return a}))}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new Nn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new ce(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}};function tN(n,t,e){if(typeof n=="string")return P(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return sr(We(e,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var am={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nN(n,t,e,r,i){let o=aE(n,t,e);return o.matched?(r=CR(t,r),QR(r,t,e,i).pipe(V(s=>s===!0?o:C({},am)))):P(o)}function aE(n,t,e){if(t.path==="**")return rN(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?C({},am):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Fb)(e,n,t);if(!i)return C({},am);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?C(C({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function rN(n){return{matched:!0,parameters:n.length>0?jb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ob(n,t,e,r){return e.length>0&&sN(n,e,r)?{segmentGroup:new ce(t,oN(r,new ce(e,n.children))),slicedSegments:[]}:e.length===0&&aN(n,e,r)?{segmentGroup:new ce(n.segments,iN(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new ce(n.segments,n.children),slicedSegments:e}}function iN(n,t,e,r){let i={};for(let o of e)if(id(n,t,o)&&!r[mn(o)]){let s=new ce([],{});i[mn(o)]=s}return C(C({},r),i)}function oN(n,t){let e={};e[z]=t;for(let r of n)if(r.path===""&&mn(r)!==z){let i=new ce([],{});e[mn(r)]=i}return e}function sN(n,t,e){return e.some(r=>id(n,t,r)&&mn(r)!==z)}function aN(n,t,e){return e.some(r=>id(n,t,r))}function id(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function cN(n,t,e){return t.length===0&&!n.children[e]}var cm=class{};function lN(n,t,e,r,i,o,s="emptyOnly"){return new lm(n,t,e,r,i,s,o).recognize()}var uN=31,lm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new sm(this.urlSerializer,this.urlTree)}noMatchError(t){return new S(4002,`'${t.segmentGroup}'`)}recognize(){let t=Ob(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(V(({children:e,rootSnapshot:r})=>{let i=new Ft(r,e),o=new Ta("",i),s=Wb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Ti([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,z,e).pipe(V(r=>({children:r,rootSnapshot:e})),Bn(r=>{if(r instanceof Aa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ma?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(V(s=>s instanceof Ft?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ye(o).pipe(_n(s=>{let a=r.children[s],c=IR(e,s);return this.processSegmentGroup(t,c,a,s,i)}),Uf((s,a)=>(s.push(...a),s)),fr(null),Vf(),Oe(s=>{if(s===null)return $o(r);let a=cE(s);return dN(a),P(a)}))}processSegment(t,e,r,i,o,s,a){return ye(e).pipe(_n(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,r,i,o,s,a).pipe(Bn(l=>{if(l instanceof Ma)return P(null);throw l}))),Hn(c=>!!c),Bn(c=>{if(oE(c))return cN(r,i,o)?P(new cm):$o(r);throw c}))}processSegmentAgainstRoute(t,e,r,i,o,s,a,c){return mn(r)!==s&&(s===z||!id(i,o,r))?$o(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,c):$o(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=aE(e,i,o);if(!c)return $o(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uN&&(this.allowRedirects=!1));let f=new Ti(o,l,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,kb(i),mn(i),i.component??i._loadedComponent??null,i,Pb(i)),v=ed(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(v.params),f.data=Object.freeze(v.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,t).pipe(Xe(_=>this.applyRedirects.lineralizeSegments(i,_)),Oe(_=>this.processSegment(t,r,e,_.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let a=nN(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Xe(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Xe(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:p,remainingSegments:f}=c,v=new Ti(p,d,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,kb(r),mn(r),r.component??r._loadedComponent??null,r,Pb(r)),w=ed(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(w.params),v.data=Object.freeze(w.data);let{segmentGroup:_,slicedSegments:b}=Ob(e,p,f,l);if(b.length===0&&_.hasChildren())return this.processChildren(u,l,_,v).pipe(V(x=>new Ft(v,x)));if(l.length===0&&b.length===0)return P(new Ft(v,[]));let j=mn(r)===o;return this.processSegment(u,l,_,b,j?z:o,!0,v).pipe(V(x=>new Ft(v,x instanceof Ft?[x]:[])))}))):$o(e)))}getChildConfig(t,e,r){return e.children?P({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?P({routes:e._loadedRoutes,injector:e._loadedInjector}):YR(t,e,r,this.urlSerializer).pipe(Oe(i=>i?this.configLoader.loadChildren(t,e).pipe(ke(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):eN(e))):P({routes:[],injector:t})}};function dN(n){n.sort((t,e)=>t.value.outlet===z?-1:e.value.outlet===z?1:t.value.outlet.localeCompare(e.value.outlet))}function fN(n){let t=n.value.routeConfig;return t&&t.path===""}function cE(n){let t=[],e=new Set;for(let r of n){if(!fN(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=cE(r.children);t.push(new Ft(r.value,i))}return t.filter(r=>!e.has(r))}function kb(n){return n.data||{}}function Pb(n){return n.resolve||{}}function hN(n,t,e,r,i,o){return Oe(s=>lN(n,t,e,r,s.extractedUrl,i,o).pipe(V(({state:a,tree:c})=>H(C({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function pN(n,t){return Oe(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return P(e);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of lE(c))s.add(l);let a=0;return ye(s).pipe(_n(c=>o.has(c)?gN(c,r,n,t):(c.data=ed(c,c.parent,n).resolve,P(void 0))),ke(()=>a++),fo(1),Oe(c=>a===s.size?P(e):wt))})}function lE(n){let t=n.children.map(e=>lE(e)).flat();return[n,...t]}function gN(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!eE(i)&&(o[Ra]=i.title),Cs(()=>(n.data=ed(n,n.parent,e).resolve,mN(o,n,t,r).pipe(V(s=>(n._resolvedData=s,n.data=C(C({},n.data),s),null)))))}function mN(n,t,e,r){let i=Yg(n);if(i.length===0)return P({});let o={};return ye(i).pipe(Oe(s=>vN(n[s],t,e,r).pipe(Hn(),ke(a=>{if(a instanceof Yo)throw td(new Nr,a);o[s]=a}))),fo(1),V(()=>o),Bn(s=>oE(s)?wt:co(s)))}function vN(n,t,e,r){let i=Xo(t)??r,o=es(n,i),s=o.resolve?o.resolve(t,e):We(i,()=>o(t,e));return sr(s)}function Zg(n){return Xe(t=>{let e=n(t);return e?ye(e).pipe(V(()=>t)):P(t)})}var pm=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(e){return e.data[Ra]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>D(uE),providedIn:"root"})}return n})(),uE=(()=>{class n extends pm{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(O(xb))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pr=new A("",{providedIn:"root",factory:()=>({})}),Ri=new A(""),od=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(cg);loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=sr(We(e,()=>r.loadComponent())).pipe(V(fE),Xe(hE),ke(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Qr(()=>{this.componentLoaders.delete(r)})),o=new ao(i,()=>new je).pipe(so());return this.componentLoaders.set(r,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return P({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=dE(r,this.compiler,e,this.onLoadEndListener).pipe(Qr(()=>{this.childrenLoaders.delete(r)})),s=new ao(o,()=>new je).pipe(so());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dE(n,t,e,r){return sr(We(e,()=>n.loadChildren())).pipe(V(fE),Xe(hE),Oe(i=>i instanceof ou||Array.isArray(i)?P(i):ye(t.compileModuleAsync(i))),V(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(Ri,[],{optional:!0,self:!0}).flat()),{routes:s.map(hm),injector:o}}))}function yN(n){return n&&typeof n=="object"&&"default"in n}function fE(n){return yN(n)?n.default:n}function hE(n){return P(n)}var sd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>D(_N),providedIn:"root"})}return n})(),_N=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gm=new A(""),mm=new A("");function pE(n,t,e){let r=n.get(mm),i=n.get(xe);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),wN(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&We(n,()=>c({transition:a,from:t,to:e})),s}function wN(n){return new Promise(t=>{tu({read:()=>setTimeout(t)},{injector:n})})}var vm=new A(""),ad=(()=>{class n{currentNavigation=Ke(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new je;transitionAbortWithErrorSubject=new je;configLoader=D(od);environmentInjector=D(Pe);destroyRef=D(kt);urlSerializer=D(Mi);rootContexts=D(Ai);location=D(Ar);inputBindingEnabled=D(Oa,{optional:!0})!==null;titleStrategy=D(pm);options=D(Pr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(sd);createViewTransition=D(gm,{optional:!0});navigationErrorHandler=D(vm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>P(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Gu(i)),r=i=>this.events.next(new Wu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;Je(()=>{this.transitions?.next(H(C({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(e){return this.transitions=new Qe(null),this.transitions.pipe(st(r=>r!==null),Xe(r=>{let i=!1;return P(r).pipe(Xe(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",yt.SupersededByNewNavigation),wt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?H(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new On(o.id,this.urlSerializer.serialize(o.rawUrl),"",Wo.IgnoredSameUrlNavigation)),o.resolve(!1),wt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return P(o).pipe(Xe(c=>(this.events.next(new kr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?wt:Promise.resolve(c))),hN(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ke(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new Ca(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:p}=o,f=new kr(c,this.urlSerializer.serialize(l),u,d);this.events.next(f);let v=Qb(this.rootComponentType).snapshot;return this.currentTransition=r=H(C({},o),{targetSnapshot:v,urlAfterRedirects:l,extras:H(C({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(w=>(w.finalUrl=l,w)),P(r)}else return this.events.next(new On(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Wo.IgnoredByUrlHandlingStrategy)),o.resolve(!1),wt}),ke(o=>{let s=new $u(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),V(o=>(this.currentTransition=r=H(C({},o),{guards:NR(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),HR(this.environmentInjector,o=>this.events.next(o)),ke(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw td(this.urlSerializer,o.guardsResult);let s=new Hu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),st(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",yt.GuardRejected),!1)),Zg(o=>{if(o.guards.canActivateChecks.length!==0)return P(o).pipe(ke(s=>{let a=new zu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Xe(s=>{let a=!1;return P(s).pipe(pN(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",yt.NoDataFromResolver)}}))}),ke(s=>{let a=new qu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Zg(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=Xo(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(ke(u=>{a.component=u}),V(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Ds(s(o.targetSnapshot.root)).pipe(fr(null),$n(1))}),Zg(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ye(a).pipe(V(()=>r)):P(r)}),V(o=>{let s=TR(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=H(C({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ke(()=>{this.events.next(new Ia)}),RR(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),$n(1),Qc(new Y(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(st(()=>!i&&!r.targetRouterState),ke(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",yt.Aborted)}))),ke({next:o=>{i=!0,this.lastSuccessfulNavigation=Je(this.currentNavigation),this.events.next(new Kt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Qc(this.transitionAbortWithErrorSubject.pipe(ke(o=>{throw o}))),Qr(()=>{i||this.cancelNavigationTransition(r,"",yt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Bn(o=>{if(this.destroyed)return r.resolve(!1),wt;if(i=!0,iE(o))this.events.next(new Rn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),AR(o)?this.events.next(new Jo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ko(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=We(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Yo){let{message:c,cancellationCode:l}=td(this.urlSerializer,a);this.events.next(new Rn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Jo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return wt}))}))}cancelNavigationTransition(e,r,i){let o=new Rn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Je(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bN(n){return n!==qo}var gE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>D(EN),providedIn:"root"})}return n})(),rd=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},EN=(()=>{class n extends rd{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ir(n)))(i||n)}})();static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mE=(()=>{class n{urlSerializer=D(Mi);options=D(Pr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=D(Ar);urlHandlingStrategy=D(sd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Nn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof Nn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=Qb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>D(DN),providedIn:"root"})}return n})(),DN=(()=>{class n extends mE{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof kr?this.updateStateMemento():e instanceof On?this.commitTransition(r):e instanceof Ca?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Ia?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Rn&&e.code!==yt.SupersededByNewNavigation&&e.code!==yt.Redirect?this.restoreHistory(r):e instanceof Ko?this.restoreHistory(r,!0):e instanceof Kt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,c=C(C({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",c)}else{let a=C(C({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ir(n)))(i||n)}})();static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cd(n,t){n.events.pipe(st(e=>e instanceof Kt||e instanceof Rn||e instanceof Ko||e instanceof On),V(e=>e instanceof Kt||e instanceof On?0:(e instanceof Rn?e.code===yt.Redirect||e.code===yt.SupersededByNewNavigation:!1)?2:1),st(e=>e!==2),$n(1)).subscribe(()=>{t()})}var CN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},he=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(Kp);stateManager=D(mE);options=D(Pr,{optional:!0})||{};pendingTasks=D(Cn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(ad);urlSerializer=D(Mi);location=D(Ar);urlHandlingStrategy=D(sd);injector=D(Pe);_events=new je;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(gE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(Ri,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(Oa,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Je(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rn&&r.code!==yt.Redirect&&r.code!==yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Kt)this.navigated=!0;else if(r instanceof Jo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=C({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bN(i.source)},s);this.scheduleNavigation(a,qo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}DR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=C({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Ct)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Je(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(hm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=Kb(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return Zb(d,e,u,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Or(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,qo,null,r)}navigate(e,r={skipLocationChange:!1}){return SN(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(wn(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=C({},CN):r===!1?i=C({},IN):i=r,Or(e))return Mb(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Mb(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return cd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SN(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new S(4008,!1)}var Zt=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ke(null);get href(){return Je(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new je;applicationErrorHandler=D(Ct);options=D(Pr,{optional:!0});constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(D(new du("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,r=i=>i==="merge"||i==="preserve";e||=r(this.queryParamsHandling),e||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Kt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Or(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Or(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(R(he),R(xt),Zs("tabindex"),R(Tn),R(ln),R(hn))};static \u0275dir=Re({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&$("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Po("href",i.reactiveHref(),Cp)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Mr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Mr],replaceUrl:[2,"replaceUrl","replaceUrl",Mr],routerLink:"routerLink"},features:[Yn]})}return n})();var Pa=class{};var vE=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(st(e=>e instanceof Kt),_n(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ko(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ye(i).pipe(lo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=P(null);let o=i.pipe(Oe(s=>s===null?P(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(e,r);return ye([o,s]).pipe(lo())}else return o})}static \u0275fac=function(r){return new(r||n)(O(he),O(Pe),O(Pa),O(od))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yE=new A(""),TN=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=qo;restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Kt?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof On&&e.code===Wo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof Zo))return;let r={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,r):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>h(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Zo(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){$p()};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})();function _m(n,...t){return ii([{provide:Ri,multi:!0,useValue:n},[],{provide:xt,useFactory:_E,deps:[he]},{provide:ta,multi:!0,useFactory:wE},t.map(e=>e.\u0275providers)])}function _E(n){return n.routerState.root}function Fa(n,t){return{\u0275kind:n,\u0275providers:t}}function wE(){let n=D(nt);return t=>{let e=n.get(Tr);if(t!==e.components[0])return;let r=n.get(he),i=n.get(bE);n.get(wm)===1&&r.initialNavigation(),n.get(CE,null,{optional:!0})?.setUpPreloading(),n.get(yE,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var bE=new A("",{factory:()=>new je}),wm=new A("",{providedIn:"root",factory:()=>1});function EE(){let n=[{provide:bp,useValue:!0},{provide:wm,useValue:0},su(()=>{let t=D(nt);return t.get(yg,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(he),o=t.get(bE);cd(i,()=>{r(!0)}),t.get(ad).afterPreactivation=()=>(r(!0),o.closed?P(void 0):o),i.initialNavigation()}))})];return Fa(2,n)}function DE(){let n=[su(()=>{D(he).setUpLocationChangeListener()}),{provide:wm,useValue:2}];return Fa(3,n)}var CE=new A("");function IE(n){return Fa(0,[{provide:CE,useExisting:vE},{provide:Pa,useExisting:n}])}function SE(){return Fa(8,[dm,{provide:Oa,useExisting:dm}])}function TE(n){No("NgRouterViewTransitions");let t=[{provide:gm,useValue:pE},{provide:mm,useValue:C({skipNextTransition:!!n?.skipInitialTransition},n)}];return Fa(9,t)}var xE=[Ar,{provide:Mi,useClass:Nr},he,Ai,{provide:xt,useFactory:_E,deps:[he]},od,[]],La=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[xE,[],{provide:Ri,multi:!0,useValue:e},[],r?.errorHandler?{provide:vm,useValue:r.errorHandler}:[],{provide:Pr,useValue:r||{}},r?.useHash?MN():AN(),xN(),r?.preloadingStrategy?IE(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?RN(r):[],r?.bindToComponentInputs?SE().\u0275providers:[],r?.enableViewTransitions?TE().\u0275providers:[],NN()]}}static forChild(e){return{ngModule:n,providers:[{provide:Ri,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ht({type:n});static \u0275inj=Nt({})}return n})();function xN(){return{provide:yE,useFactory:()=>{let n=D(sb),t=D(Ae),e=D(Pr),r=D(ad),i=D(Mi);return e.scrollOffset&&n.setOffset(e.scrollOffset),new TN(i,r,n,t,e)}}}function MN(){return{provide:hn,useClass:Dg}}function AN(){return{provide:hn,useClass:gu}}function RN(n){return[n.initialNavigation==="disabled"?DE().\u0275providers:[],n.initialNavigation==="enabledBlocking"?EE().\u0275providers:[]]}var ym=new A("");function NN(){return[{provide:ym,useFactory:wE},{provide:ta,multi:!0,useExisting:ym}]}var ld=class n{title=Ke("atividade08");static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ae({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){e&1&&(m(0,"div"),F(1,"router-outlet"),g())},dependencies:[Na],encapsulation:2})};var LE=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(R(Tn),R(ln))};static \u0275dir=Re({type:n})}return n})(),Dm=(()=>{class n extends LE{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ir(n)))(i||n)}})();static \u0275dir=Re({type:n,features:[zt]})}return n})(),yd=new A("");var ON={provide:yd,useExisting:nn(()=>jr),multi:!0};function kN(){let n=qt()?qt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var PN=new A(""),jr=(()=>{class n extends LE{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!kN())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(R(Tn),R(ln),R(PN,8))};static \u0275dir=Re({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&$("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[xr([ON]),zt]})}return n})();function FN(n){return n==null||LN(n)===0}function LN(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Cm=new A(""),jE=new A("");function jN(n){return FN(n.value)?{required:!0}:null}function ME(n){return null}function VE(n){return n!=null}function UE(n){return Sr(n)?ye(n):n}function BE(n){let t={};return n.forEach(e=>{t=e!=null?C(C({},t),e):t}),Object.keys(t).length===0?null:t}function $E(n,t){return t.map(e=>e(n))}function VN(n){return!n.validate}function HE(n){return n.map(t=>VN(t)?t:e=>t.validate(e))}function UN(n){if(!n)return null;let t=n.filter(VE);return t.length==0?null:function(e){return BE($E(e,t))}}function Im(n){return n!=null?UN(HE(n)):null}function BN(n){if(!n)return null;let t=n.filter(VE);return t.length==0?null:function(e){let r=$E(e,t).map(UE);return jf(r).pipe(V(BE))}}function Sm(n){return n!=null?BN(HE(n)):null}function AE(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function $N(n){return n._rawValidators}function HN(n){return n._rawAsyncValidators}function bm(n){return n?Array.isArray(n)?n:[n]:[]}function dd(n,t){return Array.isArray(n)?n.includes(t):n===t}function RE(n,t){let e=bm(t);return bm(n).forEach(i=>{dd(e,i)||e.push(i)}),e}function NE(n,t){return bm(t).filter(e=>!dd(n,e))}var fd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Im(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Sm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},rs=class extends fd{name;get formDirective(){return null}get path(){return null}},is=class extends fd{_parent=null;name=null;valueAccessor=null},hd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},OW=H(C({},zN),{"[class.ng-submitted]":"isSubmitted"}),os=(()=>{class n extends hd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(R(is,2))};static \u0275dir=Re({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&bi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[zt]})}return n})(),_d=(()=>{class n extends hd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(R(rs,10))};static \u0275dir=Re({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&bi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[zt]})}return n})();var ja="VALID",ud="INVALID",ts="PENDING",Va="DISABLED",Lr=class{},pd=class extends Lr{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Ba=class extends Lr{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},$a=class extends Lr{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},ns=class extends Lr{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Em=class extends Lr{source;constructor(t){super(),this.source=t}},gd=class extends Lr{source;constructor(t){super(),this.source=t}};function zE(n){return(wd(n)?n.validators:n)||null}function qN(n){return Array.isArray(n)?Im(n):n||null}function qE(n,t){return(wd(t)?t.asyncValidators:n)||null}function GN(n){return Array.isArray(n)?Sm(n):n||null}function wd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function WN(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new S(1e3,"");if(!r[e])throw new S(1001,"")}function KN(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new S(1002,"")})}var md=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Je(this.statusReactive)}set status(t){Je(()=>this.statusReactive.set(t))}_status=Fo(()=>this.statusReactive());statusReactive=Ke(void 0);get valid(){return this.status===ja}get invalid(){return this.status===ud}get pending(){return this.status==ts}get disabled(){return this.status===Va}get enabled(){return this.status!==Va}errors;get pristine(){return Je(this.pristineReactive)}set pristine(t){Je(()=>this.pristineReactive.set(t))}_pristine=Fo(()=>this.pristineReactive());pristineReactive=Ke(!0);get dirty(){return!this.pristine}get touched(){return Je(this.touchedReactive)}set touched(t){Je(()=>this.touchedReactive.set(t))}_touched=Fo(()=>this.touchedReactive());touchedReactive=Ke(!1);get untouched(){return!this.touched}_events=new je;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(RE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(RE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(NE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(NE(t,this._rawAsyncValidators))}hasValidator(t){return dd(this._rawValidators,t)}hasAsyncValidator(t){return dd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(H(C({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new $a(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new $a(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(H(C({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Ba(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new Ba(!0,r))}markAsPending(t={}){this.status=ts;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ns(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(H(C({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Va,this.errors=null,this._forEachChild(i=>{i.disable(H(C({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new pd(this.value,r)),this._events.next(new ns(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(C({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ja,this._forEachChild(r=>{r.enable(H(C({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(H(C({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ja||this.status===ts)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new pd(this.value,e)),this._events.next(new ns(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(H(C({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Va:ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ts,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let r=UE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ns(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Va:this.errors?ud:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ts)?ts:this._anyControlsHaveStatus(ud)?ud:ja}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new Ba(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new $a(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=qN(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=GN(this._rawAsyncValidators)}},vd=class extends md{constructor(t,e,r){super(zE(e),qE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){KN(this,!0,t),Object.keys(t).forEach(r=>{WN(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new gd(this))}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ha=new A("",{providedIn:"root",factory:()=>za}),za="always";function ZN(n,t){return[...t.path,n]}function GE(n,t,e=za){WE(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),YN(n,t),XN(n,t),QN(n,t),JN(n,t)}function OE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function JN(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function WE(n,t){let e=$N(n);t.validator!==null?n.setValidators(AE(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=HN(n);t.asyncValidator!==null?n.setAsyncValidators(AE(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();OE(t._rawValidators,i),OE(t._rawAsyncValidators,i)}function YN(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&KE(n,t)})}function QN(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&KE(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function KE(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XN(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function eO(n,t){n==null,WE(n,t)}function tO(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function nO(n){return Object.getPrototypeOf(n.constructor)===Dm}function rO(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function iO(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===jr?e=o:nO(o)?r=o:i=o}),i||r||e||null}var oO={provide:rs,useExisting:nn(()=>qa)},Ua=Promise.resolve(),qa=(()=>{class n extends rs{callSetDisabledState;get submitted(){return Je(this.submittedReactive)}_submitted=Fo(()=>this.submittedReactive());submittedReactive=Ke(!1);_directives=new Set;form;ngSubmit=new Me;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new vd({},Im(e),Sm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ua.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),GE(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ua.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ua.then(()=>{let r=this._findContainer(e.path),i=new vd({});eO(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ua.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Ua.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),rO(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Em(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||n)(R(Cm,10),R(jE,10),R(Ha,8))};static \u0275dir=Re({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&$("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[xr([oO]),zt]})}return n})();function kE(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function PE(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var sO=class extends md{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(zE(e),qE(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(PE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new gd(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){kE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){kE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){PE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var aO={provide:is,useExisting:nn(()=>Ni)},FE=Promise.resolve(),Ni=(()=>{class n extends is{_changeDetectorRef;callSetDisabledState;control=new sO;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Me;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=iO(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),tO(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){GE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){FE.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&Mr(r);FE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ZN(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(R(rs,9),R(Cm,10),R(jE,10),R(yd,10),R(Ci,8),R(Ha,8))};static \u0275dir=Re({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[xr([aO]),zt,Yn]})}return n})();var bd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Re({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),cO={provide:yd,useExisting:nn(()=>Tm),multi:!0},Tm=(()=>{class n extends Dm{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ir(n)))(i||n)}})();static \u0275dir=Re({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&$("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[xr([cO]),zt]})}return n})(),lO={provide:yd,useExisting:nn(()=>xm),multi:!0};var uO=(()=>{class n{_accessors=[];add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e){this._accessors.splice(r,1);return}}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return e[0].control?e[0]._parent===r._control._parent&&e[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xm=(()=>{class n extends Dm{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=D(Ha,{optional:!0})??za;constructor(e,r,i,o){super(e,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(is),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(R(Tn),R(ln),R(uO),R(nt))};static \u0275dir=Re({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&$("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[xr([lO]),zt]})}return n})();var dO=new A("");var fO=(()=>{class n{_validator=ME;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ME,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Re({type:n,features:[Yn]})}return n})();var hO={provide:Cm,useExisting:nn(()=>Mm),multi:!0};var Mm=(()=>{class n extends fO{required;inputName="required";normalizeInput=Mr;createValidator=e=>jN;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ir(n)))(i||n)}})();static \u0275dir=Re({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Po("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[xr([hO]),zt]})}return n})();var ZE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ht({type:n});static \u0275inj=Nt({})}return n})();var Vr=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ha,useValue:e.callSetDisabledState??za}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ht({type:n});static \u0275inj=Nt({imports:[ZE]})}return n})(),JE=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:dO,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ha,useValue:e.callSetDisabledState??za}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ht({type:n});static \u0275inj=Nt({imports:[ZE]})}return n})();Ee();var YE=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);var Ga=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},Ed=class extends Ga{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Wa=class extends Ga{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ka=class extends Ga{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Rm=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(Rm||{});var Za=class{constructor(t,{headers:e={},customFetch:r,region:i=Rm.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=YE(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return T(this,arguments,void 0,function*(e,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,p={},{region:f}=r;f||(f=this.region);let v=new URL(`${this.url}/${e}`);f&&f!=="any"&&(p["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let w;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",w=l):typeof l=="string"?(p["Content-Type"]="text/plain",w=l):typeof FormData<"u"&&l instanceof FormData?w=l:(p["Content-Type"]="application/json",w=JSON.stringify(l)):w=l;let _=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(_=s.signal,u.addEventListener("abort",()=>s.abort())):_=s.signal);let b=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:w,signal:_}).catch(Z=>{throw new Ed(Z)}),j=b.headers.get("x-relay-error");if(j&&j==="true")throw new Wa(b);if(!b.ok)throw new Ka(b);let x=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return x==="application/json"?I=yield b.json():x==="application/octet-stream"||x==="application/pdf"?I=yield b.blob():x==="text/event-stream"?I=b:x==="multipart/form-data"?I=yield b.formData():I=yield b.text(),{data:I,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof Ka||a instanceof Wa?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var Km=TC(sD(),1),{PostgrestClient:aD,PostgrestQueryBuilder:QW,PostgrestFilterBuilder:XW,PostgrestTransformBuilder:e5,PostgrestBuilder:t5,PostgrestError:CO}=Km.default||Km;var Zm=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){let r=this.getWebSocketConstructor();return new r(t,e)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Jm=Zm;var cD="2.86.0";var lD=`realtime-js/${cD}`,Ym="1.0.0",uD="2.0.0",Qm=Ym;var Ya=1e4,dD=1e3,fD=100,Oi=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(Oi||{}),qe=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(qe||{}),Jt=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(Jt||{}),Xm=(function(n){return n.websocket="websocket",n})(Xm||{}),ki=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(ki||{});var Cd=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,e){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return e(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var e;return this._isArrayBuffer((e=t.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var e,r;let i=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var e,r;let i=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,e,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",l=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+p),v=new DataView(f),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,c.length),v.setUint8(w++,a.length),v.setUint8(w++,s.length),v.setUint8(w++,l.length),v.setUint8(w++,d.length),v.setUint8(w++,e),Array.from(c,b=>v.setUint8(w++,b.charCodeAt(0))),Array.from(a,b=>v.setUint8(w++,b.charCodeAt(0))),Array.from(s,b=>v.setUint8(w++,b.charCodeAt(0))),Array.from(l,b=>v.setUint8(w++,b.charCodeAt(0))),Array.from(d,b=>v.setUint8(w++,b.charCodeAt(0)));var _=new Uint8Array(f.byteLength+r.byteLength);return _.set(new Uint8Array(f),0),_.set(new Uint8Array(r),f.byteLength),_.buffer}decode(t,e){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return e(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,c]=r;return e({join_ref:i,ref:o,topic:s,event:a,payload:c})}return e({})}_binaryDecode(t){let e=new DataView(t),r=e.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,e,i)}}_decodeUserBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=e.getUint8(3),a=e.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+i));c=c+i;let u=r.decode(t.slice(c,c+o));c=c+o;let d=r.decode(t.slice(c,c+s));c=c+s;let p=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,v={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var e;return t instanceof ArrayBuffer||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}_pick(t,e){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>e.includes(r)))}};var as=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var be=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(be||{}),tv=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=IO(s,n,t,i),o),{}):{}},IO=(n,t,e,r)=>{let i=t.find(a=>a.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?hD(o,s):ev(s)},hD=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return MO(t,e)}switch(n){case be.bool:return SO(t);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return TO(t);case be.json:case be.jsonb:return xO(t);case be.timestamp:return AO(t);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return ev(t);default:return ev(t)}},ev=n=>n,SO=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},TO=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},xO=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},MO=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>hD(t,a))}return n},AO=n=>typeof n=="string"?n.replace(" ","T"):n,Id=n=>{let t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var cs=class{constructor(t,e,r={},i=Ya){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Qa=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let p=u.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),v=u.filter(_=>f.indexOf(_.presence_ref)<0),w=d.filter(_=>p.indexOf(_.presence_ref)<0);v.length>0&&(a[l]=v),w.length>0&&(c[l]=w)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,i(a,l,c),l.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Xa=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(Xa||{}),ar=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(ar||{});var ec=class n{constructor(t,e={config:{}},r){var i,o;if(this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new cs(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new as(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Qa(this),this.broadcastEndpointURL=Id(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Xa.PRESENCE]&&this.bindings[Xa.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(ar.CHANNEL_ERROR,f)),this._onClose(()=>t?.(ar.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",v=>h(this,[v],function*({postgres_changes:f}){var w;if(this.socket.setAuth(),f===void 0){t?.(ar.SUBSCRIBED);return}else{let _=this.bindings.postgres_changes,b=(w=_?.length)!==null&&w!==void 0?w:0,j=[];for(let x=0;x<b;x++){let I=_[x],{filter:{event:Z,schema:Fe,table:ne,filter:De}}=I,Xt=f&&f[x];if(Xt&&Xt.event===Z&&Xt.schema===Fe&&Xt.table===ne&&Xt.filter===De)j.push(Object.assign(Object.assign({},I),{id:Xt.id}));else{this.unsubscribe(),this.state=qe.errored,t?.(ar.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ar.SUBSCRIBED);return}})).receive("error",f=>{this.state=qe.errored,t?.(ar.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(ar.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this.state===qe.joined&&t===Xa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,r)}httpSend(i,o){return h(this,arguments,function*(t,e,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{let d=yield l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return h(this,arguments,function*(t,e={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new cs(this,Jt.leave,{},t),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}_fetchWithTimeout(t,e,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new cs(this,t,e,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>fD){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Jt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,e,r);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,w,_;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=f.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var v,w,_,b,j,x;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let I=f.id,Z=(v=f.filter)===null||v===void 0?void 0:v.event;return I&&((w=e.ids)===null||w===void 0?void 0:w.includes(I))&&(Z==="*"||Z?.toLocaleLowerCase()===((_=e.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{let I=(j=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return I==="*"||I===((x=e?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let v=p.data,{schema:w,table:_,commit_timestamp:b,type:j,errors:x}=v;p=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:b,eventType:j,new:{},old:{},errors:x}),this._getPayloadRecords(v))}f.callback(p,r)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jt.close,{},t)}_onError(t){this._on(Jt.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=tv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=tv(t.columns,t.old_record)),e}};var nv=()=>{},Sd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NO=[1e3,2e3,5e3,1e4],OO=1e4,kO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,tc=class{constructor(t,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ya,this.transport=null,this.heartbeatIntervalMs=Sd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nv,this.ref=0,this.reconnectTimer=null,this.vsn=Qm,this.logger=nv,this.conn=null,this.sendBuffer=[],this.serializer=new Cd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${Xm.websocket}`,this.httpEndpoint=Id(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jm.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Oi.connecting:return ki.Connecting;case Oi.open:return ki.Open;case Oi.closing:return ki.Closing;default:return ki.Closed}}isConnected(){return this.connectionState()===ki.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new ec(`realtime:${t}`,e,this);return this.channels.push(o),o}}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return h(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(dD,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},Sd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=e,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Oi.open||this.conn.readyState===Oi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jt.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([kO],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(t=null){return h(this,null,function*(){let e;t?e=t:this.accessToken?e=yield this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let i={access_token:e,version:lD};e&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Jt.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(e)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new as(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Sd.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var e,r,i,o,s,a,c,l,u,d,p,f;switch(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ya,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Sd.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:nv,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Qm,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:v=>NO[v-1]||OO,this.vsn){case Ym:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(v,w)=>w(JSON.stringify(v)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(v,w)=>w(JSON.parse(v));break;case uD:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};Ee();var Ur=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function pe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Td=class extends Ur{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pi=class extends Ur{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};Ee();var ls=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),pD=()=>Response,xd=n=>{if(Array.isArray(n))return n.map(e=>xd(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=xd(r)}),t},gD=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},mD=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);var rv=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},PO=(n,t,e)=>T(void 0,void 0,void 0,function*(){let r=yield pD();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{let o=n.status||500,s=i?.statusCode||o+"";t(new Td(rv(i),o,s))}).catch(i=>{t(new Pi(rv(i),i))}):t(new Pi(rv(n),n))}),FO=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"||!r?i:(gD(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),e))};function nc(n,t,e,r,i,o){return T(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,FO(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>PO(c,a,r))})})}function Br(n,t,e,r){return T(this,void 0,void 0,function*(){return nc(n,"GET",t,e,r)})}function Mt(n,t,e,r,i){return T(this,void 0,void 0,function*(){return nc(n,"POST",t,r,i,e)})}function rc(n,t,e,r,i){return T(this,void 0,void 0,function*(){return nc(n,"PUT",t,r,i,e)})}function vD(n,t,e,r){return T(this,void 0,void 0,function*(){return nc(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function us(n,t,e,r,i){return T(this,void 0,void 0,function*(){return nc(n,"DELETE",t,r,i,e)})}Ee();Ee();var Md=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return T(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}};var yD,iv=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[yD]="BlobDownloadBuilder",this.promise=null}asStream(){return new Md(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return T(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}};yD=Symbol.toStringTag;var _D=iv;var LO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ad=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=ls(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,r,i){return T(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},wD),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=yield(t=="PUT"?rc:Mt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(pe(o))return{data:null,error:o};throw o}})}upload(t,e,r){return T(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return T(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let c,l=Object.assign({upsert:wD.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield rc(this.fetch,a.toString(),c,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(pe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return T(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Mt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Ur("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}update(t,e,r){return T(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return T(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}copy(t,e,r){return T(this,void 0,void 0,function*(){try{return{data:{path:(yield Mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return T(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Mt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return T(this,void 0,void 0,function*(){try{let i=yield Mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}download(t,e){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(t),c=()=>Br(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new _D(c,this.shouldThrowOnError)}info(t){return T(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield Br(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:xd(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}exists(t){return T(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield vD(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r)&&r instanceof Pi){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return T(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}list(t,e,r){return T(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},LO),e),{prefix:t||""});return{data:yield Mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}listV2(t,e){return T(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield Mt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};Ee();var Rd="2.86.0";var Nd={"X-Client-Info":`storage-js/${Rd}`};var Od=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;let o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nd),e),this.fetch=ls(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return T(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(t);return{data:yield Br(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}getBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}createBucket(t){return T(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return T(this,void 0,void 0,function*(){try{return{data:yield rc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}deleteBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){let e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}};Ee();var ic=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jO(n,t,e){let r=new URL(t,n);if(e)for(let[i,o]of Object.entries(e))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function VO(n){return h(this,null,function*(){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?yield n.getHeaders():{}})}function UO(n){let t=n.fetchImpl??globalThis.fetch;return{request(c){return h(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let l=jO(n.baseUrl,i,o),u=yield VO(n.auth),d=yield t(l,{method:r,headers:C(C(C({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),p=yield d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),v=f&&p?JSON.parse(p):p;if(!d.ok){let w=f?v:void 0,_=w?.error;throw new ic(_?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:_?.type,icebergCode:_?.code,details:w})}return{status:d.status,headers:d.headers,data:v}})}}}function kd(n){return n.join("")}var BO=class{constructor(n,t=""){this.client=n,this.prefix=t}listNamespaces(n){return h(this,null,function*(){let t=n?{parent:kd(n.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(n,t){return h(this,null,function*(){let e={namespace:n.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:e})).data})}dropNamespace(n){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kd(n.namespace)}`})})}loadNamespaceMetadata(n){return h(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kd(n.namespace)}`})).data.properties}})}namespaceExists(n){return h(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kd(n.namespace)}`}),!0}catch(t){if(t instanceof ic&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(n,t){return h(this,null,function*(){try{return yield this.createNamespace(n,t)}catch(e){if(e instanceof ic&&e.status===409)return;throw e}})}};function ds(n){return n.join("")}var $O=class{constructor(n,t="",e){this.client=n,this.prefix=t,this.accessDelegation=e}listTables(n){return h(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ds(n.namespace)}/tables`})).data.identifiers})}createTable(n,t){return h(this,null,function*(){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ds(n.namespace)}/tables`,body:t,headers:e})).data.metadata})}updateTable(n,t){return h(this,null,function*(){let e=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ds(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":e.data["metadata-location"],metadata:e.data.metadata}})}dropTable(n,t){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ds(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(n){return h(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ds(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata})}tableExists(n){return h(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ds(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(e){if(e instanceof ic&&e.status===404)return!1;throw e}})}createTableIfNotExists(n,t){return h(this,null,function*(){try{return yield this.createTable(n,t)}catch(e){if(e instanceof ic&&e.status===409)return yield this.loadTable({namespace:n.namespace,name:t.name});throw e}})}},bD=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);let e=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=UO({baseUrl:e,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new BO(this.client,t),this.tableOps=new $O(this.client,t,this.accessDelegation)}listNamespaces(n){return h(this,null,function*(){return this.namespaceOps.listNamespaces(n)})}createNamespace(n,t){return h(this,null,function*(){return this.namespaceOps.createNamespace(n,t)})}dropNamespace(n){return h(this,null,function*(){yield this.namespaceOps.dropNamespace(n)})}loadNamespaceMetadata(n){return h(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(n)})}listTables(n){return h(this,null,function*(){return this.tableOps.listTables(n)})}createTable(n,t){return h(this,null,function*(){return this.tableOps.createTable(n,t)})}updateTable(n,t){return h(this,null,function*(){return this.tableOps.updateTable(n,t)})}dropTable(n,t){return h(this,null,function*(){yield this.tableOps.dropTable(n,t)})}loadTable(n){return h(this,null,function*(){return this.tableOps.loadTable(n)})}namespaceExists(n){return h(this,null,function*(){return this.namespaceOps.namespaceExists(n)})}tableExists(n){return h(this,null,function*(){return this.tableOps.tableExists(n)})}createNamespaceIfNotExists(n,t){return h(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(n,t)})}createTableIfNotExists(n,t){return h(this,null,function*(){return this.tableOps.createTableIfNotExists(n,t)})}};var Pd=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nd),e),this.fetch=ls(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}listBuckets(t){return T(this,void 0,void 0,function*(){try{let e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);let r=e.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Br(this.fetch,i,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}deleteBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}from(t){if(!mD(t))throw new Ur("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new bD({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>T(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}};Ee();Ee();var fs={"X-Client-Info":`storage-js/${Rd}`,"Content-Type":"application/json"};var Fd=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function lt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var hs=class extends Fd{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ld=class extends Fd{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};Ee();var ps=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);var ED=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var DD=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),HO=(n,t,e)=>T(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!e?.noResolveJson){let i=n.status||500,o=n;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";t(new hs(DD(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new hs(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new hs(a,i,s))}}else t(new Ld(DD(n),n))}),zO=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"||!r?i:(ED(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),e))};function qO(n,t,e,r,i,o){return T(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,zO(t,r,i,o)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>HO(c,a,r))})})}function ut(n,t,e,r,i){return T(this,void 0,void 0,function*(){return qO(n,"POST",t,r,i,e)})}var jd=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fs),e),this.fetch=ps(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return T(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}getIndex(t,e){return T(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listIndexes(t){return T(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return T(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}};Ee();var Vd=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fs),e),this.fetch=ps(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return T(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ut(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}getVectors(t){return T(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}listVectors(t){return T(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ut(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}queryVectors(t){return T(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}deleteVectors(t){return T(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ut(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}};Ee();var Ud=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fs),e),this.fetch=ps(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return T(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}getBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}listBuckets(){return T(this,arguments,void 0,function*(t={}){try{return{data:yield ut(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return T(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}};var oc=class extends Ud{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Bd(this.url,this.headers,t,this.fetch)}createBucket(t){let e=Object.create(null,{createBucket:{get:()=>super.createBucket}});return T(this,void 0,void 0,function*(){return e.createBucket.call(this,t)})}getBucket(t){let e=Object.create(null,{getBucket:{get:()=>super.getBucket}});return T(this,void 0,void 0,function*(){return e.getBucket.call(this,t)})}listBuckets(){let t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return T(this,arguments,void 0,function*(e={}){return t.listBuckets.call(this,e)})}deleteBucket(t){let e=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return T(this,void 0,void 0,function*(){return e.deleteBucket.call(this,t)})}},Bd=class extends jd{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}createIndex(t){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return T(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return T(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return T(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return T(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new $d(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},$d=class extends Vd{constructor(t,e,r,i,o){super(t,e,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return T(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return T(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return T(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return T(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return T(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var sc=class extends Od{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new Ad(this.url,this.headers,t,this.fetch)}get vectors(){return new oc(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Pd(this.url+"/iceberg",this.headers,this.fetch)}};var CD="2.86.0";var ac="";typeof Deno<"u"?ac="deno":typeof document<"u"?ac="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ac="react-native":ac="node";var GO={"X-Client-Info":`supabase-js-${ac}/${CD}`},ID={headers:GO},SD={schema:"public"},TD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xD={};var WO=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),KO=()=>Headers,MD=(n,t,e)=>{let r=WO(e),i=KO();return(o,s)=>h(null,null,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:n,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:l}))})};function ZO(n){return n.endsWith("/")?n:n+"/"}function AD(n,t){var e,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:c,auth:l,realtime:u,global:d}=t,p={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>h(null,null,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function RD(n){let t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}Ee();Ee();var Hd="2.86.0";var Fi=30*1e3,zd=3,qd=zd*Fi,ND="http://localhost:9999",OD="supabase.auth.token";var kD={"X-Client-Info":`gotrue-js/${Hd}`};var cc="X-Supabase-Api-Version",ov={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FD=600*1e3;var $r=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function k(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Gd=class extends $r{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function LD(n){return k(n)&&n.name==="AuthApiError"}var Yt=class extends $r{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},kn=class extends $r{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}},rt=class extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function jD(n){return k(n)&&n.name==="AuthSessionMissingError"}var cr=class extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Li=class extends kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},ji=class extends kn{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function VD(n){return k(n)&&n.name==="AuthImplicitGrantRedirectError"}var lc=class extends kn{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},gs=class extends kn{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function Wd(n){return k(n)&&n.name==="AuthRetryableFetchError"}var uc=class extends kn{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var Vi=class extends kn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UD=` 	
\r=`.split(""),JO=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<UD.length;t+=1)n[UD[t].charCodeAt(0)]=-2;for(let t=0;t<Kd.length;t+=1)n[Kd[t].charCodeAt(0)]=t;return n})();function BD(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Kd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Kd[r]),t.queuedBits-=6}}function $D(n,t,e){let r=JO[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function sv(n){let t=[],e=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{XO(s,r,e)};for(let s=0;s<n.length;s+=1)$D(n.charCodeAt(s),i,o);return t.join("")}function YO(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function QO(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}YO(r,t)}}function XO(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function Hr(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)$D(n.charCodeAt(i),e,r);return new Uint8Array(t)}function HD(n){let t=[];return QO(n,e=>t.push(e)),new Uint8Array(t)}function lr(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};return n.forEach(i=>BD(i,e,r)),BD(null,e,r),t.join("")}function zD(n){return Math.round(Date.now()/1e3)+n}function qD(){return Symbol("auth-callback")}var Ge=()=>typeof window<"u"&&typeof document<"u",Ui={tested:!1,writable:!1},Zd=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ui.tested)return Ui.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ui.tested=!0,Ui.writable=!0}catch{Ui.tested=!0,Ui.writable=!1}return Ui.writable};function GD(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var Jd=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),WD=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Bi=(n,t,e)=>h(null,null,function*(){yield n.setItem(t,JSON.stringify(e))}),zr=(n,t)=>h(null,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),ur=(n,t)=>h(null,null,function*(){yield n.removeItem(t)}),dc=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};dc.promiseConstructor=Promise;function Yd(n){let t=n.split(".");if(t.length!==3)throw new Vi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!PD.test(t[r]))throw new Vi("JWT not in base64url format");return{header:JSON.parse(sv(t[0])),payload:JSON.parse(sv(t[1])),signature:Hr(t[2]),raw:{header:t[0],payload:t[1]}}}function KD(n){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function ZD(n,t){return new Promise((r,i)=>{h(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function ek(n){return("0"+n.toString(16)).substr(-2)}function tk(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,ek).join("")}function nk(n){return h(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function rk(n){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield nk(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function $i(n,t,e=!1){return h(this,null,function*(){let r=tk(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield Bi(n,`${t}-code-verifier`,i);let o=yield rk(r);return[o,r===o?"plain":"s256"]})}var ik=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JD(n){let t=n.headers.get(cc);if(!t||!t.match(ik))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YD(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function QD(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ok=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hi(n){if(!ok.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qd(){let n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XD(n,t){return new Proxy(n,{get:(e,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,i)}})}function av(n){return JSON.parse(JSON.stringify(n))}var zi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),sk=[502,503,504];function eC(n){return h(this,null,function*(){var t;if(!WD(n))throw new gs(zi(n),0);if(sk.includes(n.status))throw new gs(zi(n),n.status);let e;try{e=yield n.json()}catch(o){throw new Yt(zi(o),o)}let r,i=JD(n);if(i&&i.getTime()>=ov["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new uc(zi(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new rt}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new uc(zi(e),n.status,e.weak_password.reasons);throw new Gd(zi(e),n.status||500,r)})}var ak=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function L(n,t,e,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[cc]||(o[cc]=ov["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield ck(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function ck(n,t,e,r,i,o){return h(this,null,function*(){let s=ak(t,r,i,o),a;try{a=yield n(e,Object.assign({},s))}catch(c){throw console.error(c),new gs(zi(c),0)}if(a.ok||(yield eC(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield eC(c)}})}function Qt(n){var t;let e=null;lk(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=zD(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function cv(n){let t=Qt(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Pn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function tC(n){return{data:n,error:null}}function nC(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=Vn(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function lv(n){return n}function lk(n){return n.access_token&&n.refresh_token&&n.expires_in}var Xd=["global","local","others"];var ms=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=Jd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return h(this,arguments,function*(t,e=Xd[0]){if(Xd.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xd.join(", ")}`);try{return yield L(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(k(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(t,e={}){try{return yield L(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Pn})}catch(i){if(k(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return h(this,null,function*(){try{let{options:e}=t,r=Vn(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nC,redirectTo:e?.redirectTo})}catch(e){if(k(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return h(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pn})}catch(e){if(k(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return h(this,null,function*(){var e,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:lv});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{let w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);l[`${_}Page`]=w}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(k(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return h(this,null,function*(){Hi(t);try{return yield L(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pn})}catch(e){if(k(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return h(this,null,function*(){Hi(t);try{return yield L(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Pn})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return h(this,null,function*(){Hi(t);try{return yield L(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Pn})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){Hi(t.userId);try{let{data:e,error:r}=yield L(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(k(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return h(this,null,function*(){Hi(t.userId),Hi(t.id);try{return{data:yield L(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(k(e))return{data:null,error:e};throw e}})}_listOAuthClients(t){return h(this,null,function*(){var e,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:lv});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{let w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);l[`${_}Page`]=w}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(k(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(t){return h(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(k(e))return{data:null,error:e};throw e}})}_getOAuthClient(t){return h(this,null,function*(){try{return yield L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(k(e))return{data:null,error:e};throw e}})}_updateOAuthClient(t,e){return h(this,null,function*(){try{return yield L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(k(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return h(this,null,function*(){try{return yield L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(k(e))return{data:null,error:e};throw e}})}_regenerateOAuthClientSecret(t){return h(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(k(e))return{data:null,error:e};throw e}})}};function uv(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}var qi={debug:!!(globalThis&&Zd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},fc=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},ef=class extends fc{};function dv(n,t,e){return h(this,null,function*(){qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),qi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(null,null,function*(){if(i){qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield e()}finally{qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new ef(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(qi.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}function rC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function iC(n){return parseInt(n,16)}function oC(n){let t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function sC(n){var t;let{chainId:e,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:p}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let f=fv(n.address),v=u?`${u}://${r}`:r,w=n.statement?`${n.statement}
`:"",_=`${v} wants you to sign in with your Ethereum account:
${f}

${w}`,b=`URI: ${d}
Version: ${p}
Chain ID: ${e}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),c&&(b+=`
Request ID: ${c}`),l){let j=`
Resources:`;for(let x of l){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);j+=`
- ${x}`}b+=j}return`${_}
${b}`}Ee();var Se=class extends Error{constructor({message:t,code:e,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=e}},Gi=class extends Se{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}};function aC({error:n,options:t}){var e,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=o.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new Se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Se({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let s=window.location.hostname;if(hv(s)){if(o.rp.id!==s)return new Se({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function cC({error:n,options:t}){let{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Se({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(hv(r)){if(e.rpId!==r)return new Se({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var pv=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},uk=new pv;function uC(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:t,user:e,excludeCredentials:r}=n,i=Vn(n,["challenge","user","excludeCredentials"]),o=Hr(t).buffer,s=Object.assign(Object.assign({},e),{id:Hr(e.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Hr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function dC(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:t,allowCredentials:e}=n,r=Vn(n,["challenge","allowCredentials"]),i=Hr(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(e&&e.length>0){o.allowCredentials=new Array(e.length);for(let s=0;s<e.length;s++){let a=e[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Hr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function fC(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n;return{id:n.id,rawId:n.id,response:{attestationObject:lr(new Uint8Array(n.response.attestationObject)),clientDataJSON:lr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hC(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:lr(new Uint8Array(i.authenticatorData)),clientDataJSON:lr(new Uint8Array(i.clientDataJSON)),signature:lr(new Uint8Array(i.signature)),userHandle:i.userHandle?lr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function lC(){var n,t;return!!(Ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function dk(n){return h(this,null,function*(){try{let t=yield navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gi("Browser returned unexpected credential type",t)}:{data:null,error:new Gi("Empty credential response",t)}}catch(t){return{data:null,error:aC({error:t,options:n})}}})}function fk(n){return h(this,null,function*(){try{let t=yield navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gi("Browser returned unexpected credential type",t)}:{data:null,error:new Gi("Empty credential response",t)}}catch(t){return{data:null,error:cC({error:t,options:n})}}})}var hk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tf(...n){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of n)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(e(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=tf(a,s):r[o]=tf(s)}else r[o]=s}return r}function gk(n,t){return tf(hk,n,t||{})}function mk(n,t){return tf(pk,n,t||{})}var nf=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return h(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return h(this,arguments,function*({factorId:t,webauthn:e,friendlyName:r,signal:i},o){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:t,webauthn:e});if(!c)return{data:null,error:l};let u=i??uk.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{let d=gk(c.webauthn.credential_options.publicKey,o?.create),{data:p,error:f}=yield dk({publicKey:d,signal:u});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}case"request":{let d=mk(c.webauthn.credential_options.publicKey,o?.request),{data:p,error:f}=yield fk(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}}}catch(c){return k(c)?{data:null,error:c}:{data:null,error:new Yt("Unexpected error in challenge",c)}}})}_verify(i){return h(this,arguments,function*({challengeId:t,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:r})})}_authenticate(s,a){return h(this,arguments,function*({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new $r("rpId is required for WebAuthn authentication")};try{if(!lC())return{data:null,error:new Yt("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:r},signal:i},{request:o});if(!c)return{data:null,error:l};let{webauthn:u}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:u.type,rpId:e,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return k(c)?{data:null,error:c}:{data:null,error:new Yt("Unexpected error in authenticate",c)}}})}_register(s,a){return h(this,arguments,function*({friendlyName:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new $r("rpId is required for WebAuthn registration")};try{if(!lC())return{data:null,error:new Yt("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:t});if(!c)return yield this.client.mfa.listFactors().then(p=>{var f;return(f=p.data)===null||f===void 0?void 0:f.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:u,error:d}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:e,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(c){return k(c)?{data:null,error:c}:{data:null,error:new Yt("Unexpected error in register",c)}}})}};rC();var vk={url:ND,storageKey:OD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function pC(n,t,e){return h(this,null,function*(){return yield e()})}var vs={},yk=(()=>{class n{get jwks(){var e,r;return(r=(e=vs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=vs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},vk),e);if(this.storageKey=s.storageKey,this.instanceID=(r=n.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,n.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ge()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ms({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Jd(s.fetch),this.lock=s.lock||pC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Ge()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=dv:this.lock=pC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nf(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Zd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=uv(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hd}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var e;try{let r={},i="none";if(Ge()&&(r=GD(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),Ge()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),VD(s)){let l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return k(r)?this._returnResult({error:r}):this._returnResult({error:new Yt("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return h(this,null,function*(){var r,i,o;try{let s=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Qt}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(k(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(e){return h(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:d,password:p,options:f}=e,v=null,w=null;this.flowType==="pkce"&&([v,w]=yield $i(this.storage,this.storageKey)),s=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:v,code_challenge_method:w},xform:Qt})}else if("phone"in e){let{phone:d,password:p,options:f}=e;s=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Qt})}else throw new Li("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(k(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(e){return h(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:c}=e;r=yield L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cv})}else if("phone"in e){let{phone:s,password:a,options:c}=e;r=yield L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cv})}else throw new Li("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new cr;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(k(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(e){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return h(this,null,function*(){let{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return h(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,f;let v,w;if("message"in e)v=e.message,w=e.signature;else{let{chain:_,wallet:b,statement:j,options:x}=e,I;if(Ge())if(typeof b=="object")I=b;else{let jn=window;if("ethereum"in jn&&typeof jn.ethereum=="object"&&"request"in jn.ethereum&&typeof jn.ethereum.request=="function")I=jn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=b}let Z=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href),Fe=yield I.request({method:"eth_requestAccounts"}).then(jn=>jn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Fe||Fe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ne=fv(Fe[0]),De=(i=x?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!De){let jn=yield I.request({method:"eth_chainId"});De=iC(jn)}let Xt={domain:Z.host,address:ne,statement:j,uri:Z.href,version:"1",chainId:De,nonce:(o=x?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=x?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=x?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=x?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x?.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=sC(Xt),w=yield I.request({method:"personal_sign",params:[oC(v),ne]})}try{let{data:_,error:b}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Qt});if(b)throw b;if(!_||!_.session||!_.user){let j=new cr;return this._returnResult({data:{user:null,session:null},error:j})}return _.session&&(yield this._saveSession(_.session),yield this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:b})}catch(_){if(k(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}})}signInWithSolana(e){return h(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,f,v;let w,_;if("message"in e)w=e.message,_=e.signature;else{let{chain:b,wallet:j,statement:x,options:I}=e,Z;if(Ge())if(typeof j=="object")Z=j;else{let ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))Z=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=j}let Fe=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){let ne=yield Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:Fe.host,uri:Fe.href}),x?{statement:x}:null)),De;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")De=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)De=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in De&&"signature"in De&&(typeof De.signedMessage=="string"||De.signedMessage instanceof Uint8Array)&&De.signature instanceof Uint8Array)w=typeof De.signedMessage=="string"?De.signedMessage:new TextDecoder().decode(De.signedMessage),_=De.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${Fe.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${Fe.href}`,`Issued At: ${(o=(i=I?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=I?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((a=I?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((c=I?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((l=I?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((u=I?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((p=(d=I?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...I.signInWithSolana.resources.map(De=>`- ${De}`)]:[]].join(`
`);let ne=yield Z.signMessage(new TextEncoder().encode(w),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=ne}}try{let{data:b,error:j}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:lr(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Qt});if(j)throw j;if(!b||!b.session||!b.user){let x=new cr;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:j})}catch(b){if(k(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}})}_exchangeCodeForSession(e){return h(this,null,function*(){let r=yield zr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Qt});if(yield ur(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new cr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(k(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(e){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,c=yield L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Qt}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new cr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(k(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(e){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:c,options:l}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield $i(this.storage,this.storageKey));let{error:p}=yield L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){let{phone:c,options:l}=e,{data:u,error:d}=yield L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Li("You must provide either an email or phone number.")}catch(c){if(k(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}verifyOtp(e){return h(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Qt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(k(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(e){return h(this,null,function*(){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=yield $i(this.storage,this.storageKey));let u=yield L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:tC});return!((s=u.data)===null||s===void 0)&&s.url&&Ge()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(k(c))return this._returnResult({data:null,error:c});throw c}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new rt;let{error:o}=yield L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(e){if(k(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield L(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:c}=yield L(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Li("You must provide either an email or phone number and a type")}catch(r){if(k(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(e,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<qd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let a=yield zr(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=Qd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};e.user=XD(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return h(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return h(this,null,function*(){try{return e?yield L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pn}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rt}:yield L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Pn})}))}catch(r){if(k(r))return jD(r)&&(yield this._removeSession(),yield ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return h(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return h(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new rt;let c=s.session,l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=yield $i(this.storage,this.storageKey));let{data:d,error:p}=yield L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Pn});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})}))}catch(o){if(k(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return h(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new rt;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Yd(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(k(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!e){let{data:a,error:c}=r;if(c)throw c;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new rt;let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(k(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(e,r){return h(this,null,function*(){try{if(!Ge())throw new ji("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ji(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ji("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new lc("No code detected.");let{data:x,error:I}=yield this._exchangeCodeForSession(e.code);if(I)throw I;let Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:x.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=e;if(!s||!c||!a||!u)throw new ji("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let v=f-d;v*1e3<=Fi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);let w=f-p;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);let{data:_,error:b}=yield this._getUser(s);if(b)throw b;let j={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(i){if(k(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return h(this,null,function*(){let r=yield zr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return h(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return h(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,e);if(c&&!(LD(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(yield this._removeSession(),yield ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){let r=qD(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield $i(this.storage,this.storageKey,!0));try{return yield L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(k(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return h(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(e){return h(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let v=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield L(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Ge()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(k(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}})}linkIdentityIdToken(e){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=e,p=yield L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Qt}),{data:f,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new cr}):(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:v}))}catch(o){if(k(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(e){return h(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield ZD(o=>h(this,null,function*(){return o>0&&(yield KD(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qt})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Wd(s)&&Date.now()+a-i<Fi})}catch(i){if(this._debug(r,"error",i),k(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Ge()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var e,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield zr(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Bi(this.userStorage,this.storageKey+"-user",a)),o.user=(e=a?.user)!==null&&e!==void 0?e:Qd()}else if(o&&!o.user&&!o.user){let a=yield zr(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield ur(this.storage,this.storageKey+"-user"),yield Bi(this.storage,this.storageKey,o)):o.user=Qd()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qd;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${qd}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Wd(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return h(this,null,function*(){var r,i;if(!e)throw new rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new dc;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new rt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),k(s)){let a={data:null,error:s};return Wd(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(e,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return h(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Bi(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=av(o);yield Bi(this.storage,this.storageKey,s)}else{let o=av(r);yield Bi(this.storage,this.storageKey,o)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield ur(this.storage,this.storageKey),yield ur(this.storage,this.storageKey+"-code-verifier"),yield ur(this.storage,this.storageKey+"-user"),this.userStorage&&(yield ur(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ge()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),Fi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/Fi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Fi}ms, refresh threshold is ${zd} ticks`),o<=zd&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof fc)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return h(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield $i(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=yield L(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}})}_verify(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fC(e.webauthn.credential_response):hC(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:l}=yield L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))}))}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:uC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:dC(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(e){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return h(this,null,function*(){var e;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){var e,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Yd(i.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new rt})}))}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(e,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new rt});let a=yield L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Ge()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(k(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(e,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new rt});let a=yield L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Ge()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(k(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?yield L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new rt})}))}catch(e){if(k(e))return this._returnResult({data:null,error:e});throw e}})}_revokeOAuthGrant(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new rt})}))}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return h(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(l=>l.kid===e);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(l=>l.kid===e),o&&this.jwks_cached_at+FD>s)return o;let{data:a,error:c}=yield L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(l=>l.kid===e),!o)?null:o})}getClaims(i){return h(this,arguments,function*(e,r={}){try{let o=e;if(!o){let{data:w,error:_}=yield this.getSession();if(_||!w.session)return this._returnResult({data:null,error:_});o=w.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Yd(o);r?.allowExpired||YD(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:w}=yield this.getUser(o);if(w)throw w;return{data:{claims:a,header:s,signature:c},error:null}}let p=QD(s.alg),f=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,f,c,HD(`${l}.${u}`))))throw new Vi("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(o){if(k(o))return this._returnResult({data:null,error:o});throw o}})}}return n.nextInstanceID={},n})(),gv=yk;var _k=gv,mv=_k;var rf=class extends mv{constructor(t){super(t)}};var of=class{constructor(t,e,r){var i,o,s;this.supabaseUrl=t,this.supabaseKey=e;let a=RD(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:SD,realtime:xD,auth:Object.assign(Object.assign({},TD),{storageKey:c}),global:ID},u=AD(r??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=MD(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new aD(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new sc(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Za(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return h(this,null,function*(){var t,e;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:c,debug:l,throwOnError:u},d,p){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rf({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:c,debug:l,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tc(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var gC=(n,t,e)=>new of(n,t,e);function wk(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}wk()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var vv={url:"https://ndivvhdlcbwbpukcguxo.supabase.co",anonKey:"sb_publishable_ioddaniX0ha9wWV0wOn1Fw_u54mCUUe"};var ge=class n{supabase;currentUser=Ke(void 0);constructor(){this.supabase=gC(vv.url,vv.anonKey),this.supabase.auth.onAuthStateChange((t,e)=>{this.currentUser.set(e?.user??null)}),this.checkInitialSession()}checkInitialSession(){return h(this,null,function*(){let{data:{session:t}}=yield this.supabase.auth.getSession();this.currentUser.set(t?.user??null)})}register(t,e,r){return h(this,null,function*(){let{data:i,error:o}=yield this.supabase.auth.signUp({email:t,password:e});return o?{user:null,error:o}:(i.user&&(yield this.supabase.from("profiles").insert({id:i.user.id,name:r,curso:null,is_admin:!1})),{user:i.user,error:null})})}login(t,e){return h(this,null,function*(){let{data:r,error:i}=yield this.supabase.auth.signInWithPassword({email:t,password:e});return{user:r?.user||null,error:i}})}logout(){return h(this,null,function*(){return yield this.supabase.auth.signOut()})}getUser(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.auth.getUser();return e?(console.error("Erro ao obter usu\xE1rio:",e),null):t.user??null})}getSession(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.auth.getSession();return e?null:t.session})}getUserProfile(t){return h(this,null,function*(){return yield this.supabase.from("profiles").select("*").eq("id",t).single()})}updateUserCourse(t,e){return h(this,null,function*(){return yield this.supabase.from("profiles").update({curso:e}).eq("id",t)})}getUserCourse(){return h(this,null,function*(){let t=this.currentUser();if(!t)return null;let{data:e}=yield this.supabase.from("profiles").select("curso").eq("id",t.id).single();return e?.curso??null})}isAdmin(t){return h(this,null,function*(){let{data:e}=yield this.supabase.from("profiles").select("is_admin").eq("id",t).single();return e?.is_admin===!0})}setAdmin(t,e=!0){return h(this,null,function*(){return yield this.supabase.from("profiles").update({is_admin:e}).eq("id",t)})}uploadBanner(t){return h(this,null,function*(){if(!t)return{url:null,error:{message:"Nenhum arquivo selecionado"}};let e=`${Date.now()}_${t.name}`,r="event-banners",{error:i}=yield this.supabase.storage.from(r).upload(e,t);if(i)return{url:null,error:i};let{data:o}=this.supabase.storage.from(r).getPublicUrl(e);return{url:o.publicUrl,error:null}})}insertEvent(t,e){return h(this,null,function*(){let{data:{user:r}}=yield this.supabase.auth.getUser();if(!r)return{error:{message:"Usu\xE1rio n\xE3o logado"}};let i={nome:t.nome,descricao:t.descricao,banner_url:e||null,data:t.data,hora_inicio:t.horaInicio,hora_fim:t.horaFim,cep:t.cep,rua:t.endereco?.rua,bairro:t.endereco?.bairro,cidade:t.endereco?.cidade,estado:t.endereco?.estado,categoria:t.categoria,formato:t.formato,tipo_inscricao:t.tipoInscricao,limite_vagas:t.limiteVagas,emite_certificado:t.emiteCertificado,criado_por:r.id,criado_em:new Date,curso_destinado:t.curso_destinado??null,aprovado:!1};return yield this.supabase.from("events").insert(i)})}getAllEvents(){return h(this,null,function*(){return yield this.supabase.from("events").select("*").eq("aprovado",!0).order("data",{ascending:!0})})}getEventById(t){return h(this,null,function*(){return yield this.supabase.from("events").select("*").eq("id",t).single()})}updateEventById(t,e){return h(this,null,function*(){return yield this.supabase.from("events").update(e).eq("id",t).select().single()})}getEventsByCreator(t){return h(this,null,function*(){return yield this.supabase.from("events").select("*").eq("criado_por",t).order("criado_em",{ascending:!1})})}getPendingEventsAdmin(){return h(this,null,function*(){return yield this.supabase.from("events").select("*").eq("aprovado",!1).order("criado_em",{ascending:!0})})}approveEvent(t){return h(this,null,function*(){return yield this.supabase.from("events").update({aprovado:!0}).eq("id",t).select().single()})}deleteEvent(t){return h(this,null,function*(){return yield this.supabase.from("events").delete().eq("id",t)})}getRecommendedEvents(t){return h(this,null,function*(){return yield this.supabase.from("events").select("*").eq("curso_destinado",t).eq("aprovado",!0)})}getFeaturedEvents(){return h(this,null,function*(){return yield this.supabase.from("events").select("*").eq("destaque",!0).eq("aprovado",!0)})}isUserSubscribed(t,e){return h(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("event_registrations").select("id").eq("event_id",t).eq("user_id",e).maybeSingle();return!i&&r!==null})}subscribeToEvent(t,e){return h(this,null,function*(){return yield this.supabase.from("event_registrations").insert({event_id:t,user_id:e})})}requestEventDeletion(t,e){return h(this,null,function*(){return yield this.supabase.from("event_delete_requests").insert({event_id:t,user_id:e,status:"pending",created_at:new Date().toISOString()})})}getDeletionRequests(){return h(this,null,function*(){return yield this.supabase.from("event_delete_requests").select("*").order("created_at",{ascending:!1})})}approveDeletionRequest(t,e){return h(this,null,function*(){let{error:r}=yield this.supabase.from("events").delete().eq("id",e);if(r)return{error:r};let{error:i}=yield this.supabase.from("event_delete_requests").update({status:"approved"}).eq("id",t);return{error:i}})}rejectDeletionRequest(t){return h(this,null,function*(){return yield this.supabase.from("event_delete_requests").update({status:"rejected"}).eq("id",t)})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};function bk(n,t){n&1&&(m(0,"li")(1,"a",16),y(2," Painel Admin "),g()())}function Ek(n,t){if(n&1){let e=Ie();Qn(0),m(1,"div",17),pt(),m(2,"svg",18),F(3,"path",19),g(),Do(),m(4,"span",20),y(5,"Pesquisar"),g()(),m(6,"button",21),pt(),m(7,"svg",22),F(8,"path",23),g()(),Do(),F(9,"img",24),m(10,"button",25),$("click",function(){X(e);let i=K();return ee(i.handleLogout())}),y(11," Sair "),g(),Xn()}if(n&2){let e,r=K();E(9),N("src",rg("https://i.pravatar.cc/40?u=",(e=r.currentUser())==null?null:e.id),gt)}}function Dk(n,t){n&1&&(Qn(0),m(1,"a",26),y(2,"Login"),g(),m(3,"a",27),y(4," Cadastre-se "),g(),Xn())}function Ck(n,t){n&1&&(pt(),F(0,"path",28))}function Ik(n,t){n&1&&(pt(),F(0,"path",29))}function Sk(n,t){n&1&&(m(0,"li")(1,"a",16),y(2," Painel Admin "),g()())}function Tk(n,t){if(n&1){let e=Ie();Qn(0),m(1,"li")(2,"button",34),$("click",function(){X(e);let i=K(2);return ee(i.handleLogout())}),y(3," Sair "),g()(),Xn()}}function xk(n,t){n&1&&(Qn(0),m(1,"li")(2,"a",26),y(3,"Login"),g()(),m(4,"li")(5,"a",35),y(6,"Cadastre-se"),g()(),Xn())}function Mk(n,t){if(n&1&&(m(0,"div",30)(1,"ul",31)(2,"li")(3,"a",6),y(4,"In\xEDcio"),g()(),m(5,"li")(6,"a",32),y(7,"Eventos"),g()(),m(8,"li")(9,"a",7),y(10,"Meus Eventos"),g()(),Q(11,Sk,3,0,"li",9)(12,Tk,4,0,"ng-container",9)(13,xk,7,0,"ng-container",9),m(14,"li")(15,"a",33),pt(),m(16,"svg",18),F(17,"path",19),g(),Do(),m(18,"span"),y(19,"Pesquisar"),g()()()()()),n&2){let e=K();E(11),N("ngIf",e.isAdmin()),E(),N("ngIf",e.currentUser()),E(),N("ngIf",!e.currentUser())}}var At=class n{supabaseService=D(ge);router=D(he);currentUser=this.supabaseService.currentUser;isAdminSignal=Ke(!1);menuOpen=!1;constructor(){ug(()=>h(this,null,function*(){let t=this.currentUser();if(t){let e=yield this.supabaseService.isAdmin(t.id);this.isAdminSignal.set(e)}else this.isAdminSignal.set(!1)}))}toggleMenu(){this.menuOpen=!this.menuOpen}isAdmin(){return this.isAdminSignal()}handleLogout(){return h(this,null,function*(){let{error:t}=yield this.supabaseService.logout();t?console.error("Erro ao fazer logout:",t):this.router.navigate(["/login"])})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ae({type:n,selectors:[["app-main-navbar"]],decls:24,vars:6,consts:[[1,"bg-white","shadow-sm","px-6","py-1","mb-6","flex","items-center","justify-between","h-20"],[1,"flex","items-center","space-x-8"],[1,"flex","items-center","space-x-2"],["routerLink","/home"],["src","/assets/images/utfpr-logo.svg","alt","UTFPR",1,"h-6"],[1,"hidden","md:flex","space-x-6","text-sm","font-medium"],["routerLink","/",1,"text-yellow-500"],["routerLink","/event-form",1,"hover:text-gray-700"],["routerLink","/event-crud",1,"hover:text-gray-700"],[4,"ngIf"],[1,"flex","items-center","space-x-4"],[1,"md:hidden","p-2","rounded-md","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12",4,"ngIf"],["class","md:hidden bg-white shadow-sm border-t border-gray-100",4,"ngIf"],["routerLink","/admin-panel",1,"text-red-500","font-semibold","hover:text-red-700"],[1,"hidden","md:flex","items-center","bg-gray-100","px-3","py-2","rounded-xl"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-4.35-4.35M11 18a7 7 0 100-14 7 7 0 000 14z"],[1,"ml-2","text-gray-600","text-sm"],[1,"hidden","md:flex","bg-gray-100","p-2","rounded-xl"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14V11a6.002 6.002 0 00-5-5.917V5a3 3 0 10-6 0v.083A6.002 6.002 0 002 11v3c0 .386-.144.735-.405 1.005L0 17h5m10 0a3 3 0 01-6 0h6z"],["alt","Usu\xE1rio",1,"hidden","md:flex","h-8","w-8","rounded-full",3,"src"],[1,"hidden","md:flex","bg-red-500","hover:bg-red-600","text-white","text-sm","font-medium","py-1","px-3","rounded-xl","transition","duration-150",3,"click"],["routerLink","/login",1,"text-gray-700","font-medium","hover:text-yellow-500"],["routerLink","/register",1,"bg-yellow-500","hover:bg-yellow-600","text-white","text-sm","font-medium","py-2","px-3","rounded-lg","transition","duration-150"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"md:hidden","bg-white","shadow-sm","border-t","border-gray-100"],[1,"flex","flex-col","p-4","space-y-3","text-sm"],["routerLink","/",1,"hover:text-gray-700"],["href","#",1,"hover:text-gray-700","flex","items-center","space-x-2"],[1,"text-yellow-500","font-medium","hover:text-yellow-500","w-full","text-left",3,"click"],["routerLink","/register",1,"text-gray-700","font-medium","hover:text-yellow-500"]],template:function(e,r){e&1&&(m(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),F(4,"img",4),g()(),m(5,"ul",5)(6,"li")(7,"a",6),y(8,"In\xEDcio"),g()(),m(9,"li")(10,"a",7),y(11,"Criar Eventos"),g()(),m(12,"li")(13,"a",8),y(14,"Meus Eventos"),g()(),Q(15,bk,3,0,"li",9),g()(),m(16,"div",10),Q(17,Ek,12,2,"ng-container",9)(18,Dk,5,0,"ng-container",9),m(19,"button",11),$("click",function(){return r.toggleMenu()}),pt(),m(20,"svg",12),Q(21,Ck,1,0,"path",13)(22,Ik,1,0,"path",14),g()()()(),Q(23,Mk,20,3,"div",15)),e&2&&(E(15),N("ngIf",r.isAdmin()),E(2),N("ngIf",r.currentUser()),E(),N("ngIf",!r.currentUser()),E(3),N("ngIf",!r.menuOpen),E(),N("ngIf",r.menuOpen),E(),N("ngIf",r.menuOpen))},dependencies:[Ne,vt,Zt],encapsulation:2})};var Ye=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ae({type:n,selectors:[["app-footer"]],decls:9,vars:0,consts:[[1,"bg-gray-900","text-white","w-full","py-6","mt-12"],[1,"w-full","max-w-screen-xl","mx-auto","flex","flex-col","md:flex-row","justify-between","items-center","text-sm","px-6","space-y-4","md:space-y-0"],[1,"flex","space-x-6"],[1,"hover:text-yellow-400","cursor-pointer"]],template:function(e,r){e&1&&(un(0,"footer",0)(1,"div",1)(2,"p"),y(3,"\xA9 2025 UTFPR-Conecta \u2014 Desenvolvido para fins acad\xEAmicos"),dn(),un(4,"div",2)(5,"a",3),y(6,"Pol\xEDtica de Privacidade"),dn(),un(7,"a",3),y(8,"Termos de Uso"),dn()()()())},encapsulation:2})};var yv=n=>["/eventos",n];function Ak(n,t){if(n&1&&(m(0,"div",15),F(1,"img",16),m(2,"div",17)(3,"span",18),y(4),g(),m(5,"h4",19),y(6),g(),m(7,"div",20)(8,"div",21)(9,"span",22),y(10),He(11,"date"),He(12,"uppercase"),g(),m(13,"span",23),y(14),He(15,"date"),g()(),m(16,"div")(17,"p"),y(18),g(),m(19,"span",24),y(20),g()()()()()),n&2){let e=t.$implicit;N("routerLink",Ei(20,yv,e.id)),E(),N("alt",er(e.nome))("src",e.banner_url,gt),E(3),ue(e.categoria),E(2),ue(e.nome),E(4),we(" ",ra(12,15,mt(11,12,e.data,"LLL"))," "),E(4),ue(mt(15,17,e.data,"dd")),E(4),Ze("",e.cidade," - ",e.estado),E(2),Ze(" ",e.hora_inicio==null?null:e.hora_inicio.slice(0,5)," - ",e.hora_fim==null?null:e.hora_fim.slice(0,5)," ")}}function Rk(n,t){if(n&1&&(m(0,"div",25),F(1,"img",26),m(2,"div",17)(3,"h4",27),y(4),g(),m(5,"div",28)(6,"div",29)(7,"span",22),y(8),He(9,"date"),He(10,"uppercase"),g(),m(11,"span",23),y(12),He(13,"date"),g()(),m(14,"div")(15,"p",30),y(16),g(),m(17,"p",24),y(18),g()()()()()),n&2){let e=t.$implicit;N("routerLink",Ei(19,yv,e.id)),E(),N("alt",er(e.nome))("src",e.banner_url,gt),E(3),ue(e.nome),E(4),we(" ",ra(10,14,mt(9,11,e.data,"LLL"))," "),E(4),ue(mt(13,16,e.data,"dd")),E(4),Ze("",e.cidade," - ",e.estado),E(2),Ze(" ",e.hora_inicio==null?null:e.hora_inicio.slice(0,5)," - ",e.hora_fim==null?null:e.hora_fim.slice(0,5)," ")}}function Nk(n,t){if(n&1&&(m(0,"div",25),F(1,"img",26),m(2,"div",17)(3,"h4",27),y(4),g(),m(5,"div",28)(6,"div",29)(7,"span",22),y(8),He(9,"date"),He(10,"uppercase"),g(),m(11,"span",23),y(12),He(13,"date"),g()(),m(14,"div")(15,"p",31),y(16),g(),m(17,"p",24),y(18),g()()()()()),n&2){let e=t.$implicit;N("routerLink",Ei(19,yv,e.id)),E(),N("alt",er(e.nome))("src",e.banner_url,gt),E(3),ue(e.nome),E(4),we(" ",ra(10,14,mt(9,11,e.data,"LLL"))," "),E(4),ue(mt(13,16,e.data,"dd")),E(4),Ze("",e.cidade," - ",e.estado),E(2),Ze(" ",e.hora_inicio==null?null:e.hora_inicio.slice(0,5)," - ",e.hora_fim==null?null:e.hora_fim.slice(0,5)," ")}}var hc=class n{constructor(t,e){this.supabaseService=t;this.router=e}recommendedEvents=[];featuredEvents=[];allEvents=[];userCourse=null;ngOnInit(){return h(this,null,function*(){yield this.loadUserCourse(),yield this.loadEvents()})}loadUserCourse(){return h(this,null,function*(){let t=yield this.supabaseService.getUser();if(!t)return;let{data:e,error:r}=yield this.supabaseService.supabase.from("profiles").select("curso").eq("id",t.id).single();!r&&e&&(this.userCourse=e.curso),this.userCourse||this.router.navigate(["/selecionar-curso"])})}loadEvents(){return h(this,null,function*(){if(this.userCourse===null)return;if(this.userCourse!=="N\xE3o tenho curso"){let r=yield this.supabaseService.getRecommendedEvents(this.userCourse);r.error||(this.recommendedEvents=r.data?.map(i=>this.ensureBannerUrl(i))||[])}else{let r=yield this.supabaseService.supabase.from("events").select("*").eq("curso_destinado","geral").eq("aprovado",!0);r.error||(this.recommendedEvents=r.data?.map(i=>this.ensureBannerUrl(i))||[])}let t=yield this.supabaseService.getFeaturedEvents();t.error||(this.featuredEvents=t.data?.map(r=>this.ensureBannerUrl(r))||[]);let e=yield this.supabaseService.getAllEvents();e.error||(this.allEvents=e.data?.map(r=>this.ensureBannerUrl(r))||[])})}ensureBannerUrl(t){return t.banner_url?.startsWith("http")||(t.banner_url=`https://ndivvhdlcbwbpukcguxo.supabase.co/storage/v1/object/public/event-banners/${t.banner_url}`),t}static \u0275fac=function(e){return new(e||n)(R(ge),R(he))};static \u0275cmp=ae({type:n,selectors:[["app-home"]],decls:36,vars:7,consts:[[1,"flex","flex-col","min-h-screen","bg-gray-50","text-gray-800"],[1,"relative","w-full","h-72","md:h-80","rounded-xl","overflow-hidden","mx-auto","mt-6","max-w-6xl"],["src","assets/images/utfpr-main2.png","alt","UTFPR",1,"w-full","h-full","object-cover"],[1,"absolute","inset-0","bg-black/40","flex","flex-col","justify-center","items-center","text-center","text-white"],[1,"text-3xl","font-semibold","mb-3"],["routerLink","/eventos",1,"bg-yellow-400","text-black","font-semibold","px-6","py-2","rounded-lg","hover:bg-yellow-500","transition"],[1,"flex-1","max-w-6xl","mx-auto","w-full","mt-10","space-y-16","px-6"],[1,"flex","justify-between","items-center","mb-5"],[1,"text-3xl","font-semibold"],["routerLink","/eventos",1,"hover:underline","cursor-pointer"],[1,"flex","gap-16","overflow-x-auto","snap-x","snap-mandatory","pb-7","scrollbar-hide"],["class","w-[320px] bg-white rounded-xl shadow-md snap-start shrink-0 transition hover:shadow-lg cursor-pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"mt-10"],[1,"grid","md:grid-cols-3","gap-6"],["class","bg-white rounded-xl shadow hover:shadow-lg transition cursor-pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"w-[320px]","bg-white","rounded-xl","shadow-md","snap-start","shrink-0","transition","hover:shadow-lg","cursor-pointer",3,"routerLink"],[1,"rounded-t-xl","h-44","w-full","object-cover",3,"src","alt"],[1,"p-4"],[1,"text-xs","text-gray-700","font-medium"],[1,"mt-1","font-semibold","text-gray-900","leading-tight"],[1,"flex","items-center","mt-3","text-sm","text-gray-700"],[1,"mr-6","text-center"],[1,"font-bold","block"],[1,"text-xs"],[1,"text-xs","text-gray-500"],[1,"bg-white","rounded-xl","shadow","hover:shadow-lg","transition","cursor-pointer",3,"routerLink"],[1,"rounded-t-xl","h-40","w-full","object-cover",3,"src","alt"],[1,"font-semibold"],[1,"flex","items-center","mt-2","text-sm"],[1,"mr-5","text-center"],[1,"text-gray-600"],[1,"text-gray-700"]],template:function(e,r){e&1&&(F(0,"app-main-navbar"),m(1,"div",0)(2,"section",1),F(3,"img",2),m(4,"div",3)(5,"h2",4),y(6,"Veja o que est\xE1 acontecendo na UTFPR"),g(),m(7,"button",5),y(8," Ver eventos "),g()()(),m(9,"main",6)(10,"section")(11,"div",7)(12,"h3",8),y(13,"Eventos com base nos seus interesses:"),g(),m(14,"a",9),y(15,"Ver mais"),g()(),m(16,"div",10),Q(17,Ak,21,22,"div",11),g()(),m(18,"section",12)(19,"div",7)(20,"h3",8),y(21,"Eventos em destaque:"),g(),m(22,"a",9),y(23,"Ver mais"),g()(),m(24,"div",13),Q(25,Rk,19,21,"div",14),g()(),m(26,"section",12)(27,"div",7)(28,"h3",8),y(29,"Todos os eventos"),g(),m(30,"a",9),y(31,"Ver mais"),g()(),m(32,"div",13),Q(33,Nk,19,21,"div",14),He(34,"slice"),g()()()(),F(35,"app-footer")),e&2&&(E(17),N("ngForOf",r.recommendedEvents),E(8),N("ngForOf",r.featuredEvents),E(8),N("ngForOf",sg(34,3,r.allEvents,0,6)))},dependencies:[Ne,Wt,La,Zt,At,Ye,Sg,Tg,rr],encapsulation:2})};var Ok=["*"],Ln=class n{color="primary-yellow";type="button";disabled=!1;externalClasses="";buttonClick=new Me;onClick(t){this.disabled||this.buttonClick.emit(t)}get computedClasses(){let t=["inline-flex","items-center","justify-center","px-4","py-3","font-semibold","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-offset-2","transition-colors","duration-200","disabled:opacity-50","disabled:cursor-not-allowed","focus:ring-yellow-400"],e={"primary-yellow":"bg-yellow-400 text-white rounded-md shadow-sm hover:bg-yellow-500 ",danger:"bg-red-600 text-white rounded-md shadow-sm hover:bg-red-700 "};return[...t,e[this.color],this.externalClasses].join(" ")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ae({type:n,selectors:[["app-button"]],inputs:{color:"color",type:"type",disabled:"disabled",externalClasses:[0,"class","externalClasses"]},outputs:{buttonClick:"buttonClick"},ngContentSelectors:Ok,decls:2,vars:4,consts:[[3,"click","type","disabled"]],template:function(e,r){e&1&&(eg(),un(0,"button",0),lu("click",function(o){return r.onClick(o)}),tg(1),dn()),e&2&&(ng(r.computedClasses),cu("type",r.type)("disabled",r.disabled))},encapsulation:2})};var sf=class n{constructor(t){this.http=t}viaCepUrl="https://viacep.com.br/ws";getAddressByCep(t){let e=t.replace(/\D/g,"");return this.http.get(`${this.viaCepUrl}/${e}/json/`).pipe(V(r=>{if(r.erro)throw new Error("CEP n\xE3o encontrado");return{cep:r.cep,rua:r.logradouro,bairro:r.bairro,cidade:r.localidade,estado:r.uf}}))}static \u0275fac=function(e){return new(e||n)(O(ku))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};function Pk(n,t){n&1&&(pt(),m(0,"svg",52),F(1,"path",53),g())}function Fk(n,t){n&1&&(pt(),m(0,"svg",54),F(1,"path",55),g())}function Lk(n,t){if(n&1){let e=Ie();m(0,"div",43)(1,"div",44),$("click",function(){X(e);let i=K();return ee(i.closeModal())}),g(),m(2,"div",45)(3,"div",46)(4,"div"),Q(5,Pk,2,0,"svg",47)(6,Fk,2,0,"svg",48),g(),m(7,"div",14)(8,"h3",49),y(9),g(),m(10,"p",50),y(11),g()(),m(12,"button",51),$("click",function(){X(e);let i=K();return ee(i.closeModal())}),y(13,"\u2715"),g()()()()}if(n&2){let e=K();E(5),N("ngIf",e.modalType==="success"),E(),N("ngIf",e.modalType==="error"),E(3),we(" ",e.modalType==="success"?"Sucesso":"Erro"," "),E(2),ue(e.modalMessage)}}var af=class n{constructor(t,e,r,i){this.route=t;this.router=e;this.addressService=r;this.supabaseService=i}eventId=null;currentUserId=null;nome="";descricao="";data="";horaInicio="";horaFim="";categoria="";formato="";tipoInscricao="";limiteVagas=null;emiteCertificado="false";cep="";endereco={rua:"",bairro:"",cidade:"",estado:""};bannerFile=null;isSubmitting=!1;showModal=!1;modalType="success";modalMessage="";ngOnInit(){return h(this,null,function*(){let t=yield this.supabaseService.getUser();this.currentUserId=t?.id??null,this.route.queryParams.subscribe(e=>{this.eventId=e.id??null,this.eventId&&this.carregarEvento(this.eventId)})})}carregarEvento(t){return h(this,null,function*(){if(!this.currentUserId){this.openModal("error","Voc\xEA precisa estar logado para editar eventos."),this.router.navigate(["/event-crud"]);return}let{data:e,error:r}=yield this.supabaseService.getEventById(t);if(r||!e){console.error("Erro ao carregar evento",r),this.openModal("error","Evento n\xE3o encontrado."),this.router.navigate(["/event-crud"]);return}if(e.criado_por!==this.currentUserId){this.openModal("error","Voc\xEA s\xF3 pode editar eventos que criou."),this.router.navigate(["/event-crud"]);return}let o=new Date(e.data).toISOString().substring(0,10);this.nome=e.nome,this.descricao=e.descricao,this.data=o,this.horaInicio=e.hora_inicio??e.horaInicio,this.horaFim=e.hora_fim??e.horaFim,this.categoria=e.categoria,this.formato=e.formato,this.tipoInscricao=e.tipo_inscricao??e.tipoInscricao,this.limiteVagas=e.limite_vagas===null?null:Number(e.limite_vagas),this.emiteCertificado=String(e.emite_certificado??e.emiteCertificado),this.cep=e.cep,this.endereco={rua:e.rua??"",bairro:e.bairro??"",cidade:e.localidade??"",estado:e.uf??""}})}enviarEvento(){return h(this,null,function*(){this.isSubmitting=!0;try{if(this.eventId){yield this.atualizarEvento();return}if(!this.bannerFile){this.openModal("error","Selecione um banner para o evento."),this.isSubmitting=!1;return}let{url:t,error:e}=yield this.supabaseService.uploadBanner(this.bannerFile);if(e||!t){this.openModal("error",e?.message||"Erro ao enviar banner."),this.isSubmitting=!1;return}let{error:r}=yield this.supabaseService.insertEvent({nome:this.nome,descricao:this.descricao,data:this.data,horaInicio:this.horaInicio,horaFim:this.horaFim,categoria:this.categoria,formato:this.formato,tipoInscricao:this.tipoInscricao,limiteVagas:this.limiteVagas,emiteCertificado:this.emiteCertificado==="true",cep:this.cep,endereco:this.endereco},t);if(r){this.openModal("error",r.message);return}this.openModal("success","Evento criado com sucesso!"),this.resetForm()}finally{this.isSubmitting=!1}})}atualizarEvento(){return h(this,null,function*(){let t={nome:this.nome,descricao:this.descricao,data:this.data,hora_inicio:this.horaInicio,hora_fim:this.horaFim,categoria:this.categoria,formato:this.formato,tipo_inscricao:this.tipoInscricao,limite_vagas:this.limiteVagas,emite_certificado:this.emiteCertificado==="true",cep:this.cep,rua:this.endereco.rua,bairro:this.endereco.bairro,cidade:this.endereco.cidade,estado:this.endereco.estado},{error:e}=yield this.supabaseService.updateEventById(this.eventId,t);if(e){this.openModal("error","Erro ao atualizar evento: "+e.message);return}this.openModal("success","Evento atualizado com sucesso!")})}onBannerSelected(t){this.bannerFile=t.target.files[0]??null}get isFormValid(){return this.nome.trim()!==""&&this.descricao.trim()!==""&&this.data.trim()!==""&&this.horaInicio.trim()!==""&&this.horaFim.trim()!==""&&this.formato.trim()!==""&&this.categoria.trim()!==""&&this.tipoInscricao.trim()!==""&&this.cep.trim()!==""&&this.endereco.rua.trim()!==""&&this.endereco.bairro.trim()!==""&&this.endereco.cidade.trim()!==""&&this.endereco.estado.trim()!==""&&(this.eventId?!0:this.bannerFile!==null)}resetForm(){this.nome="",this.descricao="",this.data="",this.horaInicio="",this.horaFim="",this.categoria="",this.formato="",this.tipoInscricao="",this.limiteVagas=null,this.emiteCertificado="false",this.cep="",this.endereco={rua:"",bairro:"",cidade:"",estado:""},this.bannerFile=null}openModal(t,e){this.modalType=t,this.modalMessage=e,this.showModal=!0}closeModal(){this.showModal=!1}buscarEndereco(){return h(this,null,function*(){if(this.cep)try{let e=yield(yield fetch(`https://viacep.com.br/ws/${this.cep}/json/`)).json();if(e.erro){this.openModal("error","CEP n\xE3o encontrado.");return}this.endereco.rua=e.logradouro??"",this.endereco.bairro=e.bairro??"",this.endereco.cidade=e.localidade??"",this.endereco.estado=e.uf??""}catch(t){this.openModal("error","Erro ao buscar o endere\xE7o."),console.error(t)}})}static \u0275fac=function(e){return new(e||n)(R(xt),R(he),R(sf),R(ge))};static \u0275cmp=ae({type:n,selectors:[["app-event-form"]],decls:111,vars:25,consts:[[1,"min-h-screen","bg-gray-50","flex","flex-col","items-center","py-10"],[1,"w-full","max-w-5xl","bg-white","rounded-2xl","shadow","p-6","sm:p-8"],[1,"text-2xl","font-semibold","text-center","mb-6","sm:text-left"],[1,"mb-8"],[1,"text-lg","font-semibold","mb-4"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-1"],["type","text","placeholder","Ex: Semana da Tecnologia",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"ngModelChange","ngModel"],["placeholder","Descreva em detalhes o que acontecer\xE1 no evento.",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","h-32","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"ngModelChange","ngModel"],["type","file",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"change"],[1,"mb-8","border-t","pt-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","date",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"ngModelChange","ngModel"],[1,"flex","gap-4"],[1,"flex-1"],["type","time",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"ngModelChange","ngModel"],[1,"mt-4"],[1,"flex","gap-4","flex-wrap"],[1,"flex","items-center","gap-2"],["type","radio","name","formato","value","presencial",1,"accent-yellow-500",3,"ngModelChange","ngModel"],["type","radio","name","formato","value","online",1,"accent-yellow-500",3,"ngModelChange","ngModel"],[1,"mt-4","space-y-3"],[1,"flex","flex-col","sm:flex-row","gap-2"],["type","text","placeholder","Digite o CEP",1,"w-full","sm:w-1/3","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"ngModelChange","blur","ngModel"],["color","primary-yellow",1,"sm:","w-auto","flex-1",3,"click"],["type","text","placeholder","Rua",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"ngModelChange","ngModel"],["type","text","placeholder","Bairro",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"ngModelChange","ngModel"],["type","text","placeholder","Cidade",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"ngModelChange","ngModel"],["type","text","placeholder","Estado",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-2"],["type","radio","name","categoria","value","Sistemas para Internet",1,"accent-yellow-500",3,"ngModelChange","ngModel"],["type","radio","name","categoria","value","Engenharia Mec\xE2nica",1,"accent-yellow-500",3,"ngModelChange","ngModel"],["type","radio","name","categoria","value","Engenharia Mecatr\xF4nica",1,"accent-yellow-500",3,"ngModelChange","ngModel"],["type","radio","name","categoria","value","Engenharia Civil",1,"accent-yellow-500",3,"ngModelChange","ngModel"],["type","radio","name","categoria","value","Eventos Gerais",1,"accent-yellow-500",3,"ngModelChange","ngModel"],[1,"text-lg","font-medium","mb-4"],["type","radio","name","inscricao","value","gratuito",1,"accent-yellow-500",3,"ngModelChange","ngModel"],["type","radio","name","inscricao","value","pago",1,"accent-yellow-500",3,"ngModelChange","ngModel"],["type","number","placeholder","Ex: 100",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-yellow-500","focus:outline-none",3,"ngModelChange","ngModel"],["type","radio","name","cert","value","true",1,"accent-yellow-500",3,"ngModelChange","ngModel"],["type","radio","name","cert","value","false",1,"accent-yellow-500",3,"ngModelChange","ngModel"],["type","button","color","primary-yellow",1,"h-12","w-full","sm:w-auto","flex-1",3,"click","disabled"],["class","fixed inset-0 z-50 flex items-center justify-center",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center"],[1,"absolute","inset-0","bg-black/50","backdrop-blur-sm",3,"click"],[1,"relative","bg-white","rounded-xl","shadow-xl","p-6","w-full","max-w-sm","mx-4","z-50"],[1,"flex","items-start","gap-4"],["class","w-8 h-8 text-green-500","fill","none","viewBox","0 0 24 24",4,"ngIf"],["class","w-8 h-8 text-red-500","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"text-lg","font-semibold"],[1,"mt-1","text-gray-700"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["fill","none","viewBox","0 0 24 24",1,"w-8","h-8","text-green-500"],["d","M5 13l4 4L19 7","stroke","currentColor","stroke-width","2"],["fill","none","viewBox","0 0 24 24",1,"w-8","h-8","text-red-500"],["d","M6 18L18 6M6 6l12 12","stroke","currentColor","stroke-width","2"]],template:function(e,r){e&1&&(F(0,"app-main-navbar"),m(1,"div",0)(2,"div",1)(3,"h1",2),y(4,"Cadastre um novo evento"),g(),m(5,"section",3)(6,"h2",4),y(7,"Informa\xE7\xF5es b\xE1sicas"),g(),m(8,"div",5)(9,"div")(10,"label",6),y(11,"Nome do Evento *"),g(),m(12,"input",7),oe("ngModelChange",function(o){return se(r.nome,o)||(r.nome=o),o}),g()(),m(13,"div")(14,"label",6),y(15,"Descri\xE7\xE3o Completa *"),g(),m(16,"textarea",8),oe("ngModelChange",function(o){return se(r.descricao,o)||(r.descricao=o),o}),g()(),m(17,"div")(18,"label",6),y(19,"Imagem/banner *"),g(),m(20,"input",9),$("change",function(o){return r.onBannerSelected(o)}),g()()()(),m(21,"section",10)(22,"h2",4),y(23,"Sobre o evento"),g(),m(24,"div",11)(25,"div")(26,"label",6),y(27,"Data *"),g(),m(28,"input",12),oe("ngModelChange",function(o){return se(r.data,o)||(r.data=o),o}),g()(),m(29,"div",13)(30,"div",14)(31,"label",6),y(32,"Hora In\xEDcio *"),g(),m(33,"input",15),oe("ngModelChange",function(o){return se(r.horaInicio,o)||(r.horaInicio=o),o}),g()(),m(34,"div",14)(35,"label",6),y(36,"Hora Fim *"),g(),m(37,"input",15),oe("ngModelChange",function(o){return se(r.horaFim,o)||(r.horaFim=o),o}),g()()()(),m(38,"div",16)(39,"span",6),y(40,"Formato *"),g(),m(41,"div",17)(42,"label",18)(43,"input",19),oe("ngModelChange",function(o){return se(r.formato,o)||(r.formato=o),o}),g(),y(44," Presencial "),g(),m(45,"label",18)(46,"input",20),oe("ngModelChange",function(o){return se(r.formato,o)||(r.formato=o),o}),g(),y(47," Online "),g()()(),m(48,"div",21)(49,"label",6),y(50,"Endere\xE7o *"),g(),m(51,"div",22)(52,"input",23),oe("ngModelChange",function(o){return se(r.cep,o)||(r.cep=o),o}),$("blur",function(){return r.buscarEndereco()}),g(),m(53,"app-button",24),$("click",function(){return r.buscarEndereco()}),y(54," Buscar "),g()(),m(55,"input",25),oe("ngModelChange",function(o){return se(r.endereco.rua,o)||(r.endereco.rua=o),o}),g(),m(56,"input",26),oe("ngModelChange",function(o){return se(r.endereco.bairro,o)||(r.endereco.bairro=o),o}),g(),m(57,"input",27),oe("ngModelChange",function(o){return se(r.endereco.cidade,o)||(r.endereco.cidade=o),o}),g(),m(58,"input",28),oe("ngModelChange",function(o){return se(r.endereco.estado,o)||(r.endereco.estado=o),o}),g()(),m(59,"div",16)(60,"span",6),y(61,"Categoria *"),g(),m(62,"div",29)(63,"label",18)(64,"input",30),oe("ngModelChange",function(o){return se(r.categoria,o)||(r.categoria=o),o}),g(),y(65," Sistemas para Internet "),g(),m(66,"label",18)(67,"input",31),oe("ngModelChange",function(o){return se(r.categoria,o)||(r.categoria=o),o}),g(),y(68," Engenharia Mec\xE2nica "),g(),m(69,"label",18)(70,"input",32),oe("ngModelChange",function(o){return se(r.categoria,o)||(r.categoria=o),o}),g(),y(71," Engenharia Mecatr\xF4nica "),g(),m(72,"label",18)(73,"input",33),oe("ngModelChange",function(o){return se(r.categoria,o)||(r.categoria=o),o}),g(),y(74," Engenharia Civil "),g(),m(75,"label",18)(76,"input",34),oe("ngModelChange",function(o){return se(r.categoria,o)||(r.categoria=o),o}),g(),y(77," Eventos Gerais "),g()()()(),m(78,"section",10)(79,"h2",35),y(80,"Inscri\xE7\xF5es e certificados"),g(),m(81,"div",5)(82,"div")(83,"span",6),y(84,"Tipo de inscri\xE7\xE3o *"),g(),m(85,"div",17)(86,"label",18)(87,"input",36),oe("ngModelChange",function(o){return se(r.tipoInscricao,o)||(r.tipoInscricao=o),o}),g(),y(88," Gratuito "),g(),m(89,"label",18)(90,"input",37),oe("ngModelChange",function(o){return se(r.tipoInscricao,o)||(r.tipoInscricao=o),o}),g(),y(91," Pago "),g()()(),m(92,"div")(93,"label",6),y(94,"Limite de vagas?"),g(),m(95,"input",38),oe("ngModelChange",function(o){return se(r.limiteVagas,o)||(r.limiteVagas=o),o}),g()(),m(96,"div")(97,"span",6),y(98,"Emite certificado"),g(),m(99,"div",17)(100,"label",18)(101,"input",39),oe("ngModelChange",function(o){return se(r.emiteCertificado,o)||(r.emiteCertificado=o),o}),g(),y(102," Sim "),g(),m(103,"label",18)(104,"input",40),oe("ngModelChange",function(o){return se(r.emiteCertificado,o)||(r.emiteCertificado=o),o}),g(),y(105," N\xE3o "),g()()()()(),m(106,"div")(107,"app-button",41),$("click",function(){return r.enviarEvento()}),y(108),g()(),Q(109,Lk,14,4,"div",42),g()(),F(110,"app-footer")),e&2&&(E(12),ie("ngModel",r.nome),E(4),ie("ngModel",r.descricao),E(12),ie("ngModel",r.data),E(5),ie("ngModel",r.horaInicio),E(4),ie("ngModel",r.horaFim),E(6),ie("ngModel",r.formato),E(3),ie("ngModel",r.formato),E(6),ie("ngModel",r.cep),E(3),ie("ngModel",r.endereco.rua),E(),ie("ngModel",r.endereco.bairro),E(),ie("ngModel",r.endereco.cidade),E(),ie("ngModel",r.endereco.estado),E(6),ie("ngModel",r.categoria),E(3),ie("ngModel",r.categoria),E(3),ie("ngModel",r.categoria),E(3),ie("ngModel",r.categoria),E(3),ie("ngModel",r.categoria),E(11),ie("ngModel",r.tipoInscricao),E(3),ie("ngModel",r.tipoInscricao),E(5),ie("ngModel",r.limiteVagas),E(6),ie("ngModel",r.emiteCertificado),E(3),ie("ngModel",r.emiteCertificado),E(3),N("disabled",!r.isFormValid||r.isSubmitting),E(),we(" ",r.isSubmitting?"Enviando...":r.eventId?"Atualizar Evento":"Enviar para aprova\xE7\xE3o"," "),E(),N("ngIf",r.showModal))},dependencies:[Ne,vt,JE,jr,Tm,xm,os,Vr,Ni,Ln,At,Ye],encapsulation:2})};var ys=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ae({type:n,selectors:[["app-register-navbar"]],decls:2,vars:0,consts:[[1,"flex","items-center","p-1"],["src","/assets/images/utfpr-logo.svg","alt","Logo UTFPR",1,"h-5","sm:h-8","w-auto","max-w-full"]],template:function(e,r){e&1&&(un(0,"nav",0),au(1,"img",1),dn())},encapsulation:2})};function jk(n,t){if(n&1){let e=Ie();m(0,"div",19)(1,"div",20),$("click",function(){X(e);let i=K();return ee(i.closeModal())}),g(),m(2,"div",21)(3,"h3",22),y(4,"Aviso"),g(),m(5,"p",23),y(6),g(),m(7,"div",24)(8,"button",25),$("click",function(){X(e);let i=K();return ee(i.closeModal())}),y(9," Fechar "),g()()()()}if(n&2){let e=K();E(6),ue(e.modalMessage)}}var cf=class n{constructor(t,e){this.router=t;this.supabaseService=e}email="";password="";showModal=!1;modalMessage="";loginSuccess=!1;isSubmitting=!1;login(){return h(this,null,function*(){if(!this.email||!this.password){this.modalMessage="Por favor, preencha o e-mail e a senha.",this.showModal=!0;return}this.isSubmitting=!0,this.loginSuccess=!1;try{let{user:t,error:e}=yield this.supabaseService.login(this.email,this.password);if(e||!t){let r="Credenciais de login inv\xE1lidas.";e&&!e.message.includes("Invalid login credentials")&&(r="Erro ao tentar fazer login. Tente novamente.",console.error("Erro no login:",e)),this.modalMessage=r,this.showModal=!0,this.loginSuccess=!1}else this.modalMessage="Login realizado com sucesso! Redirecionando...",this.showModal=!0,this.loginSuccess=!0}catch(t){console.error("Erro inesperado durante o login:",t),this.modalMessage="Ocorreu um erro inesperado no sistema.",this.showModal=!0,this.loginSuccess=!1}finally{this.isSubmitting=!1}})}closeModal(){this.showModal=!1,this.loginSuccess&&this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||n)(R(he),R(ge))};static \u0275cmp=ae({type:n,selectors:[["app-login"]],decls:33,vars:3,consts:[["frm","ngForm"],[1,"flex","justify-center","mt-7"],["src","assets/images/utfpr-main2.png","alt","Campus da UTFPR",1,"w-780","h-auto","object-contain"],[1,"relative","-mt-0","z-10","mb-8"],[1,"w-full","md:max-w-xl","mx-auto","bg-white","rounded-2xl","shadow-2xl","overflow-hidden"],[1,"p-8","md:p-10"],[1,"text-center","mb-6"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"forms"],[1,"flex","flex-col","gap-4",3,"ngSubmit"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","type","email","name","email","placeholder","Digite seu email","required","",1,"mt-1","w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","type","password","name","password","placeholder","Digite sua senha","required","",1,"mt-1","w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit","color","primary-yellow",1,"w-full","mt-4"],[1,"text-center","mt-6","text-sm","text-gray-600"],["routerLink","/register",1,"font-medium","text-blue-600","hover:text-blue-500"],["class","fixed inset-0 z-50 flex items-center justify-center",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center"],[1,"absolute","inset-0","bg-black/50",3,"click"],[1,"relative","max-w-md","w-full","bg-white","rounded-lg","shadow-lg","p-6","mx-4"],[1,"text-lg","font-semibold"],[1,"mt-2","text-gray-700"],[1,"text-right","mt-4"],[1,"px-4","py-2","bg-yellow-500","text-white","rounded-md","hover:bg-yellow-600",3,"click"]],template:function(e,r){if(e&1){let i=Ie();m(0,"header"),F(1,"app-register-navbar"),g(),m(2,"main")(3,"div",1),F(4,"img",2),g(),m(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"h1",7),y(10,"Login"),g(),m(11,"p",8),y(12,"Bem-vindo(a) de volta ao UTFPR-Conecta"),g()(),m(13,"div",9)(14,"form",10,0),$("ngSubmit",function(){return X(i),ee(r.login())}),m(16,"div")(17,"label",11),y(18,"Digite seu Email"),g(),m(19,"input",12),oe("ngModelChange",function(s){return X(i),se(r.email,s)||(r.email=s),ee(s)}),g()(),m(20,"div")(21,"label",13),y(22,"Digite sua Senha"),g(),m(23,"input",14),oe("ngModelChange",function(s){return X(i),se(r.password,s)||(r.password=s),ee(s)}),g()(),m(24,"app-button",15),y(25," Login "),g()(),m(26,"div",16)(27,"p"),y(28,"N\xE3o tem uma conta? "),m(29,"a",17),y(30,"Cadastre-se"),g()()()()()()()(),Q(31,jk,10,1,"div",18),F(32,"app-footer")}e&2&&(E(19),ie("ngModel",r.email),E(4),ie("ngModel",r.password),E(8),N("ngIf",r.showModal))},dependencies:[ys,Vr,bd,jr,os,_d,Mm,Ni,qa,Zt,Ln,Ne,vt,Ye],styles:["form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.75em 1em;font-size:1rem;border:1px solid #ccc;border-radius:8px;outline:none;transition:border-color .2s,box-shadow .2s}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#f6c212;box-shadow:0 0 0 3px #f6c21233}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#00000080;transition:opacity .3s}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus::placeholder{opacity:0}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;cursor:pointer}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.9em;font-size:1rem;font-weight:600;color:#fff;background-color:#f6c212;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s,transform .1s}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e5b110}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.98)}@media (max-width: 480px){.card[_ngcontent-%COMP%]{padding:1.8em;max-width:90%}.welcome[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}}"]})};function Vk(n,t){if(n&1){let e=Ie();m(0,"div",19)(1,"div",20)(2,"h2",21),y(3,"Aten\xE7\xE3o"),g(),m(4,"p",22),y(5),g(),m(6,"button",23),$("click",function(){X(e);let i=K();return ee(i.closeModal())}),y(7," Ok "),g()()()}if(n&2){let e=K();E(5),ue(e.modalMessage)}}var lf=class n{constructor(t,e){this.router=t;this.supabaseService=e}name="";email="";password="";passwordConfirm="";showModal=!1;modalMessage="";idValue="";isSubmitting=!1;register(){return h(this,null,function*(){if(!this.name||!this.email||!this.password||!this.passwordConfirm){this.modalMessage="Por favor, preencha todos os campos.",this.showModal=!0;return}if(this.password!==this.passwordConfirm){this.modalMessage="As senhas n\xE3o coincidem!",this.showModal=!0;return}this.isSubmitting=!0;try{let{user:t,error:e}=yield this.supabaseService.register(this.email,this.password,this.name);if(e){let r="Erro desconhecido ao cadastrar. Tente novamente.";e.message.includes("already registered")?r="Este e-mail j\xE1 est\xE1 cadastrado. Por favor, fa\xE7a login.":e.message.includes("Password should be at least 6 characters")&&(r="A senha deve ter pelo menos 6 caracteres."),this.modalMessage=r,this.showModal=!0}else t&&(this.modalMessage=`Cadastro realizado com sucesso!
Agora selecione seu curso.`,this.showModal=!0)}catch(t){console.error("Erro inesperado durante o cadastro:",t),this.modalMessage="Ocorreu um erro inesperado no sistema.",this.showModal=!0}finally{this.isSubmitting=!1}})}closeModal(){this.showModal=!1,this.modalMessage.startsWith("Cadastro realizado")&&this.router.navigate(["/select-course"])}static \u0275fac=function(e){return new(e||n)(R(he),R(ge))};static \u0275cmp=ae({type:n,selectors:[["app-register-form"]],decls:37,vars:7,consts:[["frm","ngForm"],[1,"flex","justify-center","mt-7"],["src","assets/images/utfpr-main2.png","alt","Campus da UTFPR",1,"w-780","h-auto","object-contain"],[1,"relative","-mt-0","z-10","mb-8"],[1,"w-full","md:max-w-xl","mx-auto","bg-white","rounded-2xl","shadow-2xl","overflow-hidden"],[1,"p-8","md:p-10"],[1,"text-center","mb-6"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","flex-col","gap-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","name","name","placeholder","Digite seu nome completo",1,"mt-1","w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-yellow-500",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","email@exemplo.com",1,"mt-1","w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-yellow-500",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Digite sua Senha",1,"mt-1","w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-yellow-500",3,"ngModelChange","ngModel"],["type","password","name","passwordConfirm","placeholder","Confirme sua Senha",1,"mt-1","w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-yellow-500",3,"ngModelChange","ngModel"],["type","submit","color","primary-yellow",1,"w-full","mt-4",3,"disabled"],[1,"text-center","mt-6","text-sm","text-gray-600"],["routerLink","/login",1,"font-medium","text-blue-600","hover:text-blue-500"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","w-80","rounded-xl","shadow-lg","p-6","text-center"],[1,"text-lg","font-semibold","mb-2"],[1,"text-gray-700","mb-6","whitespace-pre-line"],[1,"bg-yellow-500","hover:bg-yellow-600","text-white","font-medium","px-4","py-2","rounded-lg",3,"click"]],template:function(e,r){if(e&1){let i=Ie();F(0,"app-register-navbar"),m(1,"div",1),F(2,"img",2),g(),m(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),y(8,"Cadastre-se"),g(),m(9,"p",8),y(10,"Bem-vindo(a) ao UTFPR-Conecta"),g()(),m(11,"form",9,0),$("ngSubmit",function(){return X(i),ee(r.register())}),m(13,"div")(14,"label",10),y(15,"Nome completo"),g(),m(16,"input",11),oe("ngModelChange",function(s){return X(i),se(r.name,s)||(r.name=s),ee(s)}),g()(),m(17,"div")(18,"label",10),y(19,"Email"),g(),m(20,"input",12),oe("ngModelChange",function(s){return X(i),se(r.email,s)||(r.email=s),ee(s)}),g()(),m(21,"div")(22,"label",10),y(23,"Digite sua senha"),g(),m(24,"input",13),oe("ngModelChange",function(s){return X(i),se(r.password,s)||(r.password=s),ee(s)}),g()(),m(25,"div")(26,"label",10),y(27,"Confirme sua senha"),g(),m(28,"input",14),oe("ngModelChange",function(s){return X(i),se(r.passwordConfirm,s)||(r.passwordConfirm=s),ee(s)}),g()(),m(29,"app-button",15),y(30),g()(),m(31,"div",16),y(32," J\xE1 tem uma conta? "),m(33,"a",17),y(34," Login "),g()()()(),Q(35,Vk,8,1,"div",18),F(36,"app-footer"),g()}e&2&&(E(16),ie("ngModel",r.name),E(4),ie("ngModel",r.email),E(4),ie("ngModel",r.password),E(4),ie("ngModel",r.passwordConfirm),E(),N("disabled",r.isSubmitting),E(),we(" ",r.isSubmitting?"Cadastrando...":"Cadastre-se"," "),E(5),N("ngIf",r.showModal))},dependencies:[Vr,bd,jr,os,_d,Ni,qa,Ne,vt,Ln,ys,Zt,Ye],styles:[".container[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;background:#dedfe0;font-family:Segoe UI,Roboto,sans-serif;padding:2em}.card[_ngcontent-%COMP%]{background:#fff;width:100%;max-width:600px;border-radius:16px;padding:2.5em 3em;box-shadow:0 4px 15px #0000001a,0 8px 30px #0000000d;transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 20px #0000001f,0 10px 35px #00000014}.welcome[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5em}.welcome[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#333;margin-bottom:.5em}.welcome[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2em;width:100%}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:#333;margin-bottom:0;align-self:flex-start}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.75em 1em;font-size:1rem;border:1px solid #ccc;border-radius:8px;outline:none;transition:border-color .2s,box-shadow .2s}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#f6c212;box-shadow:0 0 0 3px #f6c21233}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#00000080;transition:opacity .3s}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus::placeholder{opacity:0}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;cursor:pointer}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.9em;font-size:1rem;font-weight:600;color:#fff;background-color:#f6c212;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s,transform .1s}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e5b110}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.98)}@media (max-width: 480px){.card[_ngcontent-%COMP%]{padding:1.8em;max-width:90%}.welcome[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}}"]})};var Wi=()=>{let n=D(ge),t=D(he),e=n.currentUser();return e!==void 0?e?!0:t.createUrlTree(["/login"]):ye(n.supabase.auth.getSession()).pipe(V(({data:{session:r}})=>!!r),ke(r=>{r||t.navigate(["/login"])}))};var uf=class n{constructor(t,e){this.supabase=t;this.router=e}canActivate(){return h(this,null,function*(){let t=yield this.supabase.getUser();return t?(yield this.supabase.isAdmin(t.id))?!0:(this.router.navigate(["/home"]),!1):(this.router.navigate(["/login"]),!1)})}static \u0275fac=function(e){return new(e||n)(O(ge),O(he))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var Uk=(n,t,e)=>({"text-yellow-500":n,"text-green-600":t,"text-red-600":e});function Bk(n,t){if(n&1&&F(0,"img",15),n&2){let e=K().$implicit;N("src",e.banner_url,gt)}}function $k(n,t){if(n&1){let e=Ie();m(0,"div",7),Q(1,Bk,1,1,"img",8),m(2,"h3",9),y(3),g(),m(4,"p",10),y(5),g(),m(6,"div",11)(7,"p")(8,"strong"),y(9,"Categoria:"),g(),y(10),g(),m(11,"p")(12,"strong"),y(13,"Cidade:"),g(),y(14),g(),m(15,"p")(16,"strong"),y(17,"Data:"),g(),y(18),He(19,"date"),g(),m(20,"p")(21,"strong"),y(22,"Hor\xE1rio:"),g(),y(23),g()(),m(24,"div",12)(25,"button",13),$("click",function(){let i=X(e).$implicit,o=K();return ee(o.aprovar(i.id))}),y(26," Aprovar "),g(),m(27,"button",14),$("click",function(){let i=X(e).$implicit,o=K();return ee(o.excluir(i.id))}),y(28," Excluir "),g()()()}if(n&2){let e=t.$implicit;E(),N("ngIf",e.banner_url),E(2),we(" ",e.nome," "),E(2),we(" ",e.descricao," "),E(5),we(" ",e.categoria),E(4),Ze(" ",e.cidade," - ",e.estado),E(4),we(" ",mt(19,9,e.data,"dd/MM/yyyy")),E(5),Ze(" ",e.hora_inicio==null?null:e.hora_inicio.slice(0,5),"h \u2013 ",e.hora_fim==null?null:e.hora_fim.slice(0,5),"h ")}}function Hk(n,t){if(n&1){let e=Ie();m(0,"div",25)(1,"button",26),$("click",function(){X(e);let i=K().$implicit,o=K();return ee(o.approveDelete(i.id,i.event_id))}),y(2," Aprovar "),g(),m(3,"button",27),$("click",function(){X(e);let i=K().$implicit,o=K();return ee(o.rejectDelete(i.id))}),y(4," Recusar "),g()()}}function zk(n,t){if(n&1&&(m(0,"div",16)(1,"div",17),F(2,"img",18),m(3,"div")(4,"p",19),y(5),g(),m(6,"p",20),y(7),g(),m(8,"p",21),y(9),He(10,"date"),g(),m(11,"p",22),y(12," Status: "),m(13,"span",23),y(14),g()()()(),Q(15,Hk,5,0,"div",24),g()),n&2){let e=t.$implicit;E(2),N("src",e.event==null?null:e.event.banner_url,gt),E(3),ue(e.event==null?null:e.event.nome),E(2),we("Solicitado por: ",e.user==null?null:e.user.nome),E(2),we(" ",mt(10,7,e.created_at,"dd/MM/yyyy HH:mm")," "),E(4),N("ngClass",ig(10,Uk,e.status==="pending",e.status==="approved",e.status==="rejected")),E(),we(" ",e.status," "),E(),N("ngIf",e.status==="pending")}}var df=class n{constructor(t){this.supabase=t}pendentes=[];deletionRequests=[];ngOnInit(){return h(this,null,function*(){this.loadPendingEvents(),this.loadDeletionRequests()})}loadPendingEvents(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.getPendingEventsAdmin();e||(this.pendentes=t||[])})}aprovar(t){return h(this,null,function*(){yield this.supabase.approveEvent(t),this.loadPendingEvents()})}excluir(t){return h(this,null,function*(){yield this.supabase.deleteEvent(t),this.loadPendingEvents()})}loadDeletionRequests(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.getDeletionRequests();if(e||!t)return;let r=[];for(let i of t){let o=yield this.supabase.getEventById(i.event_id),s=yield this.supabase.getUserProfile(i.user_id);r.push(H(C({},i),{event:o.data,user:s.data}))}this.deletionRequests=r})}approveDelete(t,e){return h(this,null,function*(){yield this.supabase.approveDeletionRequest(t,e),this.loadDeletionRequests()})}rejectDelete(t){return h(this,null,function*(){yield this.supabase.rejectDeletionRequest(t),this.loadDeletionRequests()})}static \u0275fac=function(e){return new(e||n)(R(ge))};static \u0275cmp=ae({type:n,selectors:[["app-admin-panel"]],decls:11,vars:2,consts:[[1,"min-h-screen","bg-gray-50","py-10","px-6"],[1,"text-3xl","font-semibold","text-gray-900","mb-8","text-center"],[1,"max-w-5xl","mx-auto","grid","md:grid-cols-2","gap-8"],["class","bg-white shadow-md rounded-xl p-6 hover:shadow-lg transition border border-gray-200",4,"ngFor","ngForOf"],[1,"text-3xl","font-semibold","text-gray-900","my-10","text-center"],[1,"max-w-4xl","mx-auto","space-y-6"],["class","bg-white shadow p-5 rounded-xl border border-gray-200",4,"ngFor","ngForOf"],[1,"bg-white","shadow-md","rounded-xl","p-6","hover:shadow-lg","transition","border","border-gray-200"],["class","w-full h-40 object-cover rounded-lg mb-4",3,"src",4,"ngIf"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-700","text-sm","mt-2"],[1,"mt-4","text-sm","text-gray-600"],[1,"flex","gap-4","mt-6"],[1,"flex-1","bg-green-500","text-white","py-2","rounded-lg","font-semibold","hover:bg-green-600","transition",3,"click"],[1,"flex-1","bg-red-500","text-white","py-2","rounded-lg","font-semibold","hover:bg-red-600","transition",3,"click"],[1,"w-full","h-40","object-cover","rounded-lg","mb-4",3,"src"],[1,"bg-white","shadow","p-5","rounded-xl","border","border-gray-200"],[1,"flex","items-center","gap-4"],[1,"w-24","h-24","rounded","object-cover",3,"src"],[1,"text-lg","font-semibold"],[1,"text-gray-600"],[1,"text-sm","text-gray-400"],[1,"text-sm","font-bold","mt-1"],[3,"ngClass"],["class","mt-4 flex gap-3",4,"ngIf"],[1,"mt-4","flex","gap-3"],[1,"bg-green-500","text-white","px-4","py-2","rounded","hover:bg-green-600",3,"click"],[1,"bg-red-500","text-white","px-4","py-2","rounded","hover:bg-red-600",3,"click"]],template:function(e,r){e&1&&(F(0,"app-main-navbar"),m(1,"div",0)(2,"h2",1),y(3," Eventos pendentes de aprova\xE7\xE3o "),g(),m(4,"div",2),Q(5,$k,29,12,"div",3),g(),m(6,"h2",4),y(7," Solicita\xE7\xF5es de exclus\xE3o "),g(),m(8,"div",5),Q(9,zk,16,14,"div",6),g()(),F(10,"app-footer")),e&2&&(E(5),N("ngForOf",r.pendentes),E(4),N("ngForOf",r.deletionRequests))},dependencies:[Ne,Cg,Wt,vt,Ye,At,rr],encapsulation:2})};var qk=n=>["/eventos",n];function Gk(n,t){if(n&1&&(m(0,"div",4),F(1,"img",5),m(2,"div",6)(3,"h3",7),y(4),g(),m(5,"p",8),y(6),g(),m(7,"p",9),y(8),He(9,"date"),g(),m(10,"p",10),y(11),g()()()),n&2){let e=t.$implicit;N("routerLink",Ei(13,qk,e.id)),E(),N("alt",er(e.nome))("src",e.banner_url,gt),E(3),ue(e.nome),E(2),Ze("",e.cidade," - ",e.estado),E(2),ue(mt(9,10,e.data,"dd/MM/yyyy")),E(3),Ze("",e.hora_inicio," - ",e.hora_fim)}}var ff=class n{constructor(t){this.supabaseService=t}eventos=[];ngOnInit(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabaseService.getAllEvents();!e&&t&&(this.eventos=t.map(r=>this.ensureBannerUrl(r)))})}ensureBannerUrl(t){return t.banner_url&&!t.banner_url.startsWith("http")&&(t.banner_url=`https://ndivvhdlcbwbpukcguxo.supabase.co/storage/v1/object/public/event-banners/${t.banner_url}`),t}static \u0275fac=function(e){return new(e||n)(R(ge))};static \u0275cmp=ae({type:n,selectors:[["app-eventos"]],decls:7,vars:1,consts:[[1,"max-w-6xl","mx-auto","mt-10","px-6"],[1,"text-3xl","font-bold","mb-6"],[1,"grid","md:grid-cols-3","sm:grid-cols-2","grid-cols-1","gap-6"],["class","bg-white rounded-xl shadow hover:shadow-lg transition cursor-pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"bg-white","rounded-xl","shadow","hover:shadow-lg","transition","cursor-pointer",3,"routerLink"],[1,"h-40","w-full","object-cover","rounded-t-xl",3,"src","alt"],[1,"p-4"],[1,"font-semibold","text-lg"],[1,"text-sm","text-gray-600"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-gray-500"]],template:function(e,r){e&1&&(F(0,"app-main-navbar"),m(1,"div",0)(2,"h2",1),y(3,"Todos os eventos"),g(),m(4,"div",2),Q(5,Gk,12,15,"div",3),g()(),F(6,"app-footer")),e&2&&(E(5),N("ngForOf",r.eventos))},dependencies:[Ne,Wt,At,Ye,La,Zt,rr],encapsulation:2})};function Wk(n,t){n&1&&(m(0,"button",22),y(1," \u2714 Inscrito "),g())}function Kk(n,t){n&1&&(m(0,"button",23),y(1," Inscrevendo... "),g())}function Zk(n,t){if(n&1){let e=Ie();m(0,"button",24),$("click",function(){X(e);let i=K(2);return ee(i.subscribe())}),y(1," Inscrever-se "),g()}}function Jk(n,t){if(n&1&&(m(0,"div",1)(1,"section",2),F(2,"img",3),m(3,"div",4)(4,"h1",5),y(5),g(),m(6,"p",6)(7,"span"),y(8),He(9,"date"),g(),m(10,"span"),y(11,"\u2022"),g(),m(12,"span"),y(13),g()(),m(14,"p",7),y(15),g(),m(16,"p",8),y(17),g(),m(18,"div",9),Q(19,Wk,2,0,"button",10)(20,Kk,2,0,"button",11)(21,Zk,2,0,"button",12),g()()(),m(22,"section",13)(23,"h2",14),y(24,"Sobre o Evento"),g(),m(25,"p",15),y(26),g()(),m(27,"section",16)(28,"div",17)(29,"h2",18),y(30,"Perguntas frequentes"),g(),m(31,"div",19)(32,"p",20)(33,"span",21),y(34,"+"),g(),y(35," O evento fornecer\xE1 certificado? "),g(),m(36,"p",20)(37,"span",21),y(38,"+"),g(),y(39," As palestras ser\xE3o gravadas para assistir depois? "),g(),m(40,"p",20)(41,"span",21),y(42,"+"),g(),y(43," Como fa\xE7o para submeter meu trabalho cient\xEDfico? "),g()()()()()),n&2){let e=K();E(2),N("alt",er(e.event.nome))("src",e.event.banner_url,gt),E(3),ue(e.event.nome),E(3),ue(mt(9,14,e.event.data,"dd/MM/yyyy")),E(5),Ze("",e.event.hora_inicio," - ",e.event.hora_fim),E(2),Ze(" \u{1F4CD} ",e.event.cidade," - ",e.event.estado," "),E(2),we(" \u{1F4B0} ",e.event.preco?e.event.preco:"Gratuito"," "),E(2),N("ngIf",e.isSubscribed&&!e.loadingSubscription),E(),N("ngIf",e.loadingSubscription),E(),N("ngIf",!e.isSubscribed&&!e.loadingSubscription),E(5),we(" ",e.event.descricao," ")}}var hf=class n{constructor(t,e){this.route=t;this.supabaseService=e}event=null;user=null;isSubscribed=!1;loadingSubscription=!1;ngOnInit(){return h(this,null,function*(){let t=this.route.snapshot.paramMap.get("id");if(!t)return;this.user=this.supabaseService.currentUser();let{data:e,error:r}=yield this.supabaseService.getEventById(t);!r&&e&&(this.event=this.ensureBannerUrl(e)),this.user&&(this.isSubscribed=yield this.supabaseService.isUserSubscribed(t,this.user.id))})}ensureBannerUrl(t){return t.banner_url&&!t.banner_url.startsWith("http")&&(t.banner_url=`https://ndivvhdlcbwbpukcguxo.supabase.co/storage/v1/object/public/event-banners/${t.banner_url}`),t}subscribe(){return h(this,null,function*(){if(!(!this.user||!this.event)){this.loadingSubscription=!0;try{let{error:t}=yield this.supabaseService.subscribeToEvent(this.event.id,this.user.id);t?console.error("Erro ao se inscrever:",t):this.isSubscribed=!0}catch(t){console.error(t)}finally{this.loadingSubscription=!1}}})}static \u0275fac=function(e){return new(e||n)(R(xt),R(ge))};static \u0275cmp=ae({type:n,selectors:[["app-event-details"]],decls:3,vars:1,consts:[["class","flex flex-col items-center bg-gray-100 min-h-screen py-10",4,"ngIf"],[1,"flex","flex-col","items-center","bg-gray-100","min-h-screen","py-10"],[1,"w-full","max-w-4xl","rounded-xl","overflow-hidden","shadow-lg","bg-white"],[1,"w-full","h-64","object-cover",3,"src","alt"],[1,"p-6"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-3","flex","items-center","gap-3"],[1,"text-gray-700","mt-2","flex","items-center","gap-2"],[1,"text-gray-700","mt-1"],[1,"mt-4","flex","justify-center","gap-4"],["class","bg-green-500 text-white font-semibold px-12 py-2 rounded-lg cursor-default",4,"ngIf"],["class","bg-gray-400 text-white font-semibold px-12 py-2 rounded-lg cursor-wait",4,"ngIf"],["class","bg-yellow-400 text-black font-semibold px-12 py-2 rounded-lg hover:bg-yellow-500 transition",3,"click",4,"ngIf"],[1,"w-full","max-w-4xl","bg-white","p-6","rounded-xl","shadow","mt-10"],[1,"text-xl","font-bold","mb-3"],[1,"text-gray-700","leading-relaxed"],[1,"mt-10"],[1,"bg-white","rounded-xl","shadow-md","p-6"],[1,"text-2x6","font-semibold","text-center","mb-6"],[1,"space-y-3"],[1,"flex","items-start","gap-2","text-gray-700"],[1,"font-bold","text-lg"],[1,"bg-green-500","text-white","font-semibold","px-12","py-2","rounded-lg","cursor-default"],[1,"bg-gray-400","text-white","font-semibold","px-12","py-2","rounded-lg","cursor-wait"],[1,"bg-yellow-400","text-black","font-semibold","px-12","py-2","rounded-lg","hover:bg-yellow-500","transition",3,"click"]],template:function(e,r){e&1&&(F(0,"app-main-navbar"),Q(1,Jk,44,17,"div",0),F(2,"app-footer")),e&2&&(E(),N("ngIf",r.event))},dependencies:[Ne,vt,At,Ye,rr],encapsulation:2})};function Yk(n,t){if(n&1){let e=Ie();m(0,"button",6),$("click",function(){let i=X(e).$implicit,o=K();return ee(o.selectCourse(i))}),y(1),g()}if(n&2){let e=t.$implicit,r=K();bi("bg-yellow-400",r.selectedCourse===e),E(),we(" ",e," ")}}var pf=class n{supabase=D(ge);router=D(he);courses=["Sistemas para Internet","Engenharia Mecatr\xF4nica","Engenharia Mec\xE2nica","Engenharia Civil","N\xE3o tenho curso"];selectedCourse="";selectCourse(t){this.selectedCourse=t}save(){return h(this,null,function*(){let{data:t}=yield this.supabase.supabase.auth.getUser(),e=t?.user;e&&(yield this.supabase.supabase.from("profiles").update({curso:this.selectedCourse}).eq("id",e.id),this.router.navigate(["/home"]))})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ae({type:n,selectors:[["app-select-course"]],decls:9,vars:2,consts:[[1,"max-w-lg","mx-auto","mt-20","p-5","bg-white","shadow","rounded-xl","text-center"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-gray-600","mb-6"],[1,"grid","grid-cols-1","gap-3"],["class","p-3 rounded-lg border hover:bg-gray-100 transition",3,"bg-yellow-400","click",4,"ngFor","ngForOf"],[1,"mt-6","bg-yellow-500","text-black","px-6","py-2","rounded-lg","disabled:opacity-40",3,"click","disabled"],[1,"p-3","rounded-lg","border","hover:bg-gray-100","transition",3,"click"]],template:function(e,r){e&1&&(m(0,"div",0)(1,"h1",1),y(2,"Selecione seu curso"),g(),m(3,"p",2),y(4,"Isso vai ajudar a recomendar eventos para voc\xEA \u{1F642}"),g(),m(5,"div",3),Q(6,Yk,2,3,"button",4),g(),m(7,"button",5),$("click",function(){return r.save()}),y(8," Continuar "),g()()),e&2&&(E(6),N("ngForOf",r.courses),E(),N("disabled",!r.selectedCourse))},dependencies:[Ne,Wt],encapsulation:2})};var gf=class n{constructor(t){this.supabaseService=t}createEvent(t){return h(this,null,function*(){return yield this.supabaseService.supabase.from("events").insert(t)})}getAllEvents(){return h(this,null,function*(){return yield this.supabaseService.supabase.from("events").select("*").order("criado_em",{ascending:!1})})}getEventById(t){return h(this,null,function*(){return yield this.supabaseService.supabase.from("events").select("*").eq("id",t).single()})}updateEvent(t,e){return h(this,null,function*(){return yield this.supabaseService.supabase.from("events").update(e).eq("id",t)})}deleteEvent(t){return h(this,null,function*(){return yield this.supabaseService.supabase.from("events").delete().eq("id",t)})}static \u0275fac=function(e){return new(e||n)(O(ge))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};function Xk(n,t){n&1&&(m(0,"div",9),y(1," Carregando eventos... "),g())}function e1(n,t){n&1&&(m(0,"div",10),y(1," Fa\xE7a login para gerenciar seus eventos. "),g())}function t1(n,t){n&1&&(m(0,"div",9),y(1," Nenhum evento cadastrado. "),g())}function n1(n,t){if(n&1){let e=Ie();Qn(0),m(1,"app-button",4),$("click",function(){X(e);let i=K().$implicit,o=K(2);return ee(o.openEditPage(i.id))}),y(2,"Editar"),g(),m(3,"app-button",20),$("click",function(){X(e);let i=K().$implicit,o=K(2);return ee(o.confirmDelete(i.id))}),y(4,"Excluir"),g(),Xn()}}function r1(n,t){if(n&1&&(m(0,"tr",17)(1,"td",14),y(2),g(),m(3,"td",14),y(4),g(),m(5,"td",14),y(6),g(),m(7,"td",18),Q(8,n1,5,0,"ng-container",19),g()()),n&2){let e=t.$implicit,r=K(2);E(2),ue(e.nome),E(2),ue(e.categoria),E(2),ue(e.data),E(2),N("ngIf",e.criado_por===r.currentUserId)}}function i1(n,t){if(n&1&&(m(0,"div",11)(1,"table",12)(2,"thead")(3,"tr",13)(4,"th",14),y(5,"Nome"),g(),m(6,"th",14),y(7,"Categoria"),g(),m(8,"th",14),y(9,"Data"),g(),m(10,"th",14),y(11,"A\xE7\xF5es"),g()()(),m(12,"tbody",15),Q(13,r1,9,4,"tr",16),g()()()),n&2){let e=K();E(13),N("ngForOf",e.events)}}function o1(n,t){n&1&&(pt(),m(0,"svg",32),F(1,"path",33),g())}function s1(n,t){n&1&&(pt(),m(0,"svg",34),F(1,"path",35),g())}function a1(n,t){if(n&1){let e=Ie();m(0,"div",36)(1,"app-button",4),$("click",function(){X(e);let i=K(2);return ee(i.closeModal())}),y(2,"Cancelar"),g(),m(3,"app-button",4),$("click",function(){X(e);let i=K(2);return ee(i.deleteEvent())}),y(4,"Confirmar Exclus\xE3o"),g()()}}function c1(n,t){if(n&1){let e=Ie();m(0,"div",21)(1,"div",22),$("click",function(){X(e);let i=K();return ee(i.closeModal())}),g(),m(2,"div",23)(3,"div",24)(4,"div"),Q(5,o1,2,0,"svg",25)(6,s1,2,0,"svg",26),g(),m(7,"div",27)(8,"h3",28),y(9),g(),m(10,"p",29),y(11),g()(),m(12,"button",30),$("click",function(){X(e);let i=K();return ee(i.closeModal())}),y(13,"\u2715"),g()(),Q(14,a1,5,0,"div",31),g()()}if(n&2){let e=K();E(5),N("ngIf",e.modalType==="success"),E(),N("ngIf",e.modalType==="error"),E(3),ue(e.modalType==="success"?"Sucesso":"Erro"),E(2),ue(e.modalMessage),E(3),N("ngIf",e.eventToDeleteId)}}var mf=class n{constructor(t,e,r){this.eventService=t;this.router=e;this.supabaseService=r}events=[];loading=!0;currentUserId=null;showModal=!1;modalType="success";modalMessage="";eventToDeleteId=null;ngOnInit(){return h(this,null,function*(){let t=yield this.supabaseService.getUser();this.currentUserId=t?.id??null,yield this.loadEvents()})}loadEvents(){return h(this,null,function*(){if(!this.currentUserId){this.loading=!1,this.openModal("error","Usu\xE1rio n\xE3o autenticado.");return}this.loading=!0;let{data:t,error:e}=yield this.supabaseService.getEventsByCreator(this.currentUserId);e?(console.error("Erro ao carregar eventos:",e),this.openModal("error","Erro ao carregar eventos.")):this.events=t||[],this.loading=!1})}openCreatePage(){this.router.navigate(["/event-form"])}openEditPage(t){this.router.navigate(["/event-form"],{queryParams:{id:t}})}confirmDelete(t){this.eventToDeleteId=t,this.openModal("success","Tem certeza que deseja excluir este evento? Esta a\xE7\xE3o n\xE3o pode ser desfeita.",!0)}deleteEvent(){return h(this,null,function*(){let t=this.eventToDeleteId;if(!t){this.openModal("error","Erro interno: ID do evento para exclus\xE3o n\xE3o foi capturado.");return}this.closeModal(),this.loading=!0;let{error:e}=yield this.supabaseService.deleteEvent(t);e?this.openModal("error","Erro ao deletar o evento: "+e.message):(this.events=this.events.filter(r=>r.id!==t),this.openModal("success","Evento exclu\xEDdo com sucesso!")),this.loading=!1,this.eventToDeleteId=null})}openModal(t,e,r=!1){this.modalType=t,this.modalMessage=e,this.showModal=!0}closeModal(){this.showModal=!1}static \u0275fac=function(e){return new(e||n)(R(gf),R(he),R(ge))};static \u0275cmp=ae({type:n,selectors:[["app-event-crud"]],decls:14,vars:5,consts:[[1,"min-h-screen","bg-gray-50","flex","flex-col","items-center","py-10"],[1,"max-w-6xl","w-full","bg-white","p-6","rounded-2xl","shadow","overflow-x-auto"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","mb-6","gap-4"],[1,"text-2xl","font-semibold","text-center","sm:text-left"],["color","primary-yellow",3,"click"],["class","text-center py-10 text-gray-500",4,"ngIf"],["class","text-center py-10 text-red-500 font-medium",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center",4,"ngIf"],[1,"text-center","py-10","text-gray-500"],[1,"text-center","py-10","text-red-500","font-medium"],[1,"overflow-x-auto"],[1,"w-full","text-left","table-auto","text-sm","border-collapse"],[1,"border-b","font-medium","bg-gray-100"],[1,"p-2"],[1,"divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50"],[1,"p-2","flex","flex-wrap","gap-2"],[4,"ngIf"],["color","danger",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center"],[1,"absolute","inset-0","bg-black/50","backdrop-blur-sm",3,"click"],[1,"relative","bg-white","rounded-xl","shadow-xl","p-6","w-full","max-w-sm","sm:max-w-md","mx-4","z-50"],[1,"flex","items-start","gap-4"],["class","w-8 h-8 text-green-500","fill","none","viewBox","0 0 24 24",4,"ngIf"],["class","w-8 h-8 text-red-500","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"flex-1"],[1,"text-lg","font-semibold"],[1,"mt-1","text-gray-700"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["class","mt-4 flex justify-end gap-2",4,"ngIf"],["fill","none","viewBox","0 0 24 24",1,"w-8","h-8","text-green-500"],["d","M5 13l4 4L19 7","stroke","currentColor","stroke-width","2"],["fill","none","viewBox","0 0 24 24",1,"w-8","h-8","text-red-500"],["d","M6 18L18 6M6 6l12 12","stroke","currentColor","stroke-width","2"],[1,"mt-4","flex","justify-end","gap-2"]],template:function(e,r){e&1&&(F(0,"app-main-navbar"),m(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),y(5,"Gerenciar Eventos"),g(),m(6,"app-button",4),$("click",function(){return r.openCreatePage()}),y(7,"+ Novo Evento"),g()(),Q(8,Xk,2,0,"div",5)(9,e1,2,0,"div",6)(10,t1,2,0,"div",5)(11,i1,14,1,"div",7),g(),Q(12,c1,15,5,"div",8),g(),F(13,"app-footer")),e&2&&(E(8),N("ngIf",r.loading),E(),N("ngIf",!r.currentUserId),E(),N("ngIf",!r.loading&&r.events.length===0&&r.currentUserId),E(),N("ngIf",r.events.length>0),E(),N("ngIf",r.showModal))},dependencies:[Ne,Wt,vt,At,Ye,Ln],encapsulation:2})};var mC=[{path:"home",component:hc,canActivate:[Wi]},{path:"event-form",component:af,canActivate:[Wi]},{path:"eventos",component:ff,canActivate:[Wi]},{path:"eventos/:id",component:hf,canActivate:[Wi]},{path:"admin-panel",component:df,canActivate:[Wi,uf]},{path:"selecionar-curso",component:pf,canActivate:[Wi]},{path:"event-crud",component:mf},{path:"home",component:hc},{path:"login",component:cf},{path:"register",component:lf},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",redirectTo:"home"}];function l1(n){let t=n,e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===Math.floor(e)&&e>=0&&e<=1?1:i===0&&e!==0&&e%1e6===0&&r===0||!(i>=0&&i<=5)?4:5}var vC=["pt",[["AM","PM"]],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",l1];ib(vC);Lg(ld,{providers:[{provide:Di,useValue:"pt"},_m(mC),zg(qg()),ll(Vr)]}).catch(n=>console.error(n));
